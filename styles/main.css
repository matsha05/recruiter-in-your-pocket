@import url("./tokens.css");

/* ===========================================
   VISUAL POLISH (Batch 2)
   =========================================== */

/* Custom selection color - brand accent */
::selection {
  background: var(--accent-wash);
  color: var(--text-main);
}

::-moz-selection {
  background: var(--accent-wash);
  color: var(--text-main);
}

/* Custom scrollbar - thin and brand-tinted */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--surface-tint);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--border-strong);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent);
}

/* Smooth scrolling for anchor links */
html {
  scroll-behavior: smooth;
}

/* Dark mode specific overrides for gradients and rgba values */
[data-theme="dark"] .page {
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: var(--shadow-soft), 0 0 0 1px rgba(255, 255, 255, 0.03);
}

[data-theme="dark"] .status-dot {
  box-shadow: 0 0 0 5px rgba(34, 197, 94, 0.2);
}

[data-theme="dark"] .hero::before {
  background: radial-gradient(circle at 20% 20%, rgba(91, 111, 216, 0.08), transparent 30%),
    radial-gradient(circle at 80% 10%, rgba(107, 127, 232, 0.06), transparent 26%);
}

[data-theme="dark"] .hero::after {
  background: linear-gradient(180deg,
      rgba(91, 111, 216, 0.12) 0%,
      rgba(91, 111, 216, 0.08) 50%,
      transparent 100%);
}

[data-theme="dark"] .card-input {
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: linear-gradient(165deg, #25272D 0%, #1E2025 100%);
}

[data-theme="dark"] .card-input:hover {
  box-shadow: 0 24px 55px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .run-row::before {
  background: radial-gradient(circle at 50% 30%, rgba(91, 111, 216, 0.1), transparent 55%);
}

[data-theme="dark"] .btn-primary:disabled {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .btn-primary:disabled:hover {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .btn-secondary {
  border: 1px solid rgba(91, 111, 216, 0.5);
  box-shadow: 0 4px 10px rgba(91, 111, 216, 0.2);
}

[data-theme="dark"] .paywall-backdrop {
  background: rgba(0, 0, 0, 0.6);
}

[data-theme="dark"] .paywall-card {
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .score-tooltip.open {
  box-shadow: 0 18px 44px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] textarea {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) inset;
}

[data-theme="dark"] .card-input:hover {
  box-shadow: 0 24px 55px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .card-output {
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] #loading-bar.active {
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] #results-body {
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .results-summary {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .proof-editorial {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .accent-card-primary {
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.3);
}

@media (max-width: 768px) {
  [data-theme="dark"] .results-top {
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.3);
  }
}

/* ===========================================
   NEW DESIGN SYSTEM COMPONENTS
   =========================================== */

/* Motion keyframes */
@keyframes score-in {
  from {
    opacity: 0;
    transform: translateY(4px) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* --- BUTTONS --- */

.btn-primary {
  background: var(--brand);
  color: #FFFFFF;
  border: none;
  border-radius: var(--radius-pill);
  padding: 0.6rem 1.4rem;
  font-size: var(--fs-body);
  font-weight: 600;
  font-family: var(--font-body);
  box-shadow: 0 14px 30px rgba(79, 70, 229, 0.25);
  cursor: pointer;
  transition:
    background 160ms var(--ease-smooth),
    transform 160ms var(--ease-smooth),
    box-shadow 160ms var(--ease-smooth);
}

.btn-primary:hover {
  background: var(--brand-strong);
  transform: translateY(-1px);
  box-shadow: 0 18px 40px rgba(79, 70, 229, 0.32);
}

.btn-primary:active {
  transform: translateY(0);
  box-shadow: 0 8px 16px rgba(79, 70, 229, 0.2);
}

.btn-primary:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow), 0 14px 30px rgba(79, 70, 229, 0.25);
}

.btn-secondary {
  background: var(--bg-card);
  color: var(--text-primary);
  border-radius: var(--radius-pill);
  border: 1px solid var(--border-subtle);
  padding: 0.55rem 1.2rem;
  font-size: var(--fs-body);
  font-weight: 500;
  font-family: var(--font-body);
  cursor: pointer;
  transition:
    background 140ms var(--ease-smooth),
    border-color 140ms var(--ease-smooth);
}

.btn-secondary:hover {
  background: var(--bg-card-alt);
  border-color: rgba(148, 163, 184, 0.8);
}

.btn-secondary:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.btn-ghost {
  background: transparent;
  color: var(--text-secondary);
  border: none;
  border-radius: var(--radius-pill);
  padding: 0.4rem 0.8rem;
  font-size: var(--fs-body);
  font-family: var(--font-body);
  cursor: pointer;
  transition:
    background 140ms var(--ease-smooth),
    color 140ms var(--ease-smooth);
}

.btn-ghost:hover {
  background: var(--bg-card-alt);
  color: var(--text-primary);
}

/* --- REPORT COMPONENTS --- */

.report-score-card {
  background: var(--bg-card);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-card);
  padding: 1.6rem 1.8rem;
}

.score-main {
  font-size: clamp(3rem, 5vw, 3.5rem);
  font-weight: 700;
  color: var(--status-success);
  animation: score-in 220ms var(--ease-smooth) 40ms both;
}

/* Score range legend */
.score-range {
  font-size: 0.8rem;
}

.score-range--excellent {
  color: var(--status-success);
}

.score-range--good {
  color: var(--status-success);
  opacity: 0.8;
}

.score-range--needs-work {
  color: var(--status-warning);
}

.score-range--risk {
  color: var(--status-danger);
}

/* Subscore pills */
.score-pill {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  border-radius: var(--radius-pill);
  padding: 0.35rem 0.85rem;
  font-size: 0.8rem;
  background: var(--bg-card-alt);
  color: var(--text-primary);
}

.score-pill__value {
  font-weight: 600;
}

/* What is working / What is missing cards */
.card-positive {
  position: relative;
  background: var(--bg-card);
  border-radius: 16px;
  padding: 1.1rem 1.2rem 1.1rem 1.4rem;
  border-left: 4px solid var(--status-success);
}

.card-attention {
  position: relative;
  background: var(--bg-card);
  border-radius: 16px;
  padding: 1.1rem 1.2rem 1.1rem 1.4rem;
  border-left: 4px solid var(--accent-warm);
}

/* Top fixes rows */
.fix-row {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
  padding: 0.8rem 0.9rem;
  border-radius: 12px;
  background: transparent;
  transition: background 140ms var(--ease-smooth);
}

.fix-row:hover {
  background: var(--bg-card-alt);
}

/* Impact badges */
.badge-impact-high {
  background: rgba(47, 127, 95, 0.08);
  color: var(--status-success);
  border-radius: var(--radius-pill);
  padding: 0.1rem 0.55rem;
  font-size: 0.7rem;
  font-weight: 600;
}

[data-theme="dark"] .badge-impact-high {
  background: rgba(74, 222, 128, 0.12);
}

.badge-impact-medium {
  background: rgba(245, 178, 92, 0.08);
  color: var(--accent-warm);
  border-radius: var(--radius-pill);
  padding: 0.1rem 0.55rem;
  font-size: 0.7rem;
  font-weight: 600;
}

[data-theme="dark"] .badge-impact-medium {
  background: rgba(251, 191, 119, 0.12);
}

.badge-effort {
  background: var(--surface-tint);
  color: var(--text-secondary);
  border-radius: var(--radius-pill);
  padding: 0.1rem 0.55rem;
  font-size: 0.7rem;
  font-weight: 500;
}

[data-theme="dark"] .badge-effort {
  background: rgba(255, 255, 255, 0.08);
}

/* --- NAVIGATION TABS --- */

.tablist {
  display: inline-flex;
  gap: 0.4rem;
  border-bottom: 1px solid var(--border-subtle);
}

.tab {
  position: relative;
  padding: 0.45rem 0.85rem;
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--text-secondary);
  border-radius: var(--radius-pill);
  cursor: pointer;
  background: transparent;
  border: none;
  font-family: var(--font-body);
  transition:
    color 140ms var(--ease-smooth),
    background 140ms var(--ease-smooth);
}

.tab:hover {
  background: rgba(148, 163, 184, 0.14);
}

.tab--active {
  color: var(--text-primary);
  background: var(--bg-card-alt);
}

.tab--active::after {
  content: "";
  position: absolute;
  left: 18%;
  right: 18%;
  bottom: -0.4rem;
  height: 2px;
  background: var(--brand);
  border-radius: 999px;
}

/* --- ALERTS --- */

.alert-soft {
  display: flex;
  gap: 0.5rem;
  align-items: flex-start;
  border-radius: 12px;
  padding: 0.75rem 0.9rem;
  border: 1px solid rgba(245, 178, 92, 0.4);
  background: rgba(245, 178, 92, 0.08);
  color: var(--text-primary);
}

[data-theme="dark"] .alert-soft {
  border-color: rgba(251, 191, 36, 0.45);
  background: rgba(251, 191, 36, 0.12);
}

/* --- PRICING BADGES --- */

.badge-flag {
  display: inline-flex;
  align-items: center;
  border-radius: var(--radius-pill);
  padding: 0.15rem 0.7rem;
  font-size: 0.75rem;
  font-weight: 600;
  background: rgba(245, 178, 92, 0.12);
  color: var(--accent-warm);
}

[data-theme="dark"] .badge-flag {
  background: rgba(251, 191, 119, 0.16);
}

/* --- MUTED SECTION BACKGROUND --- */

.section-muted {
  background: var(--bg-section-muted);
}

/* ===========================================
   END NEW DESIGN SYSTEM COMPONENTS
   =========================================== */

/* Hide the legacy tool-layout - resume input is now handled in workspace */
.tool-layout {
  display: none !important;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--font-body);
}

/* Base type: Manrope 15px / 1.7 for body text */
body {
  min-height: 100vh;
  background: var(--bg-body);
  color: var(--text-primary);
  display: flex;
  justify-content: center;
  padding: var(--space-2xl) var(--space-lg) 42px;
  font-size: var(--fs-body);
  line-height: var(--lh-normal);
}

/* Global link defaults */
a {
  color: var(--text-link);
  text-decoration: none;
  transition: color 140ms var(--ease-smooth);
}

a:hover {
  text-decoration: underline;
  color: var(--brand-strong);
}

.page {
  width: 100%;
  max-width: 1200px;
  border-radius: var(--radius-card);
  border: 1px solid rgba(12, 17, 32, 0.06);
  background: var(--bg-panel);
  box-shadow: var(--shadow-soft), 0 0 0 1px rgba(15, 23, 42, 0.02);
  padding: var(--space-2xl);
  position: relative;
}

.page-inner {
  position: relative;
  z-index: 1;
}

@media (max-width: 768px) {
  .page {
    padding: var(--space-md-alt) var(--space-md-alt) var(--space-lg-alt) var(--space-md-alt);
    border-radius: var(--radius-3xl);
  }

  .tool-layout {
    gap: var(--space-md-lg);
  }

  .card {
    padding: var(--space-md-lg);
  }

  .hero {
    margin-bottom: var(--space-md-alt);
    padding: var(--space-md-lg) var(--space-md-lg) var(--space-sm);
  }

  .hero-title {
    font-size: var(--fs-h1);
  }

  .hero-subtitle {
    font-size: var(--fs-label);
    line-height: var(--lh-custom);
  }

  .proof-editorial {
    margin-top: var(--space-xl-alt);
    margin-bottom: var(--space-xl-alt);
    padding: var(--space-md-alt) var(--space-md-lg);
  }

  .proof-editorial-heading {
    font-size: var(--fs-label);
    margin-bottom: var(--space-sm-alt);
  }

  .proof-editorial-quote {
    font-size: var(--fs-xs);
    margin-bottom: var(--space-sm);
  }
}

/* Top bar */

.top-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-md-alt);
  gap: var(--space-sm-alt);
  padding: var(--space-xxs) 0 var(--space-md-alt);
}

.brand {
  display: inline-flex;
  align-items: baseline;
  gap: var(--space-sm);
}

.brand-wordmark {
  font-family: var(--font-display);
  font-size: var(--fs-lg);
  letter-spacing: -0.03em;
  font-weight: 800;
  color: var(--text-main);
  text-transform: none;
  line-height: var(--lh-very-tight);
}

.version-pill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-tight);
  padding: var(--space-xxs) var(--space-sm);
  border-radius: var(--radius-xs);
  border: 1px solid var(--border-subtle);
  background: var(--bg-panel);
  font-size: var(--fs-xs);
  color: var(--text-muted);
  letter-spacing: 0.01em;
  text-transform: none;
  box-shadow: none;
}

.trust-inline {
  margin-top: var(--space-sm);
  font-size: var(--fs-xs);
  color: var(--text-soft);
  display: inline-flex;
  align-items: center;
  gap: var(--space-tight);
}

.trust-inline button {
  border: none;
  background: transparent;
  color: var(--accent-boost);
  cursor: pointer;
  font-size: var(--fs-xs);
  padding: 0;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.trust-inline button:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
  border-radius: var(--radius-xs);
}

.status-dot {
  width: var(--icon-size-sm);
  height: var(--icon-size-sm);
  border-radius: var(--radius-pill);
  background: var(--success);
  box-shadow: 0 0 0 5px rgba(21, 128, 61, 0.12);
}

.theme-toggle {
  border: none;
  background: transparent;
  color: var(--text-soft);
  font-size: var(--fs-lg);
  cursor: pointer;
  padding: var(--space-xxs) var(--space-sm);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
  transition: color var(--motion-duration-short) var(--motion-ease-premium), background var(--motion-duration-short) var(--motion-ease-premium), transform var(--motion-duration-short) var(--motion-ease-premium);
  line-height: 1;
  min-width: 32px;
  min-height: 32px;
}

.theme-toggle:hover {
  color: var(--accent);
  background: var(--accent-wash);
}

.theme-toggle:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.theme-toggle-icon {
  display: inline-block;
  transition: transform var(--motion-duration-short) var(--motion-ease-premium);
}

[data-theme="dark"] .theme-toggle-icon {
  transform: rotate(180deg);
}

@media (max-width: 600px) {
  .top-bar {
    flex-direction: column;
    align-items: flex-start;
  }

  .theme-toggle {
    margin-top: var(--space-xs);
  }
}

/* Header Auth Controls */

.header-actions {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.header-btn {
  padding: var(--space-xs) var(--space-md);
  font-size: var(--fs-small);
  font-weight: 600;
  border-radius: var(--radius-sm);
  border: none;
  cursor: pointer;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.sign-in-btn {
  background: var(--accent);
  color: white;
  box-shadow: var(--shadow-button);
}

.sign-in-btn:hover {
  background: var(--accent-dark);
  box-shadow: var(--shadow-button-hover);
  transform: translateY(-1px);
}

.auth-skeleton {
  width: 80px;
  height: 32px;
  background: linear-gradient(90deg, var(--wash) 25%, var(--surface-tint) 50%, var(--wash) 75%);
  background-size: 200% 100%;
  animation: skeletonShimmer 1.5s infinite;
  border-radius: var(--radius-sm);
}

@keyframes skeletonShimmer {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

.pass-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
  padding: var(--space-xxs) var(--space-sm);
  background: linear-gradient(135deg, var(--success) 0%, var(--success-dark) 100%);
  color: white;
  font-size: var(--fs-xs);
  font-weight: 600;
  border-radius: var(--radius-pill);
  box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3);
}

.pass-badge-icon {
  font-size: var(--fs-small);
}

.pass-badge-time {
  letter-spacing: 0.02em;
}

.user-dropdown {
  position: relative;
}

.user-dropdown-btn {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: var(--space-xxs) var(--space-sm);
  background: var(--wash);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-pill);
  cursor: pointer;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.user-dropdown-btn:hover {
  background: var(--surface-tint);
  border-color: var(--border-strong);
}

.user-avatar {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--accent);
  color: white;
  font-size: var(--fs-xs);
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  text-transform: uppercase;
}

.user-email-display {
  font-size: var(--fs-small);
  color: var(--text-soft);
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.dropdown-arrow {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  transition: transform var(--motion-duration-short) var(--motion-ease-premium);
}

.user-dropdown.open .dropdown-arrow {
  transform: rotate(180deg);
}

.user-dropdown-menu {
  position: absolute;
  top: calc(100% + var(--space-xs));
  right: 0;
  min-width: 200px;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-card);
  padding: var(--space-xs);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-8px);
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
  z-index: 100;
}

.user-dropdown.open .user-dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.dropdown-item {
  padding: var(--space-sm) var(--space-md);
  font-size: var(--fs-small);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background var(--motion-duration-short);
}

.dropdown-email {
  color: var(--text-soft);
  font-weight: 500;
  cursor: default;
}

.dropdown-pass-info {
  color: var(--success);
  font-weight: 600;
  font-size: var(--fs-xs);
}

.dropdown-divider {
  height: 1px;
  background: var(--border-subtle);
  margin: var(--space-xs) 0;
}

.dropdown-link {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  text-decoration: none;
  color: var(--text-main);
}

.dropdown-link:hover {
  background: var(--wash);
}

.dropdown-icon {
  width: 16px;
  height: 16px;
  color: var(--text-muted);
  flex-shrink: 0;
}

.dropdown-link:hover .dropdown-icon {
  color: var(--accent);
}

.dropdown-upgrade {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  text-decoration: none;
  color: var(--accent);
  font-weight: 600;
}

.dropdown-upgrade .dropdown-icon {
  color: var(--accent);
}

.sign-out-btn {
  width: 100%;
  text-align: left;
  background: none;
  border: none;
  color: var(--text-main);
  font-weight: 500;
}

.sign-out-btn:hover {
  background: var(--wash);
  color: var(--error);
}

/* Sign-in Modal */
.auth-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.auth-modal-backdrop.open {
  opacity: 1;
  visibility: visible;
}

.auth-modal {
  background: var(--bg-card);
  border-radius: var(--radius-card);
  padding: var(--space-xl);
  max-width: 400px;
  width: 90%;
  box-shadow: var(--shadow-modal);
  transform: scale(0.95) translateY(10px);
  transition: transform var(--motion-duration-short) var(--motion-ease-premium);
}

.auth-modal-backdrop.open .auth-modal {
  transform: scale(1) translateY(0);
}

.auth-modal-title {
  font-family: var(--font-display);
  font-size: var(--fs-xl);
  font-weight: 700;
  color: var(--text-main);
  margin-bottom: var(--space-md);
  text-align: center;
}

.auth-modal-subtitle {
  font-size: var(--fs-small);
  color: var(--text-soft);
  text-align: center;
  margin-bottom: var(--space-lg);
}

.auth-input-group {
  margin-bottom: var(--space-md);
}

.auth-input-label {
  display: block;
  font-size: var(--fs-small);
  font-weight: 600;
  color: var(--text-soft);
  margin-bottom: var(--space-xs);
}

.auth-input {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  font-size: var(--fs-body);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  background: var(--bg-panel);
  color: var(--text-main);
  transition: border-color var(--motion-duration-short);
}

.auth-input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-soft);
}

.auth-btn {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  font-size: var(--fs-body);
  font-weight: 600;
  background: var(--accent);
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
  margin-top: var(--space-sm);
}

.auth-btn:hover {
  background: var(--accent-dark);
  transform: translateY(-1px);
}

.auth-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.auth-status {
  text-align: center;
  font-size: var(--fs-small);
  color: var(--text-soft);
  margin-top: var(--space-md);
  min-height: 20px;
}

.auth-status.error {
  color: var(--error);
}

.auth-status.success {
  color: var(--success);
}

.auth-modal-hint {
  text-align: center;
  font-size: var(--fs-xs);
  color: var(--text-muted);
  margin-top: var(--space-md);
  line-height: 1.5;
}

.auth-modal-close {
  position: absolute;
  top: var(--space-md);
  right: var(--space-md);
  background: none;
  border: none;
  font-size: var(--fs-xl);
  color: var(--text-muted);
  cursor: pointer;
  padding: var(--space-xs);
  line-height: 1;
}

.auth-modal-close:hover {
  color: var(--text-main);
}

/* First name prompt modal */
.name-prompt {
  display: none;
}

.name-prompt.visible {
  display: block;
}

/* Toast Notifications */
.toast-container {
  position: fixed;
  top: var(--space-lg);
  right: var(--space-lg);
  z-index: 2000;
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  pointer-events: none;
}

.toast {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-sm) var(--space-md);
  box-shadow: var(--shadow-modal);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  max-width: 360px;
  pointer-events: auto;
  animation: toastSlideIn 0.3s var(--motion-ease-premium);
}

.toast.success {
  border-left: 3px solid var(--success);
}

.toast.error {
  border-left: 3px solid var(--error);
}

.toast-icon {
  font-size: var(--fs-lg);
  flex-shrink: 0;
}

.toast-message {
  font-size: var(--fs-small);
  color: var(--text-main);
  font-weight: 500;
}

.toast.hiding {
  animation: toastSlideOut 0.3s var(--motion-ease-premium) forwards;
}

@keyframes toastSlideIn {
  from {
    opacity: 0;
    transform: translateX(100%);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes toastSlideOut {
  from {
    opacity: 1;
    transform: translateX(0);
  }

  to {
    opacity: 0;
    transform: translateX(100%);
  }
}

/* Pricing section active state */
.pricing-card-cta.pass-active {
  background: var(--success) !important;
  color: white !important;
  cursor: default;
  pointer-events: none;
}

.pricing-card-cta.pass-active::before {
  content: "✓ ";
}

/* Hero */

.hero {
  position: relative;
  margin: var(--sp-3xl) auto;
  padding: 0 var(--sp-m);
  max-width: 680px;
  background: transparent;
  overflow: visible;
  text-align: center;
}

.hero-inner {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Remove decorative pseudo-elements for cleaner look */
.hero::before,
.hero::after {
  display: none;
}

.hero-title {
  font-family: var(--font-display);
  font-size: clamp(32px, 4vw, 42px);
  letter-spacing: -0.02em;
  color: var(--text-primary);
  font-weight: 700;
  line-height: 1.15;
  margin-bottom: var(--sp-m);
  max-width: 680px;
  opacity: 0;
  transition: opacity 0.2s ease-out;
}

.hero-title.loaded {
  opacity: 1;
}

.hero-subtitle {
  font-size: 18px;
  color: var(--text-secondary);
  max-width: 540px;
  line-height: 1.45;
  margin-bottom: 0;
}

.hero-credibility {
  display: flex;
  align-items: center;
  gap: var(--sp-s);
  font-size: 15px;
  color: var(--text-secondary);
  max-width: 540px;
  line-height: 1.45;
  margin-top: var(--sp-l);
  margin-bottom: 0;
  font-style: normal;
  font-weight: 500;
  text-align: left;
}

.founder-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
  border: 2px solid var(--border-subtle);
}

.hero-cta-group {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--sp-s);
  margin-top: var(--sp-l);
}

.hero-cta-primary {
  /* Uses btn-primary styles - this just adds specificity */
  font-size: 18px;
  padding: 16px 32px;
}

.hero-cta-secondary {
  font-size: 14px;
  color: var(--text-link);
  padding: var(--sp-s) var(--sp-m);
}

.hero-cta-note {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.5;
  margin-top: var(--sp-m);
  text-align: center;
}

.process-track {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: var(--space-lg);
  margin-top: var(--space-xl);
  margin-bottom: var(--space-lg);
  padding: 0 var(--space-sm);
}

.process-line {
  position: absolute;
  top: 16px;
  left: var(--space-xl);
  right: var(--space-xl);
  height: 2px;
  background: var(--border-subtle);
  z-index: 0;
}

/* Gradient line for premium feel */
.process-line::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg,
      transparent 0%,
      var(--accent-wash) 20%,
      var(--accent-wash) 80%,
      transparent 100%);
}

.process-step {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--space-sm);
}

.process-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--bg-main);
  border: 2px solid var(--border-subtle);
  color: var(--text-muted);
  font-size: var(--fs-small);
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 0 4px var(--bg-main);
  /* Mask the line */
  transition: all 0.3s var(--motion-ease-premium);
}

.process-step:hover .process-icon {
  border-color: var(--accent);
  color: var(--accent);
  transform: scale(1.1);
  box-shadow: 0 0 0 6px var(--bg-main);
}

.process-label {
  font-size: var(--fs-xs);
  color: var(--text-soft);
  line-height: var(--lh-snug);
  max-width: 180px;
  font-weight: 500;
}

@media (max-width: 600px) {
  .process-track {
    grid-template-columns: 1fr;
    gap: var(--space-md);
    padding-left: var(--space-lg);
  }

  .process-line {
    top: 0;
    bottom: 0;
    left: 15px;
    /* Align with icon center */
    right: auto;
    width: 2px;
    height: auto;
    background: linear-gradient(180deg,
        transparent 0%,
        var(--border-subtle) 15%,
        var(--border-subtle) 85%,
        transparent 100%);
  }

  .process-line::after {
    display: none;
  }

  .process-step {
    flex-direction: row;
    text-align: left;
    align-items: flex-start;
  }

  .process-icon {
    flex-shrink: 0;
    /* On mobile, box-shadow masking is trickier with a vertical line if background isn't solid, 
       but bg-main is solid so it works. */
  }
}

.hero-promise {
  margin-top: var(--space-lg);
  font-size: var(--fs-body);
  color: var(--slate-700);
  line-height: var(--lh-loose);
  max-width: 720px;
}

.hero-promise strong {
  color: var(--ink-900);
  font-weight: 700;
  letter-spacing: -0.01em;
}

.hero-promise ul {
  list-style: disc;
  padding-left: var(--space-md-lg);
  margin-top: var(--space-xxs);
  display: grid;
  gap: var(--space-xxs);
}

/* Two-column hero layout */
.hero-grid-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-2xl);
  align-items: start;
}

.hero-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.hero-preview {
  position: relative;
}

.hero-preview-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-card);
  padding: var(--space-xl);
  box-shadow:
    var(--shadow-card),
    0 0 0 1px color-mix(in srgb, var(--accent) 12%, transparent),
    0 4px 24px rgba(51, 65, 166, 0.1),
    0 12px 48px rgba(51, 65, 166, 0.08);
  position: relative;
  overflow: hidden;
  transition: box-shadow var(--motion-duration-short) var(--motion-ease-premium), transform var(--motion-duration-short) var(--motion-ease-premium);
  transform: scale(1.02);
}

.hero-preview-card:hover {
  box-shadow:
    0 14px 32px rgba(15, 23, 42, 0.12),
    0 0 0 1px color-mix(in srgb, var(--accent) 15%, transparent),
    0 12px 48px rgba(51, 65, 166, 0.12);
  transform: translateY(-4px);
}

/* Staggered entrance animation for hero preview */
.hero-preview-card {
  opacity: 0;
  animation: heroCardEntrance 0.6s var(--motion-ease-premium) 0.2s forwards;
}

@keyframes heroCardEntrance {
  from {
    opacity: 0;
    transform: translateY(12px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero-preview-badge {
  opacity: 0;
  animation: heroElementFade 0.4s ease-out 0.4s forwards;
}

.hero-preview-verdict {
  opacity: 0;
  animation: heroElementFade 0.4s ease-out 0.8s forwards;
}

.hero-preview-section {
  opacity: 0;
  animation: heroElementFade 0.4s ease-out 1.1s forwards;
}

@keyframes heroElementFade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {

  .hero-preview-card,
  .hero-preview-badge,
  .hero-preview-verdict,
  .hero-preview-section {
    opacity: 1;
    animation: none;
    transform: none;
  }
}

.hero-preview-card::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--accent);
  border-radius: var(--radius-card) 0 0 var(--radius-card);
}

.hero-preview-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
  padding: var(--space-xxs) var(--space-sm);
  background: var(--accent-wash);
  color: var(--accent);
  font-size: var(--fs-tiny);
  font-weight: 600;
  border-radius: var(--radius-pill);
  margin-bottom: var(--space-md);
  letter-spacing: 0.02em;
  text-transform: uppercase;
}

.hero-preview-score {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
}

.hero-preview-dial {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: conic-gradient(var(--accent) 0deg 0deg, var(--border-subtle) 0deg 360deg);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  flex-shrink: 0;
  box-shadow: 0 4px 16px rgba(51, 65, 166, 0.15);
  /* JS handles the conic-gradient animation; see animateHeroDialNumber() */
}

@media (prefers-reduced-motion: reduce) {
  .hero-preview-dial {
    background: conic-gradient(var(--accent) 0deg 309deg, var(--border-subtle) 309deg 360deg);
  }
}

.hero-preview-dial::before {
  content: "";
  position: absolute;
  inset: 7px;
  border-radius: 50%;
  background: var(--bg-card);
}

.hero-preview-dial-number {
  position: relative;
  font-family: var(--font-display);
  font-size: var(--fs-h1);
  font-weight: 800;
  color: var(--accent);
  line-height: 1;
}

.hero-preview-score-text {
  flex: 1;
}

.hero-preview-score-label {
  font-size: var(--fs-tiny);
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin-bottom: var(--space-xxs);
}

.hero-preview-score-band {
  font-family: var(--font-display);
  font-size: var(--fs-lg);
  font-weight: 700;
  color: var(--ink-900);
}

.hero-preview-verdict {
  font-size: var(--fs-label);
  color: var(--text-main);
  line-height: var(--lh-relaxed);
  margin-bottom: var(--space-md);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid var(--border-subtle);
}

.hero-preview-section {
  margin-bottom: var(--space-sm);
}

.hero-preview-section-title {
  font-size: var(--fs-tiny);
  font-weight: 700;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin-bottom: var(--space-xs);
}

.hero-preview-item {
  font-size: var(--fs-small);
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
  padding-left: var(--space-md);
  position: relative;
  margin-bottom: var(--space-xxs);
}

.hero-preview-item::before {
  content: "•";
  position: absolute;
  left: 0;
  color: var(--accent);
  font-weight: 700;
}

.hero-preview-fade {
  display: none;
  /* Removed fade to make CTA fully visible */
}

.hero-preview-subscores {
  display: flex;
  justify-content: space-between;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  background: var(--surface-tint);
  border-radius: var(--radius-sm);
  margin-bottom: var(--space-md);
}

.hero-preview-subscore {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.hero-preview-subscore-label {
  font-size: 10px;
  font-weight: 500;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.hero-preview-subscore-value {
  font-family: var(--font-display);
  font-size: var(--fs-lg);
  font-weight: 800;
}

.hero-preview-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
  margin-top: var(--space-xs);
}

.hero-preview-tag {
  font-size: var(--fs-xs);
  font-weight: 500;
  color: var(--accent);
  background: var(--accent-wash);
  padding: 4px 10px;
  border-radius: var(--radius-pill);
}

.hero-preview-cta {
  display: block;
  text-align: center;
  padding: var(--space-sm-alt) var(--space-lg);
  background: var(--accent);
  color: white;
  font-size: var(--fs-body);
  font-weight: 600;
  border-radius: var(--radius-md);
  text-decoration: none;
  margin-top: var(--space-lg);
  box-shadow: var(--shadow-button);
  transition: background var(--motion-duration-short), transform var(--motion-duration-short), box-shadow var(--motion-duration-short);
  position: relative;
  z-index: 10;
}

.hero-preview-cta:hover {
  background: var(--accent-dark);
  transform: translateY(-2px);
  box-shadow: var(--shadow-button-hover);
}

.hero-cta-group {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--sp-s);
  margin-top: var(--sp-l);
}

.hero-cta-note {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.5;
  margin-top: var(--sp-m);
  text-align: center;
}

.hero-cta-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  padding: 18px 40px;
  background: linear-gradient(135deg,
      color-mix(in srgb, var(--accent) 90%, white 10%) 0%,
      var(--accent) 50%,
      var(--accent-strong) 100%);
  color: white;
  font-size: var(--fs-xl);
  font-weight: 700;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.1),
    0 0 24px rgba(51, 65, 166, 0.4),
    0 0 48px rgba(51, 65, 166, 0.2),
    0 8px 32px rgba(51, 65, 166, 0.3);
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  text-decoration: none;
  width: fit-content;
  letter-spacing: -0.01em;
  position: relative;
  overflow: hidden;
}

/* Subtle inner shine */
.hero-cta-primary::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.15), transparent);
  border-radius: 12px 12px 0 0;
  pointer-events: none;
}

.hero-cta-primary:hover {
  background: linear-gradient(135deg,
      color-mix(in srgb, var(--accent) 80%, white 20%) 0%,
      color-mix(in srgb, var(--accent) 95%, white 5%) 50%,
      var(--accent) 100%);
  transform: translateY(-4px) scale(1.03);
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.2),
    0 0 32px rgba(51, 65, 166, 0.5),
    0 0 64px rgba(51, 65, 166, 0.3),
    0 16px 48px rgba(51, 65, 166, 0.4);
}

.hero-cta-primary:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.hero-cta-secondary {
  font-size: var(--fs-small);
  color: var(--accent-boost);
  background: none;
  border: none;
  cursor: pointer;
  text-decoration: none;
  font-weight: 500;
  padding: var(--space-xxs) 0;
  transition: color var(--motion-duration-short) var(--motion-ease-premium);
  width: fit-content;
  position: relative;
}

.hero-cta-secondary::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 1px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--motion-duration-short) var(--motion-ease-premium);
}

.hero-cta-secondary:hover {
  color: var(--accent-strong);
}

.hero-cta-secondary:hover::after {
  transform: scaleX(1);
}

.hero-cta-secondary:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  border-radius: var(--radius-xs);
}

@media (max-width: 900px) {
  .hero-grid-layout {
    grid-template-columns: 1fr;
    gap: var(--space-xl);
  }

  .hero-preview {
    order: -1;
  }

  .hero-preview-card {
    max-height: 280px;
    overflow: hidden;
  }
}

/* ===========================================
   SAMPLE REPORT PREVIEW SECTION
   =========================================== */
.sample-report {
  max-width: 840px;
  margin: var(--sp-3xl) auto;
  padding: 0 var(--sp-m);
}

.sample-report-card {
  background: var(--bg-card);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-card);
  padding: var(--sp-xl);
  border: 1px solid var(--border-subtle);
}

.sample-report-badge {
  display: inline-block;
  padding: 6px 12px;
  background: var(--bg-card-alt);
  color: var(--text-secondary);
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  border-radius: var(--radius-pill);
  margin-bottom: var(--sp-l);
}

.sample-report-score {
  display: flex;
  align-items: center;
  gap: var(--sp-m);
  margin-bottom: var(--sp-l);
}

.sample-report-dial {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--bg-card-alt), var(--bg-card));
  border: 3px solid var(--status-success);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.sample-report-dial-number {
  font-family: var(--font-display);
  font-size: 32px;
  font-weight: 700;
  color: var(--status-success);
}

.sample-report-score-label {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--sp-xs);
}

.sample-report-score-band {
  font-size: 14px;
  color: var(--text-secondary);
}

.sample-report-subscores {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-s);
  margin-bottom: var(--sp-l);
}

/* Score pill styling for sample report */
.sample-report .score-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--bg-card-alt);
  border-radius: var(--radius-pill);
  font-size: 13px;
}

.score-pill-label {
  color: var(--text-secondary);
  font-weight: 500;
}

.score-pill-value {
  font-weight: 700;
}

.score-pill-value.score-good {
  color: var(--status-success);
}

.score-pill-value.score-excellent {
  color: #8b5cf6;
}

.sample-report-verdict {
  font-size: 15px;
  color: var(--text-primary);
  line-height: 1.6;
  font-style: italic;
  padding: var(--sp-m);
  background: var(--bg-card-alt);
  border-radius: var(--radius-sm);
  margin-bottom: var(--sp-l);
  border-left: 3px solid var(--brand);
}

.sample-report-section {
  margin-bottom: var(--sp-l);
}

.sample-report-section-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.03em;
  margin-bottom: var(--sp-s);
}

.sample-report-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-s);
}

.sample-report-tag {
  display: inline-block;
  padding: 6px 12px;
  background: var(--bg-card-alt);
  color: var(--text-primary);
  font-size: 13px;
  font-weight: 500;
  border-radius: var(--radius-pill);
}

.sample-report-fix {
  font-size: 14px;
  color: var(--text-primary);
  line-height: 1.5;
  padding: var(--sp-s) var(--sp-m);
  margin-bottom: var(--sp-xs);
  border-radius: var(--radius-sm);
  transition: background 140ms ease;
}

.sample-report-fix:hover {
  background: var(--bg-card-alt);
}

.sample-report-fix::before {
  content: "→ ";
  color: var(--text-secondary);
}

.sample-report-cta {
  display: inline-block;
  margin-top: var(--sp-m);
  font-size: 14px;
  font-weight: 600;
  color: var(--text-link);
  text-decoration: none;
}

.sample-report-cta:hover {
  text-decoration: underline;
}

/* ===========================================
   TESTIMONIALS SECTION
   =========================================== */
.testimonials {
  background: var(--bg-section-muted);
  padding: var(--sp-3xl) var(--sp-m);
}

.testimonials-inner {
  max-width: 680px;
  margin: 0 auto;
}

.testimonials-heading {
  font-family: var(--font-display);
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--sp-xl);
  text-align: center;
}

.testimonial-quote {
  display: flex;
  flex-direction: column;
  gap: var(--sp-s);
  margin-bottom: var(--sp-2xl);
}

.testimonial-quote:last-child {
  margin-bottom: 0;
}

.testimonial-text {
  font-size: 16px;
  font-weight: 500;
  color: var(--text-primary);
  line-height: 1.6;
}

.testimonial-author {
  font-size: 14px;
  color: var(--text-secondary);
}

/* Feature blocks (01-04) */
.value-strip {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--sp-2xl);
  margin: var(--sp-3xl) auto;
  max-width: 840px;
  padding: 0 var(--sp-l);
}

.value-item {
  text-align: left;
  padding: var(--sp-m);
  position: relative;
}

.value-number {
  display: block;
  font-family: var(--font-display);
  font-size: 28px;
  font-weight: 600;
  color: var(--accent-warm);
  letter-spacing: -0.01em;
  margin-bottom: var(--sp-s);
}

.value-icon {
  width: 24px;
  height: 24px;
  stroke: currentColor;
  stroke-width: 1.5;
  fill: none;
  display: none;
  /* Hide icons - numbers are primary */
}

.value-title {
  font-family: var(--font-display);
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--sp-xs);
  letter-spacing: -0.01em;
}

.value-desc {
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.55;
}

@media (max-width: 768px) {
  .value-strip {
    grid-template-columns: 1fr;
    gap: var(--sp-xl);
  }
}

@media (max-width: 480px) {
  .value-strip {
    grid-template-columns: 1fr;
    padding: 0 var(--sp-m);
  }
}

/* Social proof */
.proof {
  margin-top: var(--space-md-lg);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: var(--space-sm-alt);
}

.proof-card {
  background: color-mix(in srgb, var(--bg-panel) 82%, transparent);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-sm-alt) var(--space-md-alt);
  box-shadow: 0 10px 26px rgba(15, 23, 42, 0.06);
  display: flex;
  flex-direction: column;
  gap: var(--space-tight);
}

.proof-quote {
  font-size: var(--fs-xs);
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
}

.proof-name {
  font-size: var(--fs-tiny);
  color: var(--text-muted);
  letter-spacing: 0.01em;
}

/* Testimonials Section */
.proof-editorial {
  margin-top: var(--sp-3xl);
  margin-bottom: var(--sp-3xl);
  padding: var(--sp-xl);
  max-width: 680px;
  margin-left: auto;
  margin-right: auto;
  background: var(--bg-section-muted);
  border: none;
  border-radius: var(--radius-card);
  box-shadow: none;
}

.proof-editorial-heading {
  font-size: 17px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--sp-l);
  letter-spacing: -0.01em;
}

.proof-editorial-quote {
  font-size: 17px;
  color: var(--text-primary);
  line-height: 1.6;
  margin-bottom: var(--sp-2xl);
  display: flex;
  flex-direction: column;
  gap: var(--sp-s);
}

.proof-editorial-quote:last-child {
  margin-bottom: 0;
}

.testimonial-text {
  font-style: normal;
  font-weight: 500;
}

.testimonial-author {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-secondary);
  font-style: normal;
}

.future-ribbon {
  display: flex;
  gap: var(--space-sm);
  margin-top: var(--space-sm-alt);
  flex-wrap: wrap;
}

.future-chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
  padding: var(--space-xxs) var(--space-sm);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  background: var(--surface-tint);
  color: var(--text-muted);
  font-size: var(--fs-tiny);
  letter-spacing: 0.01em;
}

.future-chip.warm {
  border-color: var(--border-subtle);
  background: var(--surface-tint);
  color: var(--text-muted);
}

@media (max-width: 600px) {
  :root {
    /* --fs-hero: 43px;  Removed: handled by specific overrides */
    --fs-h1: 24px;
    --fs-h2: 20px;
  }

  .hero {
    padding: var(--space-md-lg) var(--space-md-lg) var(--space-md-lg);
    margin-bottom: var(--space-md-lg);
  }

  .hero-title {
    font-size: var(--fs-3xl);
  }

  .hero-subtitle {
    font-size: var(--fs-label);
  }

  .hero-credibility {
    font-size: var(--fs-xs);
    margin-bottom: var(--space-md-lg);
  }

  .hero-grid {
    gap: var(--space-tight) var(--space-sm-alt);
  }

  .stack-heading {
    font-size: var(--fs-2xl);
    margin-bottom: var(--space-sm);
  }

  .stack-subline {
    font-size: var(--fs-small);
    margin-bottom: var(--space-md-alt);
  }

  .stack-section {
    padding: var(--space-lg) var(--space-md-alt) var(--space-md-lg) var(--space-xl-alt);
    margin-bottom: var(--space-xl-alt);
  }

  .results-summary {
    padding: var(--space-md-alt) var(--space-md-lg);
    margin-bottom: var(--space-lg);
  }

  .tool-layout {
    gap: var(--space-md-alt);
    grid-template-columns: 1fr;
  }

  .card {
    padding: var(--space-md-alt);
  }

  .results-top {
    padding: var(--space-md-lg) var(--space-md-lg) var(--space-md-lg);
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.1);
  }

  .ideas-sheet {
    padding: var(--space-md-lg) var(--space-md-lg) var(--space-md-alt) var(--space-lg);
  }

  .ideas-sheet::before {
    left: var(--space-md-lg);
    top: var(--space-md-lg);
    bottom: var(--space-md-alt);
  }

  .ideas-sheet-header {
    margin-bottom: var(--space-md-lg);
    gap: var(--space-sm-alt);
  }

  .ideas-sheet-title {
    font-size: var(--fs-xl);
    margin-bottom: var(--space-xxs);
  }

  .ideas-sheet-subtitle {
    font-size: var(--fs-small);
  }

  .ideas-actions .ghost-button {
    font-size: var(--fs-tiny);
    padding: var(--space-xs) var(--space-tight-alt);
  }
}

/* Main tool area */

.tool-layout {
  position: relative;
  margin-top: var(--space-xl);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-2xl);
  align-items: start;
}

.tool-layout::before {
  content: "";
  position: absolute;
  top: calc(var(--space-xl) * -1);
  left: 50%;
  transform: translateX(-50%);
  width: 2px;
  height: var(--space-xl);
  background: linear-gradient(180deg,
      rgba(51, 65, 166, 0.12) 0%,
      rgba(51, 65, 166, 0.08) 50%,
      transparent 100%);
  border-radius: var(--radius-pill);
  pointer-events: none;
  opacity: 0.6;
}

.tool-layout.input-full-width {
  grid-template-columns: 1fr;
}

/* Ensure columns are balanced and feel like distinct workspaces */
.card-input {
  min-height: 400px;
}

/* Make report wrapper feel like a distinct report panel */
.report-wrapper {
  position: relative;
}

@media (max-width: 1024px) {
  .tool-layout {
    grid-template-columns: 1fr;
    gap: var(--space-xxl);
  }

  .card-input {
    min-height: auto;
  }
}

.card {
  position: relative;
  background: var(--bg-card);
  border-radius: var(--radius-card);
  border: 1px solid rgba(12, 17, 32, 0.07);
  padding: var(--space-2xl);
  box-shadow: var(--shadow-soft);
  overflow: visible;
  transition: box-shadow var(--motion-duration-short) var(--motion-ease-premium), transform var(--motion-duration-short) var(--motion-ease-premium);
}

.card::before {
  display: none;
}

.card-output {
  position: relative;
  background: var(--bg-card);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-card);
  padding: var(--space-lg) var(--space-lg) var(--space-xl-alt);
  overflow: hidden;
}

.card-output::before {
  content: "";
  position: absolute;
  left: var(--space-lg);
  top: var(--space-lg);
  bottom: var(--space-lg);
  width: 3px;
  border-radius: var(--radius-sm);
  background: var(--accent);
  opacity: 0.3;
  pointer-events: none;
}

.card-inner {
  position: relative;
  z-index: 1;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-sm);
}

.card-title {
  font-family: var(--font-display);
  font-size: var(--fs-h1);
  font-weight: 700;
  color: var(--text-main);
  letter-spacing: -0.01em;
  line-height: var(--lh-cozy);
}

.card-input .card-title {
  font-size: var(--fs-h1);
  font-weight: 800;
  letter-spacing: -0.02em;
  margin-bottom: var(--space-xxs);
}

.card-subtitle {
  font-size: var(--fs-small);
  color: var(--text-muted);
  line-height: var(--lh-relaxed);
  margin-bottom: var(--space-xs);
}

.card-helper-note {
  font-size: var(--fs-xs);
  color: var(--text-soft);
  line-height: var(--lh-normal);
  margin-bottom: var(--space-md);
}

/* Short-resume confirmation dialog */
.short-resume-dialog {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.5);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 25;
  opacity: 0;
  transition: opacity var(--motion-duration-medium) var(--motion-ease-premium);
}

.short-resume-dialog.open {
  display: flex;
  animation: fadeIn var(--motion-duration-medium) var(--motion-ease-premium) forwards;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.short-resume-card {
  background: var(--bg-panel);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-xl);
  padding: var(--space-xl) var(--space-xl-alt);
  max-width: 420px;
  width: 90vw;
  box-shadow: 0 24px 64px rgba(15, 23, 42, 0.2), 0 8px 24px rgba(15, 23, 42, 0.12);
  animation: slideUp var(--motion-duration-medium) var(--motion-ease-premium) forwards;
}

.short-resume-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--warning) 0%, color-mix(in srgb, var(--warning) 80%, #000) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  margin-bottom: var(--space-md);
  box-shadow: 0 4px 12px rgba(217, 119, 6, 0.25);
}

.short-resume-title {
  font-family: var(--font-display);
  font-size: var(--fs-xl);
  font-weight: 800;
  color: var(--text-main);
  margin-bottom: var(--space-tight);
  letter-spacing: -0.02em;
  line-height: var(--lh-tight);
}

.short-resume-message {
  font-size: var(--fs-body);
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
  margin-bottom: var(--space-xl-alt);
}

.short-resume-actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm-alt);
}

.short-resume-primary {
  font-family: var(--font-display);
  font-size: var(--fs-label);
  font-weight: 700;
  color: #ffffff;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
  border: none;
  border-radius: var(--radius-md);
  padding: var(--space-sm-alt) var(--space-lg);
  cursor: pointer;
  box-shadow: 0 4px 14px rgba(51, 65, 166, 0.3);
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.short-resume-primary:hover {
  background: linear-gradient(135deg, var(--accent-dark) 0%, var(--accent-strong) 100%);
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(51, 65, 166, 0.35);
}

.short-resume-primary:active {
  transform: translateY(0);
}

.short-resume-secondary {
  font-family: var(--font-body);
  font-size: var(--fs-small);
  font-weight: 500;
  color: var(--text-soft);
  background: transparent;
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-sm) var(--space-md);
  cursor: pointer;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.short-resume-secondary:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: var(--accent-wash);
}

.short-resume-checkbox {
  display: flex;
  align-items: center;
  gap: var(--space-tight);
  margin-top: var(--space-md);
  font-size: var(--fs-xs);
  color: var(--text-muted);
}

.short-resume-checkbox input {
  width: 16px;
  height: 16px;
  cursor: pointer;
  accent-color: var(--accent);
  border-radius: 4px;
}

/* After-run toast */
.run-toast {
  position: fixed;
  bottom: var(--space-xl);
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  background: linear-gradient(135deg, var(--bg-panel) 0%, var(--wash) 100%);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-md) var(--space-xl-alt);
  box-shadow: 0 16px 48px rgba(15, 23, 42, 0.15), 0 4px 12px rgba(15, 23, 42, 0.08);
  font-size: var(--fs-small);
  color: var(--text-main);
  z-index: 30;
  opacity: 0;
  transition: transform 0.4s var(--motion-ease-premium),
    opacity 0.4s var(--motion-ease-premium);
  max-width: 420px;
  text-align: center;
  line-height: var(--lh-relaxed);
  display: flex;
  align-items: center;
  gap: var(--space-sm-alt);
}

.run-toast::before {
  content: "✨";
  font-size: var(--fs-lg);
  flex-shrink: 0;
}

.run-toast.visible {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}

/* Locked section upsell pattern */
.locked-section-teaser {
  position: relative;
  background: linear-gradient(135deg, var(--wash) 0%, color-mix(in srgb, var(--accent-wash) 40%, var(--wash)) 100%);
  border: 1px solid color-mix(in srgb, var(--accent) 15%, transparent);
  border-radius: var(--radius-lg);
  padding: var(--space-lg) var(--space-xl-alt);
  text-align: center;
  margin-top: var(--space-md);
  overflow: hidden;
}

.locked-section-teaser::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent) 0%, color-mix(in srgb, var(--accent) 60%, var(--success)) 100%);
  opacity: 0.6;
}

.locked-section-icon {
  width: 40px;
  height: 40px;
  margin: 0 auto var(--space-sm-alt);
  border-radius: 10px;
  background: linear-gradient(135deg, var(--accent-wash) 0%, color-mix(in srgb, var(--accent) 10%, transparent) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
}

.locked-section-text {
  font-size: var(--fs-small);
  color: var(--text-main);
  font-weight: 500;
  margin-bottom: var(--space-sm-alt);
  line-height: var(--lh-relaxed);
}

.locked-section-cta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
  font-size: var(--fs-small);
  color: var(--accent);
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  padding: var(--space-tight) var(--space-sm-alt);
  border-radius: var(--radius-sm);
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.locked-section-cta:hover {
  background: var(--accent-wash);
  color: var(--accent-dark);
}

/* Free tier upsell banner */
.free-tier-upsell {
  position: relative;
  background: linear-gradient(135deg, var(--wash) 0%, var(--accent-wash) 50%, var(--wash) 100%);
  background-size: 200% 200%;
  animation: gradientShift 8s ease infinite;
  border: 1px solid color-mix(in srgb, var(--accent) 25%, transparent);
  border-radius: var(--radius-xl);
  padding: var(--space-xl-alt) var(--space-lg);
  margin-top: var(--space-xl);
  text-align: center;
  overflow: hidden;
}

@keyframes gradientShift {

  0%,
  100% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }
}

.free-tier-upsell::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent 0%, var(--accent) 50%, transparent 100%);
}

.free-tier-upsell-icon {
  width: 52px;
  height: 52px;
  margin: 0 auto var(--space-md);
  border-radius: var(--radius-lg);
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  box-shadow: 0 6px 20px rgba(51, 65, 166, 0.25);
}

.free-tier-upsell-title {
  font-family: var(--font-display);
  font-size: var(--fs-body);
  font-weight: 700;
  color: var(--text-main);
  margin-bottom: var(--space-xs);
  letter-spacing: -0.01em;
}

.free-tier-upsell-text {
  font-size: var(--fs-small);
  color: var(--text-soft);
  margin-bottom: var(--space-md);
  line-height: var(--lh-relaxed);
  max-width: 320px;
  margin-left: auto;
  margin-right: auto;
}

.free-tier-upsell-cta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  font-family: var(--font-display);
  font-size: var(--fs-small);
  font-weight: 700;
  color: #ffffff;
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
  border: none;
  border-radius: var(--radius-md);
  padding: var(--space-sm-alt) var(--space-lg);
  cursor: pointer;
  box-shadow: 0 4px 14px rgba(51, 65, 166, 0.3);
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.free-tier-upsell-cta:hover {
  background: linear-gradient(135deg, var(--accent-dark) 0%, var(--accent-strong) 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(51, 65, 166, 0.35);
}

.free-tier-upsell-cta:active {
  transform: translateY(0);
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

label {
  display: block;
  font-size: var(--fs-small);
  color: var(--text-soft);
  margin-bottom: var(--space-sm-alt);
  letter-spacing: 0.01em;
}

textarea {
  width: 100%;
  min-height: 300px;
  max-height: 360px;
  overflow-y: auto;
  padding: var(--space-md-alt) var(--space-md-alt);
  font-size: var(--fs-body);
  color: var(--text-main);
  border-radius: var(--radius-input);
  border: 1px solid var(--border-subtle);
  background: var(--bg-panel);
  resize: none;
  margin: 0;
  line-height: var(--lh-loose);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02) inset;
  transition: border-color var(--motion-duration-short) var(--motion-ease-premium), box-shadow var(--motion-duration-short) var(--motion-ease-premium);
}

textarea:focus {
  border-color: var(--accent-light);
  box-shadow: 0 0 0 4px var(--accent-wash), 0 2px 4px rgba(0, 0, 0, 0.02) inset;
  outline: none;
}

textarea::placeholder {
  color: rgba(100, 116, 139, 0.42);
  font-size: var(--fs-label);
  font-weight: 500;
  letter-spacing: 0.005em;
}

.input-meta-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--fs-xs);
  margin-bottom: var(--space-sm-alt);
  color: var(--text-muted);
}

.saved-indicator {
  color: var(--success-light);
  opacity: 0;
  transition: opacity var(--motion-duration-short) var(--motion-ease-premium);
}

.saved-indicator.visible {
  opacity: 1;
}

.input-validation-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--fs-xs);
  margin-bottom: var(--space-sm-alt);
  min-height: 20px;
}

.char-count {
  color: var(--text-muted);
  font-size: var(--fs-xs);
  transition: color var(--motion-duration-short) var(--motion-ease-premium);
}

.char-count.warning {
  color: var(--warning, #f59e0b);
}

.char-count.error {
  color: var(--error, #ef4444);
  font-weight: 500;
}

.validation-error {
  color: var(--error, #ef4444);
  font-size: var(--fs-xs);
  font-weight: 500;
  flex: 1;
  text-align: right;
}

.validation-error.hidden {
  display: none;
}

body.focus-mode .tool-layout {
  grid-template-columns: minmax(0, 1fr);
  margin-top: var(--space-sm);
}

body.focus-mode .tool-layout::after {
  display: none;
}

body.focus-mode .card-input {
  display: none;
}

body.focus-mode .card-output {
  grid-column: 1 / -1;
  max-width: 960px;
  margin: 0 auto;
}

.card-input {
  margin-top: 0;
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-card);
  border: 1px solid rgba(12, 17, 32, 0.08);
  padding: var(--space-xl-alt);
  background: linear-gradient(165deg, #ffffff 0%, #fafbfd 100%);
  transition: transform 0.4s var(--motion-ease-premium), box-shadow 0.4s var(--motion-ease-premium);
}

.card-input:hover {
  transform: translateY(-2px);
  box-shadow: 0 24px 55px rgba(15, 23, 42, 0.12);
}

.coming-soon-hint {
  font-size: var(--fs-tiny);
  color: var(--text-muted);
  margin-top: var(--space-micro);
  margin-bottom: var(--space-sm);
}

.run-row {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-top: var(--space-md-alt);
}

.run-row::before {
  content: "";
  position: absolute;
  inset: -10px 8px 0 8px;
  background: radial-gradient(circle at 50% 30%, rgba(30, 42, 120, 0.12), transparent 55%);
  filter: blur(6px);
  z-index: 0;
  pointer-events: none;
}

.run-row>* {
  position: relative;
  z-index: 1;
}

.run-helper-text {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  line-height: var(--lh-normal);
  margin-top: calc(-1 * var(--space-xxs));
}

.btn-primary {
  background: var(--accent);
  color: var(--bg-panel);
  font-weight: 600;
  border-radius: var(--radius-input);
  padding: var(--space-sm-alt) var(--space-lg-alt);
  border: none;
  box-shadow: var(--shadow-button);
  cursor: pointer;
  transition: background var(--motion-duration-short) var(--motion-ease-premium), box-shadow var(--motion-duration-short) var(--motion-ease-premium), transform var(--motion-duration-short) var(--motion-ease-premium);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xxs);
}

.btn-primary:hover:not(:disabled) {
  background: var(--accent-dark);
  box-shadow: var(--shadow-button-hover);
  transform: translateY(-1px);
}

.btn-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  box-shadow: var(--shadow-soft);
  transform: none;
}

.btn-primary:disabled:hover {
  background: var(--accent);
  transform: none;
  box-shadow: var(--shadow-soft);
}

.btn-primary:active:not(:disabled) {
  transform: translateY(1px);
  box-shadow: 0 2px 8px rgba(28, 78, 216, 0.2);
}

.btn-success-state {
  background: var(--success-light) !important;
  color: var(--success-dark) !important;
  border-color: var(--success-light) !important;
  transition: all 0.2s ease;
}

.btn-secondary {
  background: var(--bg-panel);
  border: 1px solid rgba(28, 78, 216, 0.45);
  color: var(--accent);
  border-radius: var(--radius-md);
  padding: var(--space-sm) var(--space-lg);
  box-shadow: var(--shadow-button);
  cursor: pointer;
  transition: background var(--motion-duration-short) var(--motion-ease-premium), box-shadow var(--motion-duration-short) var(--motion-ease-premium), border-color var(--motion-duration-short) var(--motion-ease-premium), transform var(--motion-duration-short) var(--motion-ease-premium);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xxs);
}

.btn-secondary:hover:not(:disabled) {
  background: var(--accent-wash);
  border-color: var(--accent);
  transform: translateY(-1px);
}

.btn-secondary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.btn-secondary:disabled:hover {
  background: var(--bg-panel);
  border-color: var(--border-subtle);
  transform: none;
}

.run-button {
  width: 100%;
  font-size: var(--fs-base);
  letter-spacing: -0.01em;
}

.copy-button,
.export-button {
  font-size: var(--fs-small);
  gap: var(--space-xxs);
}

.icon {
  width: var(--icon-size-md);
  height: var(--icon-size-md);
  flex-shrink: 0;
  stroke: currentColor;
}

@keyframes runButtonPulse {
  0% {
    background: var(--accent);
  }

  50% {
    background: color-mix(in srgb, var(--accent) 92%, white 8%);
  }

  100% {
    background: var(--accent);
  }
}

@keyframes shimmer {
  0% {
    background-position: 0% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

.status {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  min-height: var(--space-md-lg);
  transition: opacity var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xs);
  font-weight: 500;
  letter-spacing: -0.01em;
}

.status.status-loading {
  color: var(--text-main);
}

.status.status-loading::before {
  content: "";
  width: 6px;
  height: 6px;
  background-color: var(--accent);
  border-radius: 50%;
  animation: statusPulse 1.5s ease-in-out infinite;
}

@keyframes statusPulse {
  0% {
    opacity: 0.4;
    transform: scale(0.9);
  }

  50% {
    opacity: 1;
    transform: scale(1.1);
  }

  100% {
    opacity: 0.4;
    transform: scale(0.9);
  }
}

.status:not(:empty) {
  animation: statusFadeIn 0.4s var(--motion-ease-premium);
}

@keyframes statusFadeIn {
  from {
    opacity: 0;
    transform: translateY(2px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Results */

.results-header-row {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  flex-wrap: wrap;
  display: block;
  margin-top: var(--space-xxs);
  margin-bottom: var(--space-sm);
}

.focus-controls {
  display: flex;
  justify-content: flex-end;
  margin: var(--space-xxs) 0 var(--space-sm-alt);
}

.focus-button {
  border: none;
  background: transparent;
  color: var(--accent-boost);
  font-size: var(--fs-small);
  font-weight: 600;
  letter-spacing: -0.01em;
  cursor: pointer;
  padding: var(--space-xxs) 0;
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
  text-decoration: none;
  transition: color var(--motion-duration-short) var(--motion-ease-premium), text-decoration-color var(--motion-duration-short) var(--motion-ease-premium);
}

.focus-button:hover {
  color: var(--accent-strong);
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
}

.focus-button:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
  border-radius: var(--radius-xs);
}

.report-header {
  background: var(--wash);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-xl-alt) var(--space-lg) var(--space-lg);
  margin-bottom: var(--space-lg);
  box-shadow: var(--shadow-card);
  transition: background var(--motion-duration-short) var(--motion-ease-premium);
}

.report-container--visible .report-header {
  background: linear-gradient(135deg, var(--wash) 0%, color-mix(in srgb, var(--accent-wash) 8%, var(--wash) 92%) 100%);
}

.report-header-top {
  display: flex;
  flex-direction: column;
  gap: var(--space-xl);
}

.report-header-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.report-verdict {
  font-size: var(--fs-body);
  color: var(--text-main);
  line-height: var(--lh-relaxed);
  font-weight: 500;
  padding: var(--space-md) 0;
}

.top-fixes {
  margin-top: var(--space-sm);
}

.top-fixes-label {
  font-size: var(--fs-small);
  font-weight: 700;
  color: var(--text-main);
  letter-spacing: -0.01em;
  margin-bottom: var(--space-sm);
}

.top-fixes-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.top-fixes-list li {
  font-size: var(--fs-label);
  color: var(--text-main);
  line-height: var(--lh-relaxed);
  padding-left: var(--space-md);
  position: relative;
}

.top-fixes-list li::before {
  content: "•";
  position: absolute;
  left: 0;
  color: var(--accent);
  font-weight: 700;
}

.report-cards {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.report-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-card);
  padding: var(--space-xl) var(--space-lg);
  box-shadow: var(--shadow-soft);
  transition:
    box-shadow var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium),
    border-color var(--motion-duration-short) var(--motion-ease-premium);
  overflow: hidden;
}

.report-card:hover {
  box-shadow: var(--shadow-card);
  border-color: var(--border-strong);
  transform: translateY(-1px);
}

.report-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
}

.report-card-title-group {
  flex: 1;
}

.report-card-title {
  font-family: var(--font-display);
  font-size: var(--fs-h1);
  font-weight: 700;
  color: var(--text-main);
  letter-spacing: -0.02em;
  margin: 0 0 var(--space-xxs) 0;
  line-height: var(--lh-cozy);
}

.report-card-subtitle {
  font-size: var(--fs-label);
  color: var(--text-muted);
  line-height: var(--lh-relaxed);
  margin: 0;
  opacity: 0.9;
}

.report-card-toggle {
  background: none;
  border: none;
  color: var(--accent);
  font-size: var(--fs-small);
  font-weight: 600;
  cursor: pointer;
  padding: var(--space-xxs) var(--space-sm);
  border-radius: var(--radius-sm);
  transition:
    background var(--motion-duration-short) var(--motion-ease-premium),
    color var(--motion-duration-short) var(--motion-ease-premium);
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
}

.report-card-toggle:hover {
  background: var(--accent-wash);
}

.report-card-toggle:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.report-card-toggle-icon {
  transition: transform var(--motion-duration-short) var(--motion-ease-premium);
  display: inline-block;
}

.report-card.expanded .report-card-toggle-icon {
  transform: rotate(180deg);
}

.report-card-preview {
  font-size: var(--fs-label);
  color: var(--text-main);
  line-height: var(--lh-relaxed);
  margin-top: var(--space-sm);
  opacity: 0.85;
  max-height: 200px;
  overflow: hidden;
  transition: opacity var(--motion-duration-short) var(--motion-ease-premium), max-height var(--motion-duration-short) var(--motion-ease-premium);
}

.report-card.expanded .report-card-preview {
  max-height: 0;
  opacity: 0;
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 0;
  padding-bottom: 0;
  overflow: hidden;
}

.report-card-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height var(--motion-duration-short) var(--motion-ease-premium);
  margin-top: 0;
}

.report-card.expanded .report-card-content {
  max-height: 5000px;
  margin-top: var(--space-md);
}

.report-card-content-inner {
  padding-top: var(--space-sm);
}

/* Static chapter layout (non-collapsible report sections) */
.report-chapter {
  position: relative;
  padding: var(--space-xl) var(--space-lg) var(--space-lg) var(--space-xl);
  margin-bottom: var(--space-lg);
  border-radius: var(--radius-input);
  background: transparent;
  transition: background var(--motion-duration-short) var(--motion-ease-premium),
    box-shadow var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium);
  /* Entry animation - starts hidden */
  opacity: 0;
  transform: translateY(5px);
}

.report-chapter.chapter-visible {
  opacity: 1;
  transform: translateY(0);
  transition: opacity var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium),
    background var(--motion-duration-short) var(--motion-ease-premium),
    box-shadow var(--motion-duration-short) var(--motion-ease-premium);
}

.report-chapter:hover {
  background: rgba(51, 65, 166, 0.03);
  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.06);
  transform: translateY(-2px);
}

.section-divider {
  max-width: 1100px;
  margin: var(--space-2xl) auto var(--space-xl);
  height: 2px;
  background: linear-gradient(90deg, transparent, color-mix(in srgb, var(--accent) 30%, transparent), transparent);
  border-radius: var(--radius-pill);
  opacity: 0.6;
}

.report-chapter.chapter-visible:hover {
  transform: translateY(-2px);
}

.report-chapter::before {
  content: "";
  position: absolute;
  left: 0;
  top: var(--space-sm);
  bottom: var(--space-sm);
  width: 3px;
  background: linear-gradient(180deg, var(--accent) 0%, color-mix(in srgb, var(--accent) 50%, transparent) 100%);
  border-radius: var(--radius-pill);
  opacity: 0.6;
  transition: opacity var(--motion-duration-short) var(--motion-ease-premium);
}

/* Compare strip */
.compare-strip {
  max-width: 1100px;
  margin: 48px auto;
  padding: 48px var(--space-lg) 40px;
  background: none;
  border: none;
  border-radius: 0;
  box-shadow: none;
}

.compare-title {
  font-family: var(--font-display);
  font-size: var(--fs-h1);
  font-weight: 700;
  letter-spacing: -0.02em;
  color: var(--text-main);
  margin-bottom: var(--space-md-lg);
}

.compare-chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
  padding: var(--space-xxs) var(--space-sm-alt);
  background: var(--accent-wash);
  color: var(--accent);
  border: 1px solid color-mix(in srgb, var(--accent) 20%, transparent);
  border-radius: var(--radius-pill);
  font-size: var(--fs-xs);
  font-weight: 600;
  letter-spacing: 0.01em;
  margin-bottom: var(--space-sm);
  width: fit-content;
}

.compare-subline {
  font-size: var(--fs-small);
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
  margin-bottom: var(--space-xl-alt);
}

.compare-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-lg);
}

.compare-column {
  background: rgba(0, 0, 0, 0.015);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  box-shadow: var(--shadow-soft);
  transition: box-shadow var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium),
    border-color var(--motion-duration-short) var(--motion-ease-premium);
}

.compare-column h3 {
  font-family: var(--font-display);
  font-size: var(--fs-h3);
  font-weight: 700;
  letter-spacing: -0.01em;
  margin-bottom: var(--space-sm);
  color: var(--text-main);
}

.compare-column ul {
  list-style: none;
  padding-left: 0;
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.compare-column li {
  position: relative;
  padding-left: var(--space-md);
}

.compare-column li::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.6em;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent-wash) 60%, transparent);
  transform: translateY(-50%);
}

.compare-column:hover {
  border-color: var(--accent);
  box-shadow: 0 14px 32px rgba(15, 23, 42, 0.12);
  transform: translateY(-2px);
}

@media (max-width: 600px) {
  .compare-strip {
    padding: var(--space-xl) var(--space-md-alt) var(--space-xl);
  }

  .compare-title {
    font-size: var(--fs-h2);
  }
}

/* Reduced motion: show chapters immediately */
@media (prefers-reduced-motion: reduce) {
  .report-chapter {
    opacity: 1;
    transform: none;
    transition: background var(--motion-duration-short) var(--motion-ease-premium);
  }

  .report-chapter:hover {
    transform: none;
  }
}

.report-chapter:hover {
  background: rgba(51, 65, 166, 0.03);
}

.report-chapter:hover::before {
  opacity: 0.9;
}

.report-chapter:last-child {
  margin-bottom: 0;
}

.report-chapter-title {
  font-family: var(--font-display);
  font-size: var(--fs-h2);
  font-weight: 700;
  color: var(--ink-900);
  letter-spacing: -0.02em;
  margin: 0 0 var(--space-xxs) 0;
  line-height: var(--lh-cozy);
}

.report-chapter-subtitle {
  font-size: var(--fs-small);
  color: var(--text-muted);
  line-height: var(--lh-relaxed);
  margin: 0 0 var(--space-md) 0;
}

.report-chapter-content {
  font-size: var(--fs-label);
  color: var(--text-main);
  line-height: var(--lh-relaxed);
}

.report-chapter-content p {
  margin: 0 0 var(--space-sm) 0;
}

.report-chapter-content ul {
  margin: 0 0 var(--space-sm) 0;
  padding-left: var(--space-lg);
}

.report-chapter-content li {
  margin-bottom: var(--space-xs);
  line-height: var(--lh-relaxed);
}

.report-chapters {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.report-view {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.results-actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: var(--space-sm);
  margin-top: var(--space-tight);
}

.results-actions-bottom {
  margin-top: var(--space-md-alt);
}

.score-wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm-alt);
  padding: 0;
  border-radius: var(--radius-pill);
  background: transparent;
  border: none;
  box-shadow: none;
  width: 100%;
}

.score-wrapper.hidden {
  display: none;
}

.score-cluster {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
}

.score-texts {
  display: flex;
  flex-direction: column;
  gap: var(--space-micro);
}

.score-label-text {
  font-size: var(--fs-small);
  color: var(--text-main);
  font-weight: 700;
  letter-spacing: -0.01em;
}

.score-short-text {
  font-size: var(--fs-xs);
  color: var(--text-soft);
  line-height: var(--lh-medium);
}

.report-meta {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  margin-bottom: var(--space-sm);
  line-height: var(--lh-medium);
}

.score-help {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  margin-top: var(--space-xxs);
  line-height: var(--lh-normal);
}

#results-title {
  font-size: var(--fs-xl);
  margin-bottom: var(--space-tight);
  color: var(--text-main);
  font-weight: 800;
  letter-spacing: -0.02em;
  position: relative;
}

.results-bridge {
  margin: var(--space-md-alt) 0 var(--space-md-lg);
}

.report-accent-line {
  height: var(--accent-width);
  background: var(--accent);
  border-radius: var(--radius-pill);
  margin: var(--space-tight) 0 var(--space-xxs);
  transform-origin: left;
  width: 100%;
}

.report-wrapper {
  display: none;
}

.report-container {
  opacity: 0;
  transform: translateY(12px) scale(0.98);
  filter: blur(3px);
}

.report-container--visible {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
  transition:
    opacity 420ms cubic-bezier(0.16, 1, 0.3, 1),
    transform 420ms cubic-bezier(0.16, 1, 0.3, 1),
    filter 420ms cubic-bezier(0.16, 1, 0.3, 1);
}

@media (prefers-reduced-motion: reduce) {

  .report-container,
  .report-container--visible {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }

  .report-header {
    transition: none !important;
  }
}

.report-title {
  position: relative;
  display: inline-block;
}

.report-title::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  height: 2px;
  width: 100%;
  background: var(--accent);
  transform: scaleX(0);
  transform-origin: left;
}

.bridge-heading {
  font-size: var(--fs-base);
  font-weight: 700;
  color: var(--ink-900);
  letter-spacing: -0.01em;
  margin-bottom: var(--space-tight);
}

#results-subtitle {
  font-size: var(--fs-base);
  color: var(--slate-700);
  line-height: var(--lh-relaxed);
  max-width: 620px;
  margin: 0;
}

.score-header-inside {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm-alt);
  margin: var(--space-tight) 0 var(--space-md-lg);
}

.score-dial-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm-alt);
  position: relative;
  opacity: 0;
  transition: opacity var(--motion-duration-medium) var(--motion-ease-premium);
}

.score-dial-container.visible {
  opacity: 1;
}

.score-dial {
  position: relative;
  width: 140px;
  height: 140px;
}

.score-dial svg {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.score-dial-bg {
  fill: none;
  stroke: rgba(15, 23, 42, 0.08);
  stroke-width: 8;
}

.score-dial-progress {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
  stroke-dasharray: 339.292;
  stroke-dashoffset: 339.292;
  transform-origin: center;
}

@media (prefers-reduced-motion: reduce) {
  .score-dial-progress {
    transition: none;
  }
}

.score-dial-number {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: var(--font-display);
  font-size: var(--fs-dial);
  font-weight: 800;
  letter-spacing: -0.02em;
  color: var(--text-main);
  line-height: 1;
}

.score-dial-label {
  font-size: var(--fs-small);
  color: var(--text-muted);
  font-weight: 500;
  text-align: center;
  letter-spacing: 0.01em;
}

.score-dial--reveal {
  animation: none;
}

@media (prefers-reduced-motion: reduce) {
  .score-dial--reveal {
    animation: none;
  }

  .score-dial-glow {
    animation: none;
  }
}

.score-tooltip {
  position: absolute;
  top: calc(100% + var(--space-md-alt));
  left: 50%;
  transform: translateX(-50%) translateY(var(--space-xxs));
  width: 320px;
  max-width: calc(100vw - var(--space-3xl));
  background: var(--bg-panel);
  border: 1px solid var(--border-strong);
  box-shadow: 0 18px 44px rgba(0, 0, 0, 0.12);
  border-radius: var(--radius-input);
  padding: var(--space-sm-alt);
  font-size: var(--fs-xs);
  color: var(--text-main);
  line-height: var(--lh-normal);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--motion-duration-short) var(--motion-ease-premium), transform var(--motion-duration-short) var(--motion-ease-premium);
  z-index: 5;
}

.score-tip-line {
  margin-bottom: var(--space-xxs);
  color: var(--text-soft);
}

.score-tip-line:last-child {
  margin-bottom: 0;
}

.score-wrapper:hover .score-tooltip,
.score-wrapper:focus-within .score-tooltip,
.score-dial-container:hover~.score-tooltip,
.score-dial-container:focus-within~.score-tooltip,
.score-tooltip.open {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  pointer-events: auto;
  box-shadow: 0 18px 44px rgba(0, 0, 0, 0.12);
}

.score-low .score-dial-progress {
  stroke: var(--error);
}

.score-low .score-dial-number {
  color: var(--error-dark);
}

.score-mid .score-dial-progress {
  stroke: var(--warning);
}

.score-mid .score-dial-number {
  color: var(--warning-dark);
}

.score-good .score-dial-progress {
  stroke: var(--accent);
}

.score-good .score-dial-number {
  color: var(--accent);
}

.score-great .score-dial-progress {
  stroke: var(--success-light);
}

.score-great .score-dial-number {
  color: var(--success-dark);
}

.issue-breakdown {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-top: var(--space-tight);
  width: 100%;
  max-width: 280px;
  opacity: 0;
  transition: opacity var(--motion-duration-medium) var(--motion-ease-premium);
}

.issue-breakdown.visible {
  opacity: 1;
}

.issue-bar {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  padding: var(--space-sm) var(--space-sm-alt);
  background: var(--wash);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
  text-align: left;
  overflow: hidden;
}

.issue-bar:hover,
.issue-bar:focus-visible {
  background: var(--accent-wash);
  border-color: var(--accent);
  transform: translateX(2px);
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.issue-bar-content {
  position: relative;
  z-index: 2;
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.issue-bar-label {
  font-size: var(--fs-small);
  font-weight: 600;
  color: var(--text-main);
  letter-spacing: -0.01em;
}

.issue-bar-count {
  font-size: var(--fs-xs);
  font-weight: 500;
  color: var(--text-muted);
  letter-spacing: 0.01em;
}

.issue-bar-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: var(--accent);
  opacity: 0.08;
  width: 0%;
  transition: width var(--motion-duration-medium) var(--motion-ease-premium);
  z-index: 1;
}

.issue-bar[data-count="0"] .issue-bar-fill {
  width: 0%;
}

.issue-bar[data-count="1"] .issue-bar-fill {
  width: 20%;
}

.issue-bar[data-count="2"] .issue-bar-fill {
  width: 40%;
}

.issue-bar[data-count="3"] .issue-bar-fill {
  width: 60%;
}

.issue-bar[data-count="4"] .issue-bar-fill,
.issue-bar[data-count="5"] .issue-bar-fill {
  width: 80%;
}

.issue-bar[data-count="6"] .issue-bar-fill,
.issue-bar[data-count="7"] .issue-bar-fill,
.issue-bar[data-count="8"] .issue-bar-fill,
.issue-bar[data-count="9"] .issue-bar-fill,
.issue-bar[data-count="10"] .issue-bar-fill {
  width: 100%;
}

@media (max-width: 1024px) {
  .issue-breakdown {
    max-width: 100%;
    margin-top: var(--space-md-alt);
  }
}

@media (max-width: 600px) {
  .issue-breakdown {
    margin-top: var(--space-md-alt);
    gap: var(--space-tight);
  }

  .issue-bar {
    padding: var(--space-tight) var(--space-sm);
  }

  .issue-bar-label {
    font-size: var(--fs-xs);
  }

  .issue-bar-count {
    font-size: var(--fs-tiny);
  }
}

.issue-breakdown-microcopy {
  margin-top: var(--space-sm-alt);
  font-size: var(--fs-xs);
  color: var(--text-muted);
  text-align: center;
  line-height: var(--lh-medium);
  letter-spacing: 0.01em;
}

@media (max-width: 600px) {
  .issue-breakdown-microcopy {
    font-size: var(--fs-tiny);
    margin-top: var(--space-sm);
  }
}

.score-bands-trigger {
  background: none;
  border: none;
  padding: 0;
  color: var(--text-soft);
  font-size: var(--fs-xs);
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: var(--space-micro);
  margin-top: var(--space-tight);
  align-self: flex-start;
}

.score-bands-trigger:hover,
.score-bands-trigger:focus-visible {
  color: var(--text-main);
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
  border-radius: var(--radius-xs);
}

.score-bands-panel {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  max-width: 320px;
}

.score-bands-panel-title {
  font-size: var(--fs-small);
  font-weight: 700;
  color: var(--text-main);
  letter-spacing: -0.01em;
}

.score-bands-intro {
  font-size: var(--fs-xs);
  color: var(--text-soft);
  line-height: var(--lh-custom);
}

.score-bands-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-tight);
}

.score-band-item {
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-tight) var(--space-sm);
  background: var(--surface-tint);
  display: flex;
  flex-direction: column;
  gap: var(--space-xxs);
}

.score-band-item.active {
  border-color: var(--accent);
  background: var(--accent-wash);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
}

.score-band-header {
  display: flex;
  align-items: center;
  gap: var(--space-xxs);
  font-size: var(--fs-small);
  color: var(--text-main);
  font-weight: 700;
  letter-spacing: -0.01em;
}

.score-band-range {
  color: var(--text-main);
}

.score-band-label {
  color: var(--text-soft);
  font-weight: 600;
}

.score-band-chip {
  margin-left: auto;
  font-size: var(--fs-tiny);
  background: color-mix(in srgb, var(--accent) 20%, var(--bg-panel) 80%);
  color: var(--accent-strong);
  padding: var(--space-xxs) var(--space-xxs);
  border-radius: var(--radius-pill);
  font-weight: 700;
  letter-spacing: -0.01em;
}

.score-band-description {
  font-size: var(--fs-xs);
  color: var(--text-soft);
  line-height: var(--lh-normal);
}

/* Paywall */
.paywall-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.55);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 20;
  opacity: 0;
  transition: opacity var(--motion-duration-medium) var(--motion-ease-premium);
}

.paywall-backdrop[style*="flex"] {
  animation: fadeIn var(--motion-duration-medium) var(--motion-ease-premium) forwards;
}

.paywall-card {
  background: var(--bg-panel);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius-xl);
  box-shadow: 0 32px 80px rgba(15, 23, 42, 0.25), 0 12px 32px rgba(15, 23, 42, 0.12);
  width: min(520px, 92vw);
  padding: var(--space-lg) var(--space-lg) var(--space-md-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-sm-alt);
  animation: slideUp var(--motion-duration-medium) var(--motion-ease-premium) forwards;
}

.paywall-title {
  font-size: var(--fs-xl);
  font-weight: 800;
  color: var(--text-main);
  letter-spacing: -0.02em;
  line-height: var(--lh-tight);
}

.paywall-subtitle {
  font-size: var(--fs-small);
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
}

.paywall-list {
  margin: var(--space-xxs) 0 var(--space-tight);
  padding-left: var(--space-md-lg);
  color: var(--text-main);
  line-height: var(--lh-custom);
  font-size: var(--fs-label);
}

.paywall-actions {
  display: flex;
  gap: var(--space-sm);
  flex-wrap: wrap;
  margin-top: var(--space-xxs);
}

.paywall-primary {
  background: var(--accent);
  color: #ffffff;
  border: none;
  border-radius: var(--radius-md);
  padding: var(--space-sm-alt) var(--space-lg);
  font-family: var(--font-display);
  font-size: var(--fs-label);
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(51, 65, 166, 0.15);
  transition: background 0.2s ease, transform 0.15s ease, box-shadow 0.15s ease;
}

.paywall-primary:hover:not(:disabled) {
  background: var(--accent-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(51, 65, 166, 0.2);
}

.paywall-primary:active:not(:disabled) {
  transform: translateY(0);
}

.paywall-primary:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: 0 2px 8px rgba(51, 65, 166, 0.15), var(--focus-shadow);
}

.paywall-secondary {
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  color: var(--text-main);
  border-radius: var(--radius-md);
  padding: var(--space-sm) var(--space-md-lg);
  font-size: var(--fs-label);
  font-weight: 500;
  cursor: pointer;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.paywall-secondary:hover:not(:disabled) {
  background: var(--accent-wash);
  border-color: var(--accent);
  color: var(--accent);
  transform: translateY(-1px);
}

.paywall-secondary:active:not(:disabled) {
  transform: translateY(0);
}

.paywall-secondary:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

/* Redesigned Paywall with Tier Cards */
.paywall-card--pricing {
  width: min(560px, 94vw);
  padding: var(--space-xl) var(--space-xl-alt) var(--space-lg);
  padding-top: calc(var(--space-xl) + var(--space-sm));
  gap: var(--space-lg);
  position: relative;
}

.paywall-close-btn {
  position: absolute;
  top: var(--space-md-alt);
  right: var(--space-md-alt);
  width: 32px;
  height: 32px;
  background: var(--surface-tint);
  border: 1px solid var(--border-subtle);
  color: var(--text-muted);
  cursor: pointer;
  padding: 0;
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.paywall-close-btn:hover {
  color: var(--text-main);
  background: var(--wash);
  border-color: var(--border-strong);
  transform: scale(1.05);
}

.paywall-close-btn:active {
  transform: scale(0.98);
}

.paywall-close-btn:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
}

.paywall-header {
  text-align: center;
  margin-bottom: var(--space-sm);
  padding-inline: var(--space-lg);
}

.paywall-card--pricing .paywall-title {
  font-size: var(--fs-xl);
  font-weight: 800;
  letter-spacing: -0.02em;
  margin-bottom: var(--space-xs);
}

.paywall-card--pricing .paywall-subtitle {
  font-size: var(--fs-small);
  color: var(--text-muted);
}

.paywall-tiers {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md);
}

.paywall-tier {
  position: relative;
  background: var(--wash);
  border: 2px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-xl-alt) var(--space-md-alt) var(--space-md-lg);
  text-align: center;
  cursor: pointer;
  overflow: visible;
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.paywall-tier::before {
  display: none;
}

.paywall-tier:hover {
  border-color: var(--accent);
  box-shadow: 0 12px 32px rgba(51, 65, 166, 0.15);
  transform: translateY(-3px);
}

.paywall-tier:hover::before {
  background: var(--accent);
}

.paywall-tier:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
}

.paywall-tier--24h {
  background: linear-gradient(165deg, var(--accent-wash) 0%, var(--wash) 60%);
  border-color: var(--accent);
}

.paywall-tier--24h::before {
  background: linear-gradient(90deg, var(--accent) 0%, var(--accent-dark) 100%);
}

.paywall-tier--24h:hover {
  background: linear-gradient(165deg, color-mix(in srgb, var(--accent-wash) 130%, var(--wash)) 0%, var(--wash) 60%);
  box-shadow: 0 16px 40px rgba(51, 65, 166, 0.2);
}

.paywall-tier-badge {
  position: absolute;
  top: calc(var(--space-sm-alt) * -1);
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
  color: white;
  font-size: var(--fs-tiny);
  font-weight: 700;
  padding: var(--space-xxs) var(--space-sm-alt);
  border-radius: var(--radius-pill);
  letter-spacing: 0.03em;
  text-transform: uppercase;
  box-shadow: 0 4px 12px rgba(51, 65, 166, 0.25);
}

.paywall-tier--30d .paywall-tier-badge {
  background: linear-gradient(135deg, var(--success) 0%, var(--success-dark) 100%);
  box-shadow: 0 4px 12px rgba(21, 128, 61, 0.25);
}

.paywall-tier-price {
  font-family: var(--font-display);
  font-size: 38px;
  font-weight: 800;
  color: var(--accent);
  letter-spacing: -0.03em;
  margin-bottom: var(--space-xxs);
  line-height: 1;
}

.paywall-tier--30d .paywall-tier-price {
  color: var(--success-dark);
}

.paywall-tier-name {
  font-family: var(--font-display);
  font-size: var(--fs-body);
  font-weight: 700;
  color: var(--text-main);
  margin-bottom: var(--space-tight);
  letter-spacing: -0.01em;
}

.paywall-tier-desc {
  font-size: var(--fs-xs);
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
}

.paywall-tier.selected {
  border-color: var(--accent);
  box-shadow: 0 14px 40px rgba(51, 65, 166, 0.18), 0 0 0 3px color-mix(in srgb, var(--accent) 20%, transparent);
  transform: translateY(-3px);
}

.paywall-tier.selected::before {
  background: linear-gradient(90deg, var(--accent) 0%, var(--accent-dark) 100%);
}

.paywall-tier--30d.selected {
  border-color: var(--success);
  box-shadow: 0 14px 40px rgba(21, 128, 61, 0.18), 0 0 0 3px color-mix(in srgb, var(--success) 20%, transparent);
}

.paywall-tier--30d.selected::before {
  background: linear-gradient(90deg, var(--success) 0%, var(--success-dark) 100%);
}

.paywall-status {
  text-align: center;
  font-size: var(--fs-small);
  color: var(--text-muted);
  min-height: var(--space-lg);
}

.paywall-auth {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm-alt);
  background: linear-gradient(135deg, var(--wash) 0%, color-mix(in srgb, var(--accent-wash) 30%, var(--wash)) 100%);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-md-alt);
}

.paywall-input-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-xxs);
}

.paywall-input-group label {
  font-size: var(--fs-xs);
  font-weight: 600;
  color: var(--text-soft);
  letter-spacing: 0.01em;
}

.paywall-input-helper {
  font-size: var(--fs-tiny);
  color: var(--text-muted);
  line-height: var(--lh-relaxed);
}

.paywall-input-group input {
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-sm-alt);
  font-size: var(--fs-base);
  color: var(--text-main);
  background: var(--bg-panel);
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
}

.paywall-input-group input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 15%, transparent);
}

.paywall-input-group input::placeholder {
  color: var(--text-muted);
}

.paywall-actions-row {
  display: flex;
  gap: var(--space-sm);
  flex-wrap: wrap;
  justify-content: flex-start;
}

.paywall-footer {
  text-align: center;
  padding-top: var(--space-md);
  margin-top: var(--space-xs);
  border-top: 1px solid var(--border-subtle);
}

.paywall-trust {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-xxs);
}

.paywall-trust::before {
  content: "🔒";
  font-size: var(--fs-tiny);
}

@media (max-width: 520px) {
  .paywall-tiers {
    grid-template-columns: 1fr;
  }

  .paywall-card--pricing {
    padding: var(--space-lg) var(--space-md-alt) var(--space-md-alt);
  }
}

/* Pricing Section */
.pricing-section {
  max-width: 1100px;
  margin: var(--sp-3xl) auto;
  padding: var(--sp-2xl) var(--sp-l);
  background: var(--bg-body);
  border-radius: 0;
  border: none;
}

.pricing-header {
  text-align: center;
  margin-bottom: var(--sp-2xl);
}

.pricing-chip {
  display: inline-block;
  background: var(--bg-card-alt);
  color: var(--text-secondary);
  font-size: 12px;
  font-weight: 600;
  padding: 6px 14px;
  border-radius: var(--radius-pill);
  letter-spacing: 0.04em;
  text-transform: uppercase;
  margin-bottom: var(--sp-m);
}

.pricing-title {
  font-family: var(--font-display);
  font-size: 26px;
  font-weight: 600;
  color: var(--text-primary);
  letter-spacing: -0.02em;
  line-height: 1.25;
  margin-bottom: var(--sp-s);
  max-width: 620px;
  margin-left: auto;
  margin-right: auto;
}

.pricing-subline {
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.55;
  max-width: 480px;
  margin: 0 auto;
}

.pricing-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--sp-xl);
  margin-bottom: var(--sp-xl);
}

.pricing-card {
  position: relative;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-card);
  padding: var(--sp-2xl) var(--sp-l);
  max-width: 360px;
  display: flex;
  flex-direction: column;
  box-shadow: var(--shadow-card);
  transition:
    box-shadow var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium),
    border-color var(--motion-duration-short) var(--motion-ease-premium);
}

.pricing-card:hover {
  box-shadow: 0 12px 32px rgba(15, 23, 42, 0.1);
  transform: translateY(-4px);
}

.pricing-card--popular {
  border-color: var(--brand);
  border-width: 2px;
  box-shadow: 0 12px 32px rgba(79, 70, 229, 0.15), 0 0 0 4px rgba(79, 70, 229, 0.06);
}

.pricing-card--popular:hover {
  box-shadow: 0 18px 40px rgba(79, 70, 229, 0.22), 0 0 0 6px rgba(79, 70, 229, 0.08);
  transform: translateY(-5px);
}

.pricing-card-popular-badge {
  position: absolute;
  top: calc(var(--sp-m) * -1);
  left: 50%;
  transform: translateX(-50%);
  background: var(--accent-warm);
  color: #1a1c20;
  font-size: 12px;
  font-weight: 700;
  padding: 6px 16px;
  border-radius: var(--radius-pill);
  letter-spacing: 0.02em;
  text-transform: uppercase;
  white-space: nowrap;
  box-shadow: 0 4px 12px rgba(245, 178, 92, 0.4);
}

.pricing-card-header {
  margin-bottom: var(--space-md);
}

.pricing-card-badge {
  display: inline-block;
  font-size: var(--fs-tiny);
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin-bottom: var(--space-xs);
}

.pricing-card-price {
  margin-bottom: var(--space-xs);
}

.pricing-price-amount {
  font-family: var(--font-display);
  font-size: 36px;
  font-weight: 700;
  color: var(--text-primary);
  letter-spacing: -0.03em;
}

.pricing-card--popular .pricing-price-amount {
  color: var(--accent);
}

.pricing-card-title {
  font-family: var(--font-display);
  font-size: var(--fs-h3);
  font-weight: 700;
  color: var(--ink-900);
  letter-spacing: -0.01em;
}

.pricing-card-features {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--space-lg);
  flex: 1;
}

.pricing-card-features li {
  font-size: var(--fs-small);
  color: var(--text-soft);
  line-height: var(--lh-relaxed);
  padding-left: var(--space-lg);
  position: relative;
  margin-bottom: var(--space-sm);
}

.pricing-card-features li::before {
  content: "✓";
  position: absolute;
  left: 0;
  color: var(--success);
  font-weight: 700;
}

.pricing-card-cta {
  display: block;
  text-align: center;
  padding: var(--space-sm-alt) var(--space-lg);
  border-radius: var(--radius-input);
  font-size: var(--fs-label);
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition:
    background var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium),
    box-shadow var(--motion-duration-short) var(--motion-ease-premium);
}

.pricing-cta--free {
  background: var(--surface-tint);
  color: var(--text-main);
  border: 1px solid var(--border-subtle);
}

.pricing-cta--free:hover {
  background: var(--border-subtle);
  transform: translateY(-1px);
}

.pricing-cta--primary {
  background: var(--accent);
  color: white;
  border: none;
  box-shadow: 0 2px 8px rgba(51, 65, 166, 0.15);
}

.pricing-cta--primary:hover {
  background: var(--accent-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(51, 65, 166, 0.2);
}

/* Secondary tier - outline style */
.pricing-cta--secondary {
  background: transparent;
  color: var(--accent);
  border: 1.5px solid color-mix(in srgb, var(--accent) 50%, transparent);
}

.pricing-cta--secondary:hover {
  background: color-mix(in srgb, var(--accent) 6%, transparent);
  border-color: var(--accent);
  transform: translateY(-1px);
}

.pricing-trust-row {
  display: flex;
  justify-content: center;
  gap: var(--space-xl);
  flex-wrap: wrap;
}

.pricing-trust-item {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  font-size: var(--fs-xs);
  color: var(--text-muted);
}

.pricing-trust-icon {
  color: var(--text-muted);
  opacity: 0.7;
}

@media (max-width: 900px) {
  .pricing-grid {
    grid-template-columns: 1fr;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }

  .pricing-card--popular {
    order: -1;
  }
}

@media (max-width: 600px) {
  .pricing-section {
    padding: var(--space-xl) var(--space-md-alt);
    margin: var(--space-xl) 0;
    border-radius: var(--radius-lg);
  }

  .pricing-title {
    font-size: var(--fs-h2);
  }

  .pricing-trust-row {
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
  }
}

/* Dark mode for pricing */
[data-theme="dark"] .pricing-section {
  background: var(--bg-card);
}

[data-theme="dark"] .pricing-card {
  background: var(--bg-panel);
}

[data-theme="dark"] .pricing-card--popular {
  box-shadow: 0 12px 32px rgba(91, 111, 216, 0.2);
}

[data-theme="dark"] .pricing-cta--free {
  background: var(--surface-tint);
  border-color: var(--border-strong);
}

[data-theme="dark"] .paywall-tier {
  background: var(--bg-card);
}

[data-theme="dark"] .paywall-tier--24h {
  background: linear-gradient(165deg, var(--accent-wash) 0%, var(--bg-card) 60%);
}

[data-theme="dark"] .paywall-tier:hover {
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .paywall-tier.selected {
  box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35), 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent);
}

[data-theme="dark"] .short-resume-dialog {
  background: rgba(0, 0, 0, 0.65);
}

[data-theme="dark"] .short-resume-card {
  box-shadow: 0 24px 64px rgba(0, 0, 0, 0.5), 0 8px 24px rgba(0, 0, 0, 0.35);
}

[data-theme="dark"] .run-toast {
  background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-panel) 100%);
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4), 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .locked-section-teaser {
  background: linear-gradient(135deg, var(--bg-card) 0%, color-mix(in srgb, var(--accent-wash) 30%, var(--bg-card)) 100%);
}

[data-theme="dark"] .free-tier-upsell {
  background: linear-gradient(135deg, var(--bg-card) 0%, var(--accent-wash) 50%, var(--bg-card) 100%);
}

#loading-bar {
  height: 3px;
  border-radius: var(--radius-pill);
  background: linear-gradient(90deg, var(--accent-strong), var(--accent-boost), var(--accent-strong));
  background-size: 200% 100%;
  margin-top: var(--space-tight);
  opacity: 0;
  transform: scaleX(0.9);
  transform-origin: center;
}

#loading-bar.active {
  opacity: 1;
  animation: loadingSlide 1.1s linear infinite;
  box-shadow: 0 8px 22px rgba(15, 23, 42, 0.18);
}

@keyframes loadingSlide {
  0% {
    background-position: 0% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

#results-body {
  border: 1px solid var(--border-subtle);
  padding: var(--space-md-alt) var(--space-md-lg);
  line-height: var(--lh-loose);
  white-space: normal;
  font-weight: 400;
  margin-top: var(--space-tight);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
  background: var(--bg-panel);
  border-radius: var(--radius-input);
}

#results-body.muted {
  opacity: 0.55;
  filter: grayscale(0.06);
}

#results-body.refreshed {
  animation: fadeUp var(--motion-duration-short) var(--motion-ease-premium);
}

#results-body.empty {
  color: color-mix(in srgb, var(--text-muted) 82%, transparent);
  background: var(--wash);
  text-align: center;
  padding: var(--space-xl) var(--space-lg);
}

.results-summary {
  font-size: var(--fs-body);
  color: var(--text-main);
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-input);
  padding: var(--space-lg) var(--space-xl-alt);
  line-height: var(--lh-extra-loose);
  box-shadow: 0 6px 20px rgba(15, 23, 42, 0.06);
  margin-bottom: var(--space-xl-alt);
}

.results-summary.empty {
  color: var(--text-muted);
  box-shadow: none;
  text-align: center;
}

.results-skeleton {
  display: flex;
  flex-direction: column;
  gap: 0;
  min-height: 400px;
  position: relative;
  background: transparent;
  border: none;
  padding: 0;
  margin: 0;
}

.skeleton-score-area {
  display: flex !important;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm-alt);
  padding-bottom: var(--space-tight);
  width: 100%;
}

.skeleton-score-dial {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: var(--border-strong) !important;
  border: 2px solid var(--border-subtle);
  position: relative;
  overflow: visible;
  flex-shrink: 0;
  display: block !important;
}

.skeleton-score-dial::after {
  content: "";
  position: absolute;
  inset: 8px;
  border-radius: 50%;
  background: var(--wash);
  border: 1px solid var(--border-subtle);
}

.skeleton-score-label {
  width: 120px;
  height: var(--fs-label);
  border-radius: var(--radius-xs);
  background: var(--border-strong) !important;
  flex-shrink: 0;
  display: block !important;
}

.skeleton-issue-breakdown {
  display: flex !important;
  flex-direction: column;
  gap: var(--space-sm);
  width: 100%;
  margin-top: var(--space-tight);
  max-width: 100%;
}

.skeleton-issue-bar {
  height: 42px;
  border-radius: var(--radius-sm);
  background: var(--border-strong) !important;
  border: 1px solid var(--border-subtle);
  width: 100%;
  flex-shrink: 0;
  display: block !important;
}

.skeleton-results-top {
  position: relative;
  background: var(--wash);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-xl-alt) var(--space-lg) var(--space-lg);
  margin-bottom: var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-tight);
  width: 100%;
}

.skeleton-card {
  position: relative;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-card);
  padding: var(--space-xl) var(--space-lg);
  margin-bottom: var(--space-md);
  display: flex;
  flex-direction: column;
  gap: var(--space-tight);
  width: 100%;
}

.skeleton-header-row {
  margin-bottom: var(--space-sm-alt);
}

.skeleton-heading {
  width: 200px;
  height: 26px;
  border-radius: var(--radius-xs);
  background: linear-gradient(90deg,
      var(--border-strong) 0%,
      color-mix(in srgb, var(--border-strong) 70%, var(--accent-wash) 30%) 50%,
      var(--border-strong) 100%);
  background-size: 200% 100%;
  margin-bottom: var(--space-sm-alt);
  animation: skeletonShimmer 3s ease-in-out infinite;
  flex-shrink: 0;
  display: block !important;
}

.skeleton-subline {
  width: 85%;
  height: 14px;
  border-radius: var(--radius-xs);
  background: linear-gradient(90deg,
      var(--border-strong) 0%,
      color-mix(in srgb, var(--border-strong) 70%, var(--accent-wash) 30%) 50%,
      var(--border-strong) 100%);
  background-size: 200% 100%;
  margin-bottom: var(--space-lg);
  opacity: 0.7;
  animation: skeletonShimmer 3s ease-in-out infinite;
  flex-shrink: 0;
  display: block !important;
}

.skeleton-line {
  height: 8px;
  border-radius: var(--radius-pill);
  background: linear-gradient(90deg,
      var(--border-strong) 0%,
      color-mix(in srgb, var(--border-strong) 70%, var(--accent-wash) 30%) 50%,
      var(--border-strong) 100%);
  background-size: 200% 100%;
  width: 100%;
  animation: skeletonPulse 1.8s ease-in-out infinite,
    skeletonShimmer 2.5s ease-in-out infinite;
  flex-shrink: 0;
  display: block !important;
}

.skeleton-score-dial,
.skeleton-score-label,
.skeleton-issue-bar {
  background: linear-gradient(90deg,
      var(--border-strong) 0%,
      color-mix(in srgb, var(--border-strong) 70%, var(--accent-wash) 30%) 50%,
      var(--border-strong) 100%) !important;
  background-size: 200% 100% !important;
  animation: skeletonShimmer 3s ease-in-out infinite;
}

@keyframes skeletonPulse {

  0%,
  100% {
    opacity: 1;
    background-color: var(--border-strong);
  }

  50% {
    opacity: 0.7;
    background-color: color-mix(in srgb, var(--border-strong) 85%, var(--border-subtle) 15%);
  }
}

@keyframes skeletonShimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

/* Make skeleton visible when not hidden - override .hidden class */
.results-skeleton.hidden {
  display: none !important;
  visibility: hidden !important;
}

.results-skeleton:not(.hidden) {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
  z-index: 1;
}

/* Skeleton accent line should be visible but subtle */
.results-skeleton.stack-accent-line .skeleton-results-top::before,
.results-skeleton.stack-accent-line .skeleton-summary-section::before,
.results-skeleton.stack-accent-line .skeleton-section::before {
  content: "";
  position: absolute;
  left: 0;
  top: 8px;
  bottom: 8px;
  width: 3px;
  background: linear-gradient(180deg, var(--border-strong) 0%, color-mix(in srgb, var(--border-strong) 60%, transparent) 100%);
  border-radius: var(--radius-pill);
  opacity: 0.4;
  pointer-events: none;
  animation: skeletonPulse 1.5s ease-in-out infinite;
}

.results-skeleton.stack-accent-line .skeleton-results-top::before {
  display: none;
  /* results-top doesn't have accent line */
}

.skeleton-line.wide {
  width: 92%;
}

.skeleton-line.mid {
  width: 74%;
}

.skeleton-line.short {
  width: 52%;
}

.skeleton-title {
  width: 180px;
  height: 24px;
  margin-bottom: var(--space-sm-alt);
}

.skeleton-text-wide {
  width: 85%;
  height: 12px;
  margin-bottom: var(--space-tight);
}

.skeleton-text-mid {
  width: 70%;
  height: 12px;
}

.skeleton-content-line {
  margin-top: var(--space-tight);
}

.hidden {
  display: none !important;
}

.results-summary.empty {
  color: var(--text-muted);
}

@keyframes reportRevealSoft {
  from {
    opacity: 0;
    transform: translateY(12px) scale(0.98);
    filter: blur(2px);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes scorePillPop {
  from {
    transform: scale(0.90);
    background-color: color-mix(in srgb, var(--score-pill-bg) 80%, white 20%);
    opacity: 0.85;
  }

  50% {
    transform: scale(1.04);
    background-color: color-mix(in srgb, var(--score-pill-bg) 95%, white 5%);
    opacity: 0.98;
  }

  100% {
    transform: scale(1);
    background-color: var(--score-pill-bg);
    opacity: 1;
  }
}

@keyframes accentLineDraw {
  from {
    transform: scaleX(0);
  }

  to {
    transform: scaleX(1);
  }
}

@keyframes accentWipe {
  from {
    transform: scaleY(0);
  }

  to {
    transform: scaleY(1);
  }
}

@keyframes titleUnderline {
  from {
    transform: scaleX(0);
  }

  to {
    transform: scaleX(1);
  }
}

@keyframes reportSectionIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(4px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.results-error {
  border-color: var(--error) !important;
  color: var(--error-dark) !important;
  background: var(--error-bg) !important;
}

#results-body {
  display: flex;
  flex-direction: column;
  gap: var(--stack-gap);
}

.stack {
  display: flex;
  flex-direction: column;
  gap: var(--stack-gap);
  position: relative;
}

.stack-accent-line {
  position: relative;
}

.stack::before,
.stack-accent-line::before {
  content: "";
  position: absolute;
  left: 0;
  top: 8px;
  bottom: 8px;
  width: 3px;
  background: linear-gradient(180deg, var(--accent) 0%, color-mix(in srgb, var(--accent) 60%, transparent) 100%);
  border-radius: var(--radius-pill);
  opacity: 0.7;
  pointer-events: none;
  transition: opacity var(--motion-duration-short) var(--motion-ease-premium);
}

.stack-section {
  position: relative;
  padding: var(--space-3xl) var(--space-lg) var(--space-xl-alt) var(--space-3xl);
  margin: 0 0 var(--space-3xl) 0;
  border-radius: var(--radius-input);
  transition:
    background var(--motion-duration-short) var(--motion-ease-premium),
    transform var(--motion-duration-short) var(--motion-ease-premium),
    box-shadow var(--motion-duration-short) var(--motion-ease-premium);
}

.stack-section:last-child {
  margin-bottom: 0;
}

.stack-heading {
  font-family: var(--font-display);
  font-size: var(--fs-h1);
  font-weight: 700;
  color: var(--ink-900);
  letter-spacing: -0.02em;
  margin-top: 0;
  margin-bottom: var(--space-sm-alt);
  line-height: var(--lh-cozy);
}


.stack-subline {
  font-size: var(--fs-label);
  color: var(--text-muted);
  margin-top: 0;
  margin-bottom: var(--space-lg);
  line-height: var(--lh-relaxed);
  font-weight: 400;
  opacity: 0.9;
}

.stack-section:hover,
.stack-section:focus-within {
  background: rgba(31, 63, 182, 0.04);
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(15, 23, 42, 0.08);
}

.stack-section:hover.stack-accent-line::before,
.stack-section:focus-within.stack-accent-line::before {
  opacity: 0.9;
}

.accent-card-primary {
  position: relative;
  overflow: hidden;
}

.accent-card-primary::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--accent);
  border-radius: var(--radius-card);
}

/* Testimonials: keep clean without spine */
.proof-editorial.accent-card-primary::before {
  display: none;
}

/* Hide duplicate accent on ideas sheet header (sheet has its own accent) */
.ideas-sheet-header.accent-card-primary::before {
  display: none;
}

.accent-heading {
  position: relative;
  padding-left: var(--space-md);
}

.accent-heading::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 2px;
  height: 1.6em;
  background: var(--accent);
  border-radius: var(--radius-pill);
}

.ideas-sheet-header.accent-left {
  padding-left: var(--space-lg);
}

.ideas-sheet-header.accent-card-primary {
  padding-left: calc(var(--space-xl) - var(--accent-width-strong));
  overflow: visible;
}

.result-paragraph {
  margin: 0 0 var(--space-sm);
}

.result-list {
  margin: var(--space-xxs) 0 var(--space-md-alt);
  padding-left: var(--space-md-lg);
}

.result-list li {
  margin-bottom: var(--space-sm);
  line-height: var(--lh-relaxed);
}

.rewrite-label {
  font-weight: 600;
  color: var(--text-soft);
  margin: 0 0 var(--space-tight);
  font-size: var(--fs-tiny);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  font-family: var(--font-display);
}

.rewrite-column .rewrite-label {
  color: var(--text-muted);
  opacity: 0.8;
}

.rewrite-column.right .rewrite-label {
  color: var(--accent);
  font-weight: 700;
  opacity: 1;
}

.rewrite-text {
  margin: 0;
  padding-left: 0;
  color: var(--text-main);
  line-height: var(--lh-loose);
  font-size: var(--fs-label);
}

.rewrite-column .rewrite-text {
  color: var(--text-soft);
  opacity: 0.85;
}

.rewrite-column.right .rewrite-text {
  color: var(--text-main);
  font-weight: 400;
  opacity: 1;
}

.empty-hint {
  font-size: var(--fs-xs);
  color: color-mix(in srgb, var(--text-muted) 85%, transparent);
  margin-top: var(--space-xxs);
}

#results-body:not(.empty)+.empty-hint {
  display: none;
}

.rewrite-enhancement-note {
  margin-top: var(--space-sm-alt);
  font-size: var(--fs-xs);
  font-style: italic;
  padding: 0;
  color: var(--text-muted);
  line-height: var(--lh-relaxed);
  padding-left: var(--space-lg);
  position: relative;
  opacity: 0.9;
}

.rewrite-enhancement-note::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.5em;
  width: var(--space-xxs);
  height: var(--space-xxs);
  background: var(--accent);
  border-radius: 50%;
  opacity: 0.4;
}

.results-body-better-flash .rewrite-column.right {
  filter: contrast(1.05);
  transition: filter 0.2s ease;
}

.results-body-better-flash .rewrite-column:not(.right) {
  opacity: 0.82;
  transition: opacity 0.2s ease;
}

@media (prefers-reduced-motion: reduce) {

  .report-view,
  .report-view.report-view--reveal {
    transition: none;
    transform: none;
    opacity: 1;
  }

  .report-view.report-view--focus-start {
    transition: none;
    transform: none;
    opacity: 1;
  }

  .report-view,
  .report-card,
  .score-pill,
  .report-accent-line,
  .report-section,
  .report-title::after,
  .accent-heading::before,
  .accent-card-primary::before {
    animation: none !important;
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
  }

  .skeleton-heading,
  .skeleton-subline,
  .skeleton-line,
  .skeleton-score-dial,
  .skeleton-score-label,
  .skeleton-issue-bar {
    animation: skeletonPulse 1.8s ease-in-out infinite !important;
    background: var(--border-strong) !important;
    background-size: 100% 100% !important;
  }

  .status {
    animation: none !important;
  }

  .score-dial {
    width: calc(var(--space-3xl) * 3.75);
    height: calc(var(--space-3xl) * 3.75);
  }

  .score-dial-number {
    font-size: calc(var(--fs-3xl) * 0.9375);
  }

  .score-dial-label {
    font-size: var(--fs-xs);
  }

  .run-button,
  .copy-button,
  .export-button,
  .ideas-open-link,
  .stack-section {
    transition: none !important;
    transform: none !important;
  }
}

.copy-button,
.export-button {
  font-size: var(--fs-small);
  gap: var(--space-xxs);
}

/* Rewrite blocks and section separators */

.rewrite-block {
  margin-top: 0;
  margin-bottom: var(--space-md-alt);
  padding: var(--space-lg);
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  transition: all var(--motion-duration-short) var(--motion-ease-premium);
  position: relative;
  opacity: 0;
  transform: translateY(var(--space-xxs));
  animation: rewrite-tile-reveal 0.25s var(--motion-ease-premium) forwards;
  box-shadow: 0 1px 3px rgba(15, 23, 42, 0.04);
}

.rewrite-block:nth-child(1) {
  animation-delay: 0ms;
}

.rewrite-block:nth-child(2) {
  animation-delay: 40ms;
}

.rewrite-block:nth-child(3) {
  animation-delay: 80ms;
}

.rewrite-block:nth-child(4) {
  animation-delay: 120ms;
}

.rewrite-block:nth-child(5) {
  animation-delay: 160ms;
}

@keyframes rewrite-tile-reveal {
  from {
    opacity: 0;
    transform: translateY(var(--space-xxs));
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .rewrite-block {
    animation: none;
    opacity: 1;
    transform: none;
  }
}

.rewrite-block:hover {
  background: var(--bg-panel);
  border-color: var(--accent);
  box-shadow: 0 4px 16px rgba(15, 23, 42, 0.08), 0 0 0 1px rgba(28, 78, 216, 0.08);
  transform: translateY(-1px);
}

.rewrite-columns {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-xl-alt);
  align-items: start;
}

.rewrite-column {
  display: flex;
  flex-direction: column;
  gap: var(--space-tight);
}

.rewrite-column.right {
  position: relative;
  padding-left: var(--space-xl-alt);
}

.rewrite-column.right::before {
  content: "";
  position: absolute;
  left: 0;
  top: var(--space-micro);
  bottom: var(--space-micro);
  width: 2px;
  background: linear-gradient(to bottom, var(--accent), color-mix(in srgb, var(--accent) 80%, transparent));
  border-radius: var(--radius-pill);
  opacity: 0.6;
}

.rewrite-column.right::after {
  content: "✓";
  position: absolute;
  left: calc(-1 * var(--space-xxs));
  top: 0;
  width: var(--space-md-lg);
  height: var(--space-md-lg);
  background: var(--accent);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--fs-tiny);
  font-weight: 700;
  box-shadow: 0 2px 6px rgba(28, 78, 216, 0.25), 0 0 0 2px var(--bg-panel);
  line-height: 1;
}

@media (max-width: 600px) {
  .rewrite-columns {
    grid-template-columns: 1fr;
  }

  .rewrite-column.right {
    padding-left: var(--space-xl-alt);
  }

  .rewrite-column.right::before {
    display: block;
  }

  .rewrite-column.right::after {
    display: flex;
  }
}

/* Remove border between rewrite blocks since they're now cards */
.rewrite-block+.rewrite-block {
  border-top: none;
  margin-top: 0;
}

/* First rewrite block in a cluster */
.rewrite-cluster-heading+.rewrite-block {
  margin-top: 0;
}

.result-section {
  border-top: 1px solid var(--border-subtle);
  padding-top: var(--space-sm-alt);
  margin-top: var(--space-sm-alt);
}

.next-steps-heading {
  border-top: 1px solid var(--border-subtle);
  padding-top: var(--space-sm-alt);
  margin-top: var(--space-sm-alt);
}

.result-subline {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  margin-bottom: var(--space-sm);
  line-height: var(--lh-normal);
}

.rewrite-cluster-heading {
  font-size: var(--fs-small);
  font-weight: 700;
  color: var(--text-main);
  margin: var(--space-xl-alt) 0 var(--space-md-alt);
  font-family: var(--font-display);
  letter-spacing: -0.01em;
  text-transform: none;
}

/* Creator line and footer */

.creator-section {
  text-align: center;
  color: var(--text-muted);
  font-size: var(--fs-tiny);
  opacity: 0.7;
  margin-top: var(--space-md-alt);
  margin-bottom: var(--space-xxs);
}

.footer {
  margin-top: var(--sp-3xl);
  padding: var(--sp-2xl);
  background: var(--bg-section-muted);
  border-top: none;
  text-align: center;
  color: var(--text-secondary);
  font-size: 14px;
  line-height: 1.55;
}

.footer strong {
  color: var(--text-primary);
  font-weight: 600;
}

.footer a {
  color: var(--text-link);
}

.footer a:hover {
  text-decoration: underline;
}

textarea:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  border-color: rgba(15, 23, 42, 0.28);
  box-shadow:
    0 14px 30px rgba(15, 23, 42, 0.14),
    inset 0 0 0 1px rgba(15, 23, 42, 0.28),
    var(--focus-shadow);
}

.btn-primary:focus-visible,
.btn-secondary:focus-visible,
.run-button:focus-visible,
.sample-resume-button:focus-visible,
.copy-button:focus-visible,
.export-button:focus-visible,
.ideas-open-link:focus-visible,
.stack-section:focus-within {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.input-wrapper {
  position: relative;
  max-height: 440px;
  overflow-y: auto;
  overscroll-behavior: contain;
}

.resume-input-container {
  overflow: hidden;
  border-radius: var(--radius-card);
  border: 1px solid rgba(12, 17, 32, 0.08);
  background: rgba(15, 23, 42, 0.015);
  padding: var(--space-xl-alt) var(--space-md-lg);
  box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.10);
}

@media (max-width: 600px) {
  .input-wrapper {
    max-height: 540px;
  }
}

.status-bar {
  margin-top: var(--space-xxs);
  font-size: var(--fs-small);
  opacity: 0.95;
  min-height: 1.2em;
  color: var(--text-muted);
  line-height: var(--lh-normal);
  transition: color var(--motion-duration-short) var(--motion-ease-premium);
}

.status-bar.status-info {
  color: var(--text-soft);
}

.status-bar.status-error {
  color: var(--error);
  font-weight: 500;
}

/* Achievement ideas (inline + modal) */
.ideas-inline {
  margin-top: var(--space-xl);
  margin-bottom: var(--space-lg);
  background: var(--bg-subtle);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-xl-alt) var(--space-xl-alt) var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-md-lg);
  box-shadow: 0 6px 20px rgba(15, 23, 42, 0.06);
}

.ideas-inline.hidden {
  display: none;
}

.ideas-inline .ideas-text {
  display: flex;
  flex-direction: column;
  gap: var(--space-tight);
}

.ideas-actions {
  display: flex;
  gap: var(--space-xxs);
  align-items: flex-start;
  flex-shrink: 0;
  flex-basis: auto;
}

.ideas-kicker {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xxs);
  padding: var(--space-xxs) var(--space-sm);
  background: var(--accent-wash);
  color: var(--accent);
  border: 1px solid color-mix(in srgb, var(--accent) 20%, transparent);
  border-radius: var(--radius-pill);
  font-size: var(--fs-xs);
  font-weight: 700;
  letter-spacing: 0.01em;
  margin-bottom: 0;
  width: fit-content;
}

.ideas-subtitle {
  font-weight: 400;
  font-size: var(--fs-label);
  color: var(--text-muted);
  line-height: var(--lh-relaxed);
  max-width: none;
}

.ideas-open-link {
  background: transparent;
  border: none;
  color: var(--accent);
  font-size: var(--fs-label);
  font-weight: 500;
  padding: var(--space-tight) 0;
  cursor: pointer;
  text-decoration: none;
  align-self: flex-start;
  transition: color var(--motion-duration-short) var(--motion-ease-premium), border-color var(--motion-duration-short) var(--motion-ease-premium);
  border-bottom: 1px solid transparent;
}

.ideas-open-link:hover,
.ideas-open-link:focus-visible {
  color: var(--accent-strong);
  border-bottom-color: var(--accent-strong);
  transform: none;
}

.ideas-modal {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-md-alt) var(--space-sm-alt);
  z-index: 100;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s var(--motion-ease-premium);
}

.ideas-modal:not(.hidden) {
  opacity: 1;
  pointer-events: auto;
}

.ideas-modal.hidden {
  opacity: 0;
  pointer-events: none;
  display: flex;
  /* Keep flex for layout, rely on opacity */
  visibility: hidden;
}

.ideas-modal:not(.hidden) {
  visibility: visible;
}

.ideas-modal.visible {
  /* Legacy class support if JS uses it */
  opacity: 1;
  pointer-events: auto;
  visibility: visible;
}

.ideas-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(15, 23, 42, 0.4);
  backdrop-filter: blur(4px);
  opacity: 1;
  /* Parent controls opacity */
}

.ideas-sheet {
  position: relative;
  z-index: 1;
  width: min(720px, 92vw);
  max-height: 90vh;
  background: var(--wash);
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-modal);
  padding: calc(var(--space-xl) - var(--space-micro)) var(--space-xl-alt) var(--space-xl-alt) calc(var(--space-xl) + var(--space-xs));
  display: flex;
  flex-direction: column;
  gap: var(--space-sm-alt);
  transform: translateY(8px) scale(0.96);
  transition: transform 0.4s var(--motion-ease-premium);
  border-top: 2px solid var(--accent);
  overflow: hidden;
}

.ideas-modal:not(.hidden) .ideas-sheet,
.ideas-modal.visible .ideas-sheet {
  transform: translateY(0) scale(1);
}

.ideas-sheet-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-lg);
  margin-bottom: var(--space-md-alt);
  padding: 0;
  border-bottom: none;
  position: relative;
}

.ideas-sheet-header>div:first-child {
  flex: 1 1 auto;
  min-width: 0;
  overflow: visible;
}

.ideas-sheet-title {
  font-size: var(--fs-h1);
  font-weight: 700;
  color: var(--ink-900);
  letter-spacing: -0.02em;
  margin-bottom: var(--space-tight);
  word-wrap: break-word;
  overflow-wrap: break-word;
  line-height: var(--lh-snug);
}

.ideas-sheet-subtitle {
  font-size: var(--fs-label);
  color: var(--text-muted);
  line-height: var(--lh-relaxed);
  margin-top: 0;
  margin-bottom: 0;
  padding-bottom: var(--space-micro);
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  max-width: 100%;
  display: block;
}

.ideas-loading-bar {
  margin: 0 0 var(--space-tight) 0;
}

.ideas-status {
  margin-bottom: var(--space-tight);
}

.ideas-sheet-body {
  overflow-y: auto;
  padding: 0 var(--space-micro) var(--space-sm) 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-md-alt);
  margin-top: 0;
  flex: 1;
}

@media (max-width: 768px) {
  .ideas-modal {
    align-items: flex-end;
    padding: var(--space-sm-alt) 0;
  }

  .ideas-sheet {
    width: 100vw;
    max-width: 100vw;
    max-height: calc(100vh - 96px - env(safe-area-inset-top, 0px));
    height: auto;
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
    padding: var(--space-lg) var(--space-md-alt) var(--space-md-lg) var(--space-xl-alt);
    box-shadow: var(--shadow-modal);
    margin-top: env(safe-area-inset-top, var(--space-tight));
    gap: var(--space-md-lg);
  }

  .ideas-sheet::before {
    left: var(--space-md-alt);
    top: var(--space-lg);
    bottom: var(--space-md-lg);
  }

  .ideas-sheet-header {
    position: sticky;
    top: 0;
    padding: 0;
    background: var(--wash);
    z-index: 2;
    border-bottom: none;
    margin-bottom: var(--space-md-alt);
    gap: var(--space-md-lg);
  }

  .ideas-sheet-header>div:first-child {
    flex: 1 1 auto;
    min-width: 0;
    overflow: visible;
  }

  .ideas-sheet-title {
    font-size: var(--fs-2xl);
    margin-bottom: var(--space-xxs);
    line-height: var(--lh-snug);
  }

  .ideas-sheet-subtitle {
    font-size: var(--fs-small);
    line-height: var(--lh-relaxed);
    margin-top: 0;
    padding-bottom: 0;
  }

  .ideas-sheet-body {
    flex: 1;
    overflow-y: auto;
    padding: 0 var(--space-micro) var(--space-sm) 0;
    margin-top: 0;
    gap: var(--space-md-lg);
  }

  .ideas-inline {
    padding: var(--space-lg) var(--space-md-alt) var(--space-md-lg) var(--space-xl-alt);
    gap: var(--space-sm-alt);
  }

  .ideas-kicker {
    font-size: var(--fs-2xl);
  }

  .ideas-actions {
    flex-wrap: wrap;
    gap: var(--space-tight);
  }

  .ideas-actions .ghost-button {
    font-size: var(--fs-xs);
    padding: var(--space-xxs) var(--space-sm);
  }
}

.ghost-button {
  background: var(--surface-tint);
  color: var(--text-main);
  border: 1px solid var(--border-subtle);
  padding: var(--space-xs) var(--space-sm-alt);
  border-radius: var(--radius-md);
  font-size: var(--fs-xs);
  cursor: pointer;
  transition: border-color var(--motion-duration-short) var(--motion-ease-premium), background var(--motion-duration-short) var(--motion-ease-premium);
  align-self: flex-start;
}

.ghost-button:hover {
  border-color: var(--border-strong);
  background: var(--surface-tint);
}

.ghost-button:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.ghost-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

@media (prefers-reduced-motion: reduce) {

  .run-button:hover,
  .run-button:active,
  .copy-button:hover,
  .export-button:hover,
  .sample-resume-button:hover,
  .sample-report-button:hover {
    transform: none !important;
    box-shadow: 0 10px 22px color-mix(in srgb, var(--accent) 18%, transparent);
  }
}

.sample-resume-button {
  align-self: flex-start;
  margin: var(--space-xxs) 0 var(--space-sm);
  font-size: var(--fs-small);
}

.sample-report-button {
  align-self: flex-start;
  margin: var(--space-xxs) 0 var(--space-sm);
  font-size: var(--fs-small);
}

.sample-helper-text {
  font-size: var(--fs-xs);
  color: var(--text-muted);
  margin-top: calc(-1 * var(--space-xs));
  margin-bottom: var(--space-sm);
  line-height: var(--lh-normal);
}

.report-tag {
  font-size: var(--fs-xs);
  color: var(--accent);
  font-weight: 600;
  margin-left: var(--space-sm);
  padding: var(--space-xxs) var(--space-sm);
  background: var(--accent-wash);
  border-radius: var(--radius-sm);
  letter-spacing: 0.01em;
}

.report-tag.hidden {
  display: none;
}

.clear-button {
  align-self: flex-start;
  margin: var(--space-xxs) 0 var(--space-sm);
  font-size: var(--fs-small);
}

.clear-button.hidden {
  display: none;
}

.button-group {
  display: flex;
  gap: var(--space-sm);
  margin-bottom: var(--space-sm);
  flex-wrap: wrap;
}

.data-modal {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(15, 23, 42, 0.4);
  backdrop-filter: blur(4px);
  z-index: 100;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s var(--motion-ease-premium);
}

.data-modal:not(.hidden) {
  opacity: 1;
  pointer-events: auto;
}

.data-modal.hidden {
  opacity: 0;
  pointer-events: none;
  /* Override display:none from utility class if needed, or rely on opacity */
}

.data-modal-card {
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-modal);
  border-radius: var(--radius-lg);
  max-width: 420px;
  width: min(420px, calc(100vw - var(--space-3xl)));
  padding: var(--space-md-lg) var(--space-md-lg) var(--space-md-alt);
  color: var(--text-main);
  transform: translateY(8px) scale(0.96);
  transition: transform 0.4s var(--motion-ease-premium);
}

.data-modal:not(.hidden) .data-modal-card {
  transform: translateY(0) scale(1);
}

.data-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm-alt);
  margin-bottom: var(--space-sm);
}

.data-modal-title {
  margin: 0;
  font-size: var(--fs-base);
  font-weight: 700;
  letter-spacing: -0.01em;
}

.data-modal-close {
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: var(--fs-small);
  color: var(--text-soft);
  padding: var(--space-xxs);
  border-radius: var(--radius-sm);
  transition: color 0.2s ease;
}

.data-modal-close:hover {
  color: var(--text-main);
}

.data-modal-close:focus-visible {
  outline: var(--focus-outline-width) solid var(--focus-outline-color);
  outline-offset: var(--focus-outline-offset);
  box-shadow: var(--focus-shadow);
}

.data-modal-body {
  font-size: var(--fs-small);
  line-height: var(--lh-relaxed);
  color: var(--text-soft);
}

.data-modal-body p {
  margin: 0 0 var(--space-sm);
}

.data-modal-body p:last-child {
  margin-bottom: 0;
}

.ideas-loading-bar {
  height: 2px;
  width: 100%;
  background: linear-gradient(90deg, var(--accent-strong), var(--accent-boost), var(--accent-strong));
  background-size: 200% 100%;
  opacity: 0;
  transform: scaleX(0.8);
  transform-origin: center;
  margin-top: var(--space-xxs);
  border-radius: var(--radius-pill);
  height: 1.5px;
}

.ideas-status {
  font-size: var(--fs-xs);
  color: rgba(148, 163, 184, 0.9);
  margin-top: var(--space-xxs);
  min-height: var(--space-md-alt);
}

.ideas-status.error {
  color: var(--error-light);
}

.ideas-body {
  margin-top: var(--space-xxs);
  font-size: var(--fs-small);
  line-height: var(--lh-relaxed);
  color: var(--text-main);
  display: flex;
  flex-direction: column;
  gap: var(--space-md-alt);
}

.ideas-body.empty {
  color: color-mix(in srgb, var(--text-muted) 90%, transparent);
  border: 1px dashed var(--border-subtle);
  border-radius: var(--radius-input);
  padding: var(--space-lg) var(--space-md-alt);
  text-align: center;
  background: var(--wash);
}

.ideas-section-card {
  background: var(--bg-subtle);
  border: 1px solid var(--border-subtle);
  box-shadow: 0 4px 12px rgba(15, 23, 42, 0.04);
  border-radius: var(--radius-lg);
  padding: var(--space-xl-alt) var(--space-xl-alt) var(--space-lg-alt);
}

.ideas-section-title {
  font-size: var(--fs-lg);
  font-weight: 700;
  color: var(--ink-900);
  letter-spacing: -0.01em;
  margin: 0 0 var(--space-sm-alt);
}

.ideas-section-subline {
  margin: 0 0 var(--space-md-alt);
  color: var(--text-muted);
  font-size: var(--fs-small);
  line-height: var(--lh-relaxed);
}

.ideas-section-card p {
  margin: 0;
  color: var(--text-main);
  line-height: var(--lh-extra-loose);
  font-size: var(--fs-label);
}

.ideas-list {
  margin: 0;
  padding-left: var(--space-xl-alt);
}

.ideas-list li {
  margin-bottom: var(--space-sm);
  line-height: var(--lh-extra-loose);
  color: var(--text-main);
  font-size: var(--fs-label);
}

.ideas-how {
  margin-top: 0;
  font-weight: 600;
  font-size: var(--fs-small);
  line-height: var(--lh-normal);
  color: var(--text-main);
}

.ideas-sublist {
  margin-top: var(--space-xxs);
  padding-left: var(--space-md-alt);
  color: var(--text-muted);
  opacity: 0.85;
  font-size: var(--fs-xs);
  line-height: var(--lh-normal);
}

.ideas-divider {
  border-top: 1px solid var(--border-subtle);
  margin: var(--space-sm-alt) 0 var(--space-tight);
  padding-top: 0;
}

.ideas-actions .ghost-button {
  border-radius: var(--radius-md);
  padding: var(--space-xs) var(--space-sm-alt);
  box-shadow: var(--shadow-soft);
}

@media print {
  * {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    transition: none !important;
    animation: none !important;
  }

  body {
    background: var(--bg-panel);
    color: var(--text-main);
    padding: var(--space-lg);
    font-size: var(--fs-small);
  }

  .page {
    border: none;
    box-shadow: none;
    padding: 0;
    max-width: 780px;
    margin: 0 auto;
  }

  .top-bar,
  .hero,
  .card-input,
  .run-row,
  .results-actions-bottom,
  .data-handling-row,
  .sample-resume-button,
  .version-pill,
  #loading-bar,
  #focus-toggle,
  textarea,
  label[for="main-input"],
  .input-wrapper {
    display: none !important;
  }

  button,
  .copy-button,
  .export-button,
  .ideas-open-link,
  .run-button {
    pointer-events: none;
  }

  .card-output {
    box-shadow: 0 0 0 1px rgba(12, 17, 32, 0.08);
    border: 1px solid rgba(12, 17, 32, 0.08);
    padding: var(--space-md);
    border-radius: var(--radius-md);
    page-break-inside: avoid;
    break-inside: avoid;
  }

  .results-top {
    box-shadow: none;
    border: none;
    background: var(--bg-panel);
    padding: 0 0 var(--space-lg) 0;
  }

  #results-body {
    border: none;
    padding: 0;
  }

  .stack::before,
  .stack-accent-line::before {
    display: none;
  }

  .stack-accent-line {
    border-left: 2px solid color-mix(in srgb, var(--accent) 85%, white 15%);
    padding-left: var(--space-lg);
  }

  .stack-section {
    margin: var(--space-lg) 0;
    padding: 0 0 var(--space-md) 0;
    box-shadow: none;
    background: var(--bg-panel);
    border-radius: var(--radius-xs);
    page-break-inside: avoid;
    break-inside: avoid;
  }

  .stack-heading {
    margin-bottom: var(--space-md);
  }

  .result-list li,
  .rewrite-block,
  .rewrite-columns,
  .ideas-section-card,
  .card-output {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  .results-summary {
    border: none;
    box-shadow: none;
    background: var(--bg-panel);
    padding-left: 0;
  }

  .stack-section:hover,
  .stack-section:focus-within,
  .ideas-open-link:hover,
  .ideas-open-link:focus-visible,
  .run-button:hover,
  .copy-button:hover,
  .export-button:hover {
    background: var(--bg-panel);
    transform: none;
    box-shadow: none;
  }

  .ideas-open-link {
    color: var(--text-main);
    text-decoration: none;
    border: none;
  }

  body::after {
    content: "Generated with Recruiter in Your Pocket — recruiterinyourpocket.com";
    display: block;
    margin-top: var(--space-xl);
    font-size: var(--fs-xs);
    color: var(--text-muted);
    text-align: center;
  }
}

/* ATS Education Section */
.ats-education {
  max-width: 840px;
  margin: 0 auto var(--sp-3xl);
  padding: var(--sp-2xl) var(--sp-l);
  background: var(--bg-section-muted);
  border-radius: var(--radius-card);
  text-align: center;
}

.ats-chip {
  display: inline-block;
  padding: 6px 14px;
  border-radius: var(--radius-pill);
  background: var(--bg-card);
  color: var(--text-secondary);
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin-bottom: var(--sp-m);
  border: 1px solid var(--border-subtle);
}

.ats-title {
  font-family: var(--font-display);
  font-size: 26px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: var(--sp-s);
  letter-spacing: -0.01em;
}

.ats-subtitle {
  font-size: 15px;
  color: var(--text-secondary);
  max-width: 540px;
  margin: 0 auto var(--sp-xl);
  line-height: 1.55;
}

.ats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-l);
  margin-bottom: var(--sp-xl);
  text-align: left;
}

.ats-myth,
.ats-truth {
  padding: var(--sp-xl);
  border-radius: var(--radius-card);
  background: var(--bg-card);
  box-shadow: var(--shadow-card);
  border: none;
}

.ats-myth {
  border-left: 4px solid var(--status-danger);
}

.ats-truth {
  border-left: 4px solid var(--status-success);
}

.ats-myth-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--status-danger);
  margin-bottom: var(--sp-s);
  text-transform: none;
  letter-spacing: 0;
}

.ats-truth-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--status-success);
  margin-bottom: var(--sp-s);
  text-transform: none;
  letter-spacing: 0;
}

.ats-myth-text,
.ats-truth-text {
  font-size: 15px;
  color: var(--text-primary);
  line-height: 1.55;
}

.ats-takeaway {
  font-size: var(--fs-small);
  color: var(--text-soft);
  background: var(--surface-tint);
  padding: var(--space-md) var(--space-lg);
  border-radius: var(--radius-md);
  display: inline-block;
  line-height: var(--lh-relaxed);
  border: 1px solid var(--border-subtle);
  max-width: 700px;
}

.ats-takeaway em {
  font-style: italic;
  color: var(--accent);
  font-weight: 600;
}

/* Explainer Grid */
.ats-explainer {
  margin-bottom: var(--space-xl);
  text-align: left;
}

.ats-explainer-title {
  font-family: var(--font-display);
  font-size: var(--fs-body);
  font-weight: 700;
  color: var(--ink-900);
  margin-bottom: var(--space-md);
  text-align: center;
}

.ats-explainer-grid {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.ats-explainer-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
}

.ats-explainer-number {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  background: var(--accent);
  color: white;
  font-family: var(--font-display);
  font-size: var(--fs-small);
  font-weight: 700;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ats-explainer-content {
  font-size: var(--fs-small);
  color: var(--text-main);
  line-height: var(--lh-relaxed);
}

.ats-explainer-content strong {
  color: var(--ink-900);
}

@media (max-width: 768px) {
  .ats-grid {
    grid-template-columns: 1fr;
  }
}

/* ==========================================================================
   Mobile Sticky CTA
   ========================================================================== */

.mobile-sticky-cta {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 999;
  padding: var(--space-sm) var(--space-md);
  padding-bottom: calc(var(--space-sm) + env(safe-area-inset-bottom, 0px));
  background: linear-gradient(to top, var(--bg-page) 70%, transparent);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  transform: translateY(100%);
  opacity: 0;
  transition: transform 0.3s var(--motion-ease-premium), opacity 0.3s var(--motion-ease-premium);
}

.mobile-sticky-cta.visible {
  transform: translateY(0);
  opacity: 1;
}

.mobile-sticky-cta-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: var(--space-md) var(--space-lg);
  background: linear-gradient(135deg, var(--accent) 0%, var(--accent-strong) 100%);
  color: white;
  font-size: var(--fs-base);
  font-weight: 700;
  border: none;
  border-radius: var(--radius-input);
  text-decoration: none;
  box-shadow:
    0 -4px 20px rgba(51, 65, 166, 0.25),
    0 4px 16px rgba(0, 0, 0, 0.1);
}

.mobile-sticky-cta-btn:hover,
.mobile-sticky-cta-btn:active {
  background: linear-gradient(135deg, color-mix(in srgb, var(--accent) 90%, white 10%) 0%, var(--accent) 100%);
}

@media (max-width: 768px) {
  .mobile-sticky-cta {
    display: block;
  }
}