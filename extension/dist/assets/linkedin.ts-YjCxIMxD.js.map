{"version":3,"file":"linkedin.ts-YjCxIMxD.js","sources":["../../src/content/selectors.ts","../../src/content/linkedin.ts"],"sourcesContent":["/**\n * LinkedIn DOM Selectors\n * \n * LinkedIn frequently changes their DOM structure, so we use a fallback chain\n * of selectors. Keep this updated as LinkedIn's markup evolves.\n * \n * Last updated: December 2024\n */\n\nexport const JD_SELECTORS = [\n    // Primary: Modern job view page\n    '.jobs-description__content .jobs-box__html-content',\n    '.jobs-description-content__text',\n    '.jobs-box__html-content',\n\n    // Secondary: Search results sidebar\n    '.jobs-search__job-details .jobs-box__html-content',\n    '.jobs-details__main-content .jobs-box__html-content',\n\n    // Tertiary: Older layouts\n    '.job-view-layout .jobs-description',\n    '.jobs-unified-top-card + section .jobs-box__html-content',\n\n    // Fallback: Any job description container\n    '[data-job-id] .jobs-description',\n    '.description__text--rich',\n];\n\nexport const JOB_TITLE_SELECTORS = [\n    '.job-details-jobs-unified-top-card__job-title',\n    '.jobs-unified-top-card__job-title',\n    '.t-24.t-bold.inline',\n    '.topcard__title',\n    'h1.top-card-layout__title',\n];\n\nexport const COMPANY_SELECTORS = [\n    '.job-details-jobs-unified-top-card__company-name',\n    '.jobs-unified-top-card__company-name',\n    '.topcard__org-name-link',\n    '.topcard__flavor--black-link',\n    'a.topcard__org-name-link',\n];\n\nexport const LOCATION_SELECTORS = [\n    '.job-details-jobs-unified-top-card__bullet',\n    '.jobs-unified-top-card__bullet',\n    '.topcard__flavor--bullet',\n    'span.topcard__flavor--bullet',\n];\n\n/**\n * Try multiple selectors and return the first match\n */\nexport function queryWithFallback(selectors: string[]): Element | null {\n    for (const selector of selectors) {\n        const element = document.querySelector(selector);\n        if (element) {\n            return element;\n        }\n    }\n    return null;\n}\n\n/**\n * Extract text content from an element, cleaning up whitespace\n */\nexport function extractText(element: Element | null): string {\n    if (!element) return '';\n    return element.textContent?.trim().replace(/\\s+/g, ' ') ?? '';\n}\n\n/**\n * Extract the job ID from the current URL\n */\nexport function extractJobId(): string | null {\n    const urlMatch = window.location.pathname.match(/\\/jobs\\/view\\/(\\d+)/);\n    if (urlMatch) return urlMatch[1];\n\n    // Try search page with selected job\n    const params = new URLSearchParams(window.location.search);\n    return params.get('currentJobId') || null;\n}\n","/**\n * LinkedIn Content Script\n * \n * Injected on LinkedIn job pages to:\n * 1. Detect job descriptions\n * 2. Show a floating \"Capture JD\" button\n * 3. Extract and send JD data to service worker\n */\n\nimport {\n  JD_SELECTORS,\n  JOB_TITLE_SELECTORS,\n  COMPANY_SELECTORS,\n  LOCATION_SELECTORS,\n  queryWithFallback,\n  extractText,\n  extractJobId,\n} from './selectors';\nimport type { JobMeta, ExtensionMessage } from '../background/messages';\n\n// Safe wrapper for messaging that handles extension context invalidation\nasync function safeMessage(message: ExtensionMessage): Promise<any> {\n  try {\n    if (!chrome.runtime?.id) {\n      console.warn('[RIYP] Extension context invalidated, please reload the page');\n      return { success: false, error: 'Extension reloaded - please refresh the page' };\n    }\n    return await chrome.runtime.sendMessage(message);\n  } catch (error: any) {\n    if (error?.message?.includes('Extension context invalidated')) {\n      console.warn('[RIYP] Extension context invalidated, please reload the page');\n      return { success: false, error: 'Extension reloaded - please refresh the page' };\n    }\n    throw error;\n  }\n}\n\n// State\nlet captureButton: HTMLElement | null = null;\nlet isCapturing = false;\n\n/**\n * Initialize content script\n */\nfunction init() {\n  console.log('[RIYP] Content script initialized on:', window.location.href);\n\n  // Wait for page to stabilize, then inject button\n  setTimeout(injectCaptureButton, 1500);\n\n  // Re-inject on dynamic navigation (LinkedIn is a SPA)\n  observeNavigationChanges();\n}\n\n/**\n * Inject the floating capture button\n */\nasync function injectCaptureButton() {\n  // Remove existing button if present\n  if (captureButton) {\n    captureButton.remove();\n    captureButton = null;\n  }\n\n  // Check if we're on a job page\n  const jobId = extractJobId();\n  if (!jobId) {\n    console.log('[RIYP] Not on a job detail page, skipping button injection');\n    return;\n  }\n\n  // Check if JD is present\n  const jdElement = queryWithFallback(JD_SELECTORS);\n  if (!jdElement) {\n    console.log('[RIYP] No JD element found, skipping button injection');\n    return;\n  }\n\n  // Check if this job was already captured\n  let alreadyCaptured = false;\n  let capturedScore: number | null = null;\n\n  try {\n    const response = await safeMessage({\n      type: 'CHECK_JOB_STATUS',\n      payload: { url: window.location.href }\n    });\n    if (response?.success && response.data?.captured) {\n      alreadyCaptured = true;\n      capturedScore = response.data.score;\n      console.log('[RIYP] Job already captured with score:', capturedScore);\n    }\n  } catch (error) {\n    console.warn('[RIYP] Failed to check job status:', error);\n  }\n\n  // Create button using Shadow DOM for style isolation\n  const container = document.createElement('div');\n  container.id = 'riyp-capture-container';\n  container.style.cssText = `\n    position: fixed;\n    bottom: 24px;\n    right: 24px;\n    z-index: 9999;\n  `;\n\n  const shadow = container.attachShadow({ mode: 'open' });\n  shadow.innerHTML = getCaptureButtonHTML(alreadyCaptured, capturedScore);\n\n  // Attach event listener (only if not already captured, or for \"View Match\" action)\n  const button = shadow.querySelector('.riyp-capture-btn');\n  if (button) {\n    if (alreadyCaptured) {\n      // Already captured - click opens the workspace\n      button.addEventListener('click', () => {\n        safeMessage({\n          type: 'OPEN_WEBAPP',\n          payload: { path: '/jobs' }\n        });\n      });\n    } else {\n      button.addEventListener('click', handleCapture);\n    }\n  }\n\n  document.body.appendChild(container);\n  captureButton = container;\n\n  console.log('[RIYP] Capture button injected', alreadyCaptured ? '(already captured)' : '');\n}\n\n/**\n * Get the capture button HTML (rendered in Shadow DOM)\n */\nfunction getCaptureButtonHTML(alreadyCaptured: boolean = false, score: number | null = null): string {\n  // Determine button state and content\n  const isCaptured = alreadyCaptured;\n  const hasScore = score !== null && score > 0;\n\n  // Button text based on state\n  const buttonText = isCaptured\n    ? (hasScore ? `${score}% Match` : 'Saved ✓')\n    : 'Capture JD';\n\n  // Button class based on state\n  const buttonClass = isCaptured ? 'riyp-capture-btn captured' : 'riyp-capture-btn';\n\n  // Title for accessibility\n  const buttonTitle = isCaptured\n    ? 'View saved jobs'\n    : 'Capture JD for RIYP';\n\n  return `\n    <style>\n      .riyp-capture-btn {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 12px 16px;\n        background: #0D9488;\n        color: white;\n        border: none;\n        border-radius: 8px;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        font-size: 14px;\n        font-weight: 500;\n        cursor: pointer;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;\n        transition: all 150ms cubic-bezier(0.16, 1, 0.3, 1);\n      }\n      \n      .riyp-capture-btn:hover {\n        background: #0F766E;\n        transform: translateY(-2px);\n        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.1) inset;\n      }\n      \n      .riyp-capture-btn:active {\n        transform: translateY(0);\n      }\n      \n      .riyp-capture-btn.loading {\n        opacity: 0.8;\n        pointer-events: none;\n      }\n      \n      .riyp-capture-btn.success {\n        background: #166534;\n      }\n      \n      .riyp-capture-btn.captured {\n        background: #166534;\n      }\n      \n      .riyp-capture-btn.error {\n        background: #DC2626;\n      }\n      \n      .riyp-icon {\n        width: 18px;\n        height: 18px;\n      }\n      \n      .riyp-spinner {\n        width: 16px;\n        height: 16px;\n        border: 2px solid rgba(255, 255, 255, 0.3);\n        border-top-color: white;\n        border-radius: 50%;\n        animation: spin 0.8s linear infinite;\n      }\n      \n      @keyframes spin {\n        to { transform: rotate(360deg); }\n      }\n    </style>\n    \n    <button class=\"${buttonClass}\" title=\"${buttonTitle}\">\n      ${isCaptured ? `\n        <svg class=\"riyp-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <polyline points=\"20 6 9 17 4 12\"/>\n        </svg>\n      ` : `\n        <svg class=\"riyp-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\n          <polyline points=\"14 2 14 8 20 8\"/>\n          <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"12\"/>\n          <line x1=\"9\" y1=\"15\" x2=\"15\" y2=\"15\"/>\n        </svg>\n      `}\n      <span class=\"riyp-text\">${buttonText}</span>\n    </button>\n  `;\n}\n\n/**\n * Handle capture button click\n */\nasync function handleCapture() {\n  if (isCapturing) return;\n\n  const button = captureButton?.shadowRoot?.querySelector('.riyp-capture-btn');\n  const textSpan = captureButton?.shadowRoot?.querySelector('.riyp-text');\n  const iconSvg = captureButton?.shadowRoot?.querySelector('.riyp-icon');\n\n  if (!button || !textSpan) return;\n\n  try {\n    isCapturing = true;\n    button.classList.add('loading');\n\n    // Show loading state\n    if (iconSvg) iconSvg.outerHTML = '<div class=\"riyp-spinner\"></div>';\n    textSpan.textContent = 'Capturing...';\n\n    // Extract job data\n    const jd = extractJobDescription();\n    const meta = extractJobMeta();\n\n    if (!jd || !meta.id) {\n      throw new Error('Could not extract job data');\n    }\n\n    // Send to service worker\n    const message: ExtensionMessage = {\n      type: 'CAPTURE_JD',\n      payload: { jd, meta },\n    };\n\n    const response = await safeMessage(message);\n\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to save job');\n    }\n\n    // Show success state\n    button.classList.remove('loading');\n    button.classList.add('success');\n    const score = response.data?.score;\n    textSpan.textContent = score ? `Match: ${score}%` : '✓ Saved';\n\n    // Reset after delay\n    setTimeout(() => {\n      button.classList.remove('success');\n      textSpan.textContent = 'Capture JD';\n      button.querySelector('.riyp-spinner')?.remove();\n      const newIcon = document.createElement('div');\n      newIcon.innerHTML = `\n        <svg class=\"riyp-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\n          <polyline points=\"14 2 14 8 20 8\"/>\n          <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"12\"/>\n          <line x1=\"9\" y1=\"15\" x2=\"15\" y2=\"15\"/>\n        </svg>\n      `;\n      button.prepend(newIcon.firstElementChild!);\n      isCapturing = false;\n    }, 3000);\n\n  } catch (error) {\n    console.error('[RIYP] Capture error:', error);\n\n    button.classList.remove('loading');\n    button.classList.add('error');\n    textSpan.textContent = 'Error';\n\n    setTimeout(() => {\n      button.classList.remove('error');\n      textSpan.textContent = 'Capture JD';\n      isCapturing = false;\n    }, 2000);\n  }\n}\n\n/**\n * Extract the full job description text\n */\nfunction extractJobDescription(): string {\n  const element = queryWithFallback(JD_SELECTORS);\n  return extractText(element);\n}\n\n/**\n * Extract job metadata (title, company, etc.)\n */\nfunction extractJobMeta(): JobMeta {\n  return {\n    id: extractJobId() || `job-${Date.now()}`,\n    title: extractText(queryWithFallback(JOB_TITLE_SELECTORS)),\n    company: extractText(queryWithFallback(COMPANY_SELECTORS)),\n    location: extractText(queryWithFallback(LOCATION_SELECTORS)),\n    url: window.location.href,\n    capturedAt: Date.now(),\n  };\n}\n\n/**\n * Watch for SPA navigation and re-inject button\n */\nfunction observeNavigationChanges() {\n  // LinkedIn uses history API for navigation\n  let lastUrl = window.location.href;\n\n  const observer = new MutationObserver(() => {\n    if (window.location.href !== lastUrl) {\n      lastUrl = window.location.href;\n      console.log('[RIYP] URL changed, re-checking for job page');\n      setTimeout(injectCaptureButton, 1000);\n    }\n  });\n\n  observer.observe(document.body, {\n    childList: true,\n    subtree: true,\n  });\n\n  // Also listen for popstate\n  window.addEventListener('popstate', () => {\n    setTimeout(injectCaptureButton, 1000);\n  });\n}\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n"],"names":[],"mappings":"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"}