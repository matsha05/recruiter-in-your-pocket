(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95535,e=>{"use strict";var t=e.i(14294),r=e.i(30878),u=e.i(94667);let a=(0,r.createContext)(void 0);function n({children:e}){let[n,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0),l=(0,u.createSupabaseBrowserClient)(),c=e=>e?{id:e.id,email:e.email||null,firstName:e.user_metadata?.first_name||null}:null,h=async()=>{try{let{data:{user:e}}=await l.auth.getUser();i(c(e))}catch(e){console.error("Error refreshing user:",e),i(null)}},d=async()=>{try{await fetch("/api/auth/sign-out",{method:"POST"}),i(null)}catch(e){console.error("Sign out error:",e)}};return(0,r.useEffect)(()=>{h().finally(()=>s(!1));let{data:{subscription:e}}=l.auth.onAuthStateChange(async(e,t)=>{i(c(t?.user||null))});return()=>{e.unsubscribe()}},[]),(0,t.jsx)(a.Provider,{value:{user:n,isLoading:o,signOut:d,refreshUser:h},children:e})}function i(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>n,"useAuth",()=>i])}]);