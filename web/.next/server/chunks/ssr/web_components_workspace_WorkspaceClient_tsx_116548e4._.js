module.exports=[22619,a=>{"use strict";var b=a.i(56856),c=a.i(55132),d=a.i(32315),e=a.i(76937),f=a.i(46640),g=a.i(97207);function h({user:a,onNewReport:d,onSampleReport:e,onSignIn:h,onSignOut:i,onHistory:j}){let[k,l]=(0,c.useState)(!1),m=a?.firstName?.[0]||a?.email?.[0]?.toUpperCase()||"?";return(0,b.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 bg-surface border-b border-subtle",children:[(0,b.jsx)(f.default,{href:"/",className:"font-display font-bold text-lg text-primary hover:text-brand dark:hover:text-brand-strong transition-colors",children:"Recruiter in Your Pocket"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{className:"btn-ghost",onClick:e,children:"ðŸ“„ Sample Report"}),(0,b.jsxs)("button",{onClick:d,className:"inline-flex items-center gap-2 px-4 py-2 bg-success text-white  font-semibold rounded-lg shadow-button hover:opacity-90  transition-all duration-200",children:[(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,b.jsx)("path",{d:"M12 8V16M8 12H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),"New Report"]}),a?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>l(!k),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-hover transition-colors",children:[(0,b.jsx)("span",{className:"w-8 h-8 flex items-center justify-center bg-brand text-white rounded-full font-semibold text-sm",children:m}),(0,b.jsx)("span",{className:"text-sm text-primary max-w-[120px] truncate",children:a.firstName||a.email}),(0,b.jsx)("span",{className:"text-muted text-xs",children:"â–¾"})]}),k&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-56 bg-surface border border-subtle rounded-xl shadow-modal z-50 py-2",children:[(0,b.jsx)("div",{className:"px-4 py-2 text-xs text-muted truncate",children:a.email}),(0,b.jsx)("div",{className:"border-t border-subtle my-1"}),(0,b.jsxs)("button",{onClick:()=>{j?.(),l(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors",children:[(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",children:[(0,b.jsx)("path",{d:"M3 7C3 4.239 4.239 3 7 3H17C19.761 3 21 4.239 21 7V17C21 19.761 19.761 21 17 21H7C4.239 21 3 19.761 3 17V7Z",stroke:"currentColor",strokeWidth:"1.5"}),(0,b.jsx)("path",{d:"M7 8H17M7 12H17M7 16H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),"My Reports"]}),(0,b.jsxs)("button",{onClick:()=>{d?.(),l(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",children:(0,b.jsx)("path",{d:"M12 8V16M8 12H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})}),"New Report"]}),(0,b.jsx)("div",{className:"border-t border-subtle my-1"}),(0,b.jsxs)(f.default,{href:"/",className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors",onClick:()=>l(!1),children:[(0,b.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",children:(0,b.jsx)("path",{d:"M11 6L5 12M5 12L11 18M5 12H19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),"Home"]}),(0,b.jsxs)(f.default,{href:"/settings",className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors",onClick:()=>l(!1),children:[(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",children:[(0,b.jsx)("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z",stroke:"currentColor",strokeWidth:"1.5"}),(0,b.jsx)("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z",stroke:"currentColor",strokeWidth:"1.5"})]}),"Settings"]}),(0,b.jsx)("button",{onClick:()=>{i?.(),l(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-danger hover:bg-warning-soft transition-colors",children:"Sign Out"})]})]})]}):(0,b.jsx)("button",{className:"btn-ghost font-semibold",onClick:h,children:"Sign In"}),(0,b.jsx)(g.default,{})]})]})}function i({resumeText:a,jobDescription:d,onResumeTextChange:e,onJobDescChange:f,onFileSelect:g,onRun:h,isLoading:i,freeUsesRemaining:j}){let[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),o=(0,c.useRef)(null),p=a.length;return(0,b.jsxs)("div",{className:"bg-surface p-6 flex flex-col gap-6 overflow-y-auto h-full",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-semibold text-primary text-sm",children:"Your Resume"}),(0,b.jsx)("span",{className:"text-muted text-xs",children:"PDF, DOCX, or paste text"})]}),(0,b.jsxs)("div",{className:`flex flex-col items-center justify-center gap-3 p-6
                            border-2 border-dashed rounded-xl cursor-pointer
                            transition-all duration-200
                            ${m?"border-brand bg-brand-soft":"border-subtle hover:border-brand hover:bg-brand-soft/30"}`,onClick:a=>{a.target!==a.currentTarget&&a.target.closest("input")||o.current?.click()},onDragOver:a=>{a.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:a=>{a.preventDefault(),n(!1);let b=a.dataTransfer.files?.[0];b&&(l(b.name),g(b))},children:[(0,b.jsx)("svg",{className:"w-8 h-8 text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,b.jsx)("div",{className:"text-primary text-sm font-medium",children:"Drop your resume here or click to upload"}),(0,b.jsx)("div",{className:"text-muted text-xs",children:"Supports PDF and DOCX files"}),(0,b.jsx)("input",{type:"file",ref:o,className:"hidden",accept:".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:a=>{let b=a.target.files?.[0];b&&(l(b.name),g(b))},onClick:a=>a.stopPropagation()})]}),k&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-brand-soft rounded-lg",children:[(0,b.jsx)("span",{className:"text-brand font-medium text-sm",children:k}),(0,b.jsx)("button",{className:"text-muted hover:text-danger text-xs transition-colors",onClick:()=>{l(null),o.current&&(o.current.value="")},children:"âœ• Remove"})]}),(0,b.jsx)("div",{className:"text-center text-muted text-sm py-2",children:"â€” or paste â€”"}),(0,b.jsx)("textarea",{value:a,onChange:a=>e(a.target.value),placeholder:"Paste your resume text here...",className:"textarea min-h-[200px]"}),p>0&&p<1500&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-warning-soft border border-amber-200 rounded-lg",children:[(0,b.jsx)("div",{className:"text-lg",children:"âš ï¸"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-primary text-sm",children:"Resume looks short"}),(0,b.jsxs)("p",{className:"text-secondary text-xs mt-1",children:["We found ",p," characters. Most resumes have 1,500+ characters. You might get limited feedback."]})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-semibold text-primary text-sm",children:"Job Description"}),(0,b.jsx)("span",{className:"text-muted text-xs",children:"Optional â€” enables alignment analysis"})]}),(0,b.jsx)("textarea",{value:d,onChange:a=>f(a.target.value),className:"textarea min-h-[120px]",placeholder:"Paste the job description to see how well your resume aligns..."})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 pt-4 border-t border-subtle mt-auto",children:[(0,b.jsxs)("button",{className:"btn-primary w-full",onClick:h,disabled:i||!a.trim()&&!k,children:[(0,b.jsx)("span",{children:i?"Analyzing...":"See How Recruiters Read You"}),(0,b.jsx)("span",{children:"â†’"})]}),(0,b.jsx)("div",{className:"text-muted text-xs",children:j>=2?"Your first 2 reports are free. No login required.":1===j?"1 free report remaining":"Upgrade to keep analyzing"})]})]})}let j=[{id:"overview",label:"Overview"},{id:"fixes",label:"Top Fixes"},{id:"sections",label:"By Section"},{id:"rewrites",label:"Bullet Upgrades"},{id:"alignment",label:"Job Alignment"},{id:"wins",label:"Missing Wins"}];function k({report:a,isLoading:d,hasJobDescription:e,onExportPdf:f,isExporting:g}){let[h,i]=(0,c.useState)("overview"),k=!a&&!d,l=a&&!d,m=a?.score_comment_long||a?.score_comment_short||a?.first_impression||a?.summary,[n,o]=(0,c.useState)(0),p=(0,c.useRef)(null);(0,c.useEffect)(()=>{let b=a?.score||0;if(b<=0)return void o(0);let c=Date.now(),d=()=>{let a=Math.min((Date.now()-c)/1200,1);o(Math.round(b*(1-Math.pow(1-a,3)))),a<1?p.current=requestAnimationFrame(d):o(b)};o(0);let e=setTimeout(()=>{p.current=requestAnimationFrame(d)},100);return()=>{clearTimeout(e),p.current&&cancelAnimationFrame(p.current)}},[a?.score]);let q=n>=90?"#8b5cf6":n>=85?"#3b82f6":n>=80?"#22c55e":n>=70?"#f59e0b":"#ef4444";return(0,b.jsxs)("div",{className:"bg-gray-50 flex flex-col h-full overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200",children:[(0,b.jsx)("div",{className:"flex gap-1 overflow-x-auto",children:j.map(a=>(0,b.jsx)("button",{className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors
                            ${h===a.id?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>i(a.id),children:a.label},a.id))}),l&&f&&(0,b.jsxs)("button",{onClick:f,disabled:g,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),g?"Exporting...":"Export PDF"]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[k&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500",children:[(0,b.jsx)("svg",{className:"w-16 h-16 mb-4 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Ready when you are"}),(0,b.jsx)("p",{children:"Upload or paste your resume to get recruiter-grade feedback in seconds."})]}),d&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,b.jsx)("div",{className:"w-10 h-10 border-4 border-indigo-200 border-t-indigo-500 rounded-full animate-spin mb-4"}),(0,b.jsx)("div",{className:"text-lg font-medium text-gray-700 mb-1",children:"Reading your resume like a recruiter..."}),(0,b.jsx)("p",{className:"text-gray-500",children:"This usually takes 10-15 seconds"})]}),l&&(0,b.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:["overview"===h&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-start gap-6 p-6 bg-white rounded-xl border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 flex-shrink-0",children:[(0,b.jsxs)("div",{className:"relative w-28 h-28",children:[(0,b.jsxs)("svg",{viewBox:"0 0 120 120",className:"w-full h-full -rotate-90",children:[(0,b.jsx)("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),(0,b.jsx)("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:q,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"339.292",strokeDashoffset:339.292*(1-n/100),className:"transition-all duration-100"})]}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center font-display text-4xl font-extrabold",style:{color:q},children:n})]}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Score"})]}),(0,b.jsx)("div",{className:"flex-1",children:m&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsxs)("svg",{className:"w-5 h-5 text-indigo-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,b.jsx)("path",{d:"M12 5C16.478 5 20.268 7.405 22 11C20.268 14.595 16.478 17 12 17C7.522 17 3.732 14.595 2 11C3.732 7.405 7.522 5 12 5Z"}),(0,b.jsx)("circle",{cx:"12",cy:"11",r:"3"})]}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Recruiter First Impression"})]}),(0,b.jsx)("p",{className:"text-gray-600 leading-relaxed",children:m})]})})]}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[{key:"impact",label:"Impact",score:a.subscores?.impact},{key:"clarity",label:"Clarity",score:a.subscores?.clarity},{key:"story",label:"Story",score:a.subscores?.story},{key:"readability",label:"Readability",score:a.subscores?.readability}].map(({key:a,label:c,score:d})=>(0,b.jsxs)("div",{className:"p-4 bg-white rounded-lg border border-gray-200 text-center",children:[(0,b.jsx)("div",{className:`text-2xl font-bold ${d?d>=90?"text-purple-500":d>=85?"text-blue-500":d>=80?"text-emerald-500":d>=70?"text-amber-500":"text-red-500":"text-gray-400"}`,children:d||"â€”"}),(0,b.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:c}),d&&(0,b.jsx)("span",{className:`inline-block mt-2 px-2 py-0.5 rounded text-[10px] font-medium ${d>=90?"bg-purple-100 text-purple-700":d>=85?"bg-blue-100 text-blue-700":d>=80?"bg-emerald-100 text-emerald-700":d>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:d>=90?"EXCEPTIONAL":d>=85?"STRONG":d>=80?"GOOD":d>=70?"NEEDS WORK":"RISK"})]},a))}),a.strengths&&a.strengths.length>0&&(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[(0,b.jsxs)("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 mb-3",children:[(0,b.jsx)("span",{className:"text-emerald-500",children:"âœ“"})," What's Working"]}),(0,b.jsx)("ul",{className:"space-y-2",children:a.strengths.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-gray-600",children:[(0,b.jsx)("span",{className:"text-emerald-400 mt-1",children:"â€¢"})," ",a]},c))})]}),a.gaps&&a.gaps.length>0&&(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[(0,b.jsxs)("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 mb-3",children:[(0,b.jsx)("span",{className:"text-amber-500",children:"âš "})," What's Missing"]}),(0,b.jsx)("ul",{className:"space-y-2",children:a.gaps.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-gray-600",children:[(0,b.jsx)("span",{className:"text-amber-400 mt-1",children:"â€¢"})," ",a]},c))})]})]}),"fixes"===h&&(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Fixes â€” Prioritized"}),(0,b.jsx)("div",{className:"space-y-4",children:a.top_fixes?.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,b.jsx)("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-indigo-100 text-indigo-600 font-bold rounded-full",children:c+1}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-gray-700",children:a.fix||a.text}),a.section_ref&&(0,b.jsx)("span",{className:"inline-block mt-2 text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded",children:a.section_ref}),a.impact_level&&(0,b.jsxs)("span",{className:`inline-block mt-2 ml-2 text-xs px-2 py-0.5 rounded
                                                        ${"high"===a.impact_level?"bg-red-100 text-red-700":"medium"===a.impact_level?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:[a.impact_level," impact"]})]})]},c))||(0,b.jsx)("p",{className:"text-gray-500",children:"No fixes available"})})]}),"sections"===h&&(0,b.jsx)("div",{className:"space-y-4",children:a.section_review?Object.entries(a.section_review).map(([a,c],d)=>(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900",children:a}),c.grade&&(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-bold rounded
                                                        ${c.grade.includes("A")?"bg-emerald-100 text-emerald-700":c.grade.includes("B")?"bg-blue-100 text-blue-700":c.grade.includes("C")?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:c.grade})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[c.working&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-emerald-500 font-medium",children:"âœ“ Working:"}),(0,b.jsx)("span",{className:"text-gray-600",children:c.working})]}),c.missing&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-amber-500 font-medium",children:"â–³ Missing:"}),(0,b.jsx)("span",{className:"text-gray-600",children:c.missing})]}),c.fix&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-indigo-500 font-medium",children:"â†’ Fix:"}),(0,b.jsx)("span",{className:"text-gray-600",children:c.fix})]})]})]},d)):(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Section analysis not available"})}),"rewrites"===h&&(0,b.jsx)("div",{className:"space-y-4",children:a.rewrites?.map((a,c)=>(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[a.label&&(0,b.jsx)("div",{className:"text-xs font-semibold text-indigo-600 uppercase mb-3",children:a.label}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs font-medium text-red-600 mb-2",children:"Original"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.original})]}),(0,b.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs font-medium text-emerald-600 mb-2",children:"Better"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.better}),a.enhancement_note&&(0,b.jsx)("p",{className:"text-xs text-emerald-600 mt-2 italic",children:a.enhancement_note})]})]})]},c))||(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No rewrites available"})}),"alignment"===h&&(0,b.jsx)(b.Fragment,{children:a.job_alignment?.strongly_aligned?.length||a.job_alignment?.underplayed?.length||a.job_alignment?.missing?.length?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold text-emerald-700 mb-2",children:"âœ“ Strongly Aligned"}),(0,b.jsx)("ul",{className:"space-y-1 text-sm text-gray-600",children:a.job_alignment?.strongly_aligned?.map((a,c)=>(0,b.jsxs)("li",{children:["â€¢ ",a]},c))||(0,b.jsx)("li",{className:"text-gray-400",children:"None found"})})]}),(0,b.jsxs)("div",{className:"p-4 bg-amber-50 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold text-amber-700 mb-2",children:"âš  Underplayed"}),(0,b.jsx)("ul",{className:"space-y-1 text-sm text-gray-600",children:a.job_alignment?.underplayed?.map((a,c)=>(0,b.jsxs)("li",{children:["â€¢ ",a]},c))||(0,b.jsx)("li",{className:"text-gray-400",children:"None found"})})]}),(0,b.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold text-red-700 mb-2",children:"âœ— Missing/Weak"}),(0,b.jsx)("ul",{className:"space-y-1 text-sm text-gray-600",children:a.job_alignment?.missing?.map((a,c)=>(0,b.jsxs)("li",{children:["â€¢ ",a]},c))||(0,b.jsx)("li",{className:"text-gray-400",children:"None found"})})]})]}),a.job_alignment?.role_fit&&(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Where You Read Strongest"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-emerald-600 mb-2",children:"Best Fit Roles"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.job_alignment.role_fit.best_fit_roles?.map((a,c)=>(0,b.jsx)("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 text-sm rounded-full",children:a},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-amber-600 mb-2",children:"Stretch Roles"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.job_alignment.role_fit.stretch_roles?.map((a,c)=>(0,b.jsx)("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 text-sm rounded-full",children:a},c))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.job_alignment.role_fit.seniority_read&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-500 mb-1",children:"Seniority Read"}),(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.job_alignment.role_fit.seniority_read})]}),a.job_alignment.role_fit.industry_signals&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-500 mb-1",children:"Industry Signals"}),(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.job_alignment.role_fit.industry_signals.join(", ")})]}),a.job_alignment.role_fit.company_stage_fit&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-500 mb-1",children:"Company Stage Fit"}),(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.job_alignment.role_fit.company_stage_fit})]})]})]}),a.job_alignment?.positioning_suggestion&&(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Positioning Recommendation"}),(0,b.jsx)("p",{className:"text-gray-600 leading-relaxed",children:a.job_alignment.positioning_suggestion})]})]}):(0,b.jsxs)("div",{className:"p-8 bg-white rounded-xl border border-gray-200 text-center",children:[(0,b.jsx)("div",{className:"text-3xl mb-2",children:"ðŸ“‹"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Add a job description to see alignment analysis"})]})}),"wins"===h&&(0,b.jsxs)("div",{className:"p-5 bg-white rounded-xl border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Surface Missing Wins"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Answer these questions to uncover hidden impact your resume isn't telling yet:"}),(0,b.jsx)("div",{className:"space-y-3",children:a.ideas?.questions?.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 mb-1",children:a.question}),a.archetype&&(0,b.jsx)("span",{className:"inline-block text-xs bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded mr-2",children:a.archetype}),a.why&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.why})]},c))||a.next_steps?.map((a,c)=>(0,b.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,b.jsx)("p",{className:"text-gray-700",children:a})},c))||(0,b.jsx)("p",{className:"text-gray-500",children:"No questions available"})}),a.ideas?.how_to_use&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-4 p-3 bg-gray-50 rounded",children:[(0,b.jsx)("strong",{children:"How to use:"})," ",a.ideas.how_to_use]})]})]})]})]})}function l({isOpen:a,onClose:d,user:e,onSignIn:f,onLoadReport:g}){let[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{a&&e?.email&&(k(!0),fetch("/api/reports").then(a=>a.json()).then(a=>{a.ok&&Array.isArray(a.reports)&&i(a.reports)}).catch(console.error).finally(()=>k(!1)))},[a,e?.email]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:`fixed inset-0 bg-black/40 z-[100] transition-opacity duration-300
                    ${a?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:d}),(0,b.jsxs)("aside",{className:`fixed top-0 right-0 w-[340px] max-w-full h-screen
                    bg-white shadow-modal z-[101] flex flex-col
                    transition-transform duration-300 ease-out
                    ${a?"translate-x-0":"translate-x-full"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200",children:[(0,b.jsx)("span",{className:"font-display text-lg font-bold text-gray-900",children:"Your Reports"}),(0,b.jsx)("button",{onClick:d,"aria-label":"Close",className:"text-2xl text-gray-500 hover:text-gray-900 transition-colors p-1",children:"Ã—"})]}),(0,b.jsx)("div",{className:"flex-1 p-5 overflow-y-auto",children:e?.email?j?(0,b.jsx)("div",{className:"text-center py-10 text-gray-500",children:"Loading..."}):0===h.length?(0,b.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,b.jsx)("div",{className:"text-5xl mb-4",children:"ðŸ“‹"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No reports yet"}),(0,b.jsx)("p",{children:"Run an analysis to see your history here."})]}):(0,b.jsx)("div",{className:"space-y-3",children:h.map(a=>(0,b.jsxs)("div",{onClick:()=>g?.(a.id),className:"p-4 bg-white border border-gray-200 rounded-lg cursor-pointer hover:border-indigo-500 transition-colors",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,b.jsxs)("span",{className:"font-semibold text-indigo-600",children:["Score: ",a.score]}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:(a=>{try{return new Date(a).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}catch{return a}})(a.createdAt)})]}),a.resumeSnippet&&(0,b.jsxs)("p",{className:"text-xs text-gray-500 leading-relaxed",children:[a.resumeSnippet.substring(0,100),"..."]})]},a.id))}):(0,b.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,b.jsx)("div",{className:"text-5xl mb-4",children:"ðŸ“Š"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Track your progress"}),(0,b.jsx)("p",{className:"mb-5",children:"Log in to save every analysis, track your score improvements, and compare different versions of your resume."}),(0,b.jsx)("button",{onClick:f,className:"btn-primary w-full",children:"Log In to Save History"})]})})]})]})}var m=a.i(54220),n=a.i(53123);async function o(a){let b=await fetch("/api/resume-feedback",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:a.text,jobDescription:a.jobDescription,mode:a.mode||"resume"})});return await b.json()}async function p(a){let b=await fetch("/api/parse-resume",{method:"POST",body:a});return await b.json()}async function q(a,b){let c=await o({text:a,jobDescription:b,mode:"resume"});return(console.log("[createResumeFeedback] API response:",c),c.ok)?{ok:!0,report:c.data}:{ok:!1,message:c.message||"Failed to generate report"}}function r(){let a=(0,d.useSearchParams)(),{user:f,signOut:g,refreshUser:j}=(0,e.useAuth)(),[o,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(2),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"true"!==a.get("sample")||w||fetch("/sample-report.json").then(a=>a.json()).then(a=>x(a)).catch(a=>console.error("Failed to load sample report:",a))},[a,w]);let G=(0,c.useCallback)(async a=>{console.log("[WorkspaceClient] handleFileSelect called with:",a.name,a.type);try{v(!0);let b=new FormData;b.append("file",a);let c=await p(b);console.log("[WorkspaceClient] parseResume result:",c),c.ok&&c.text?r(c.text):(console.error("Failed to parse resume:",c.message),alert("Failed to parse resume: "+(c.message||"Unknown error")))}catch(a){console.error("File parsing error:",a),alert("File parsing error. Check console for details.")}finally{v(!1)}},[]),H=(0,c.useCallback)(async()=>{if(console.log("[WorkspaceClient] handleRun called, resumeText length:",o.length),o.trim()){if(y<=0)return void D(!0);v(!0),x(null);try{console.log("[WorkspaceClient] Calling createResumeFeedback...");let a=await q(o,s||void 0);console.log("[WorkspaceClient] createResumeFeedback result:",a),a.ok&&a.report?(console.log("[WorkspaceClient] Setting report:",a.report),x(a.report),z(a=>Math.max(0,a-1))):(console.error("Failed to generate report:",a.message),alert("Failed to generate report: "+(a.message||"Unknown error")))}catch(a){console.error("Report generation error:",a),alert("Report generation error. Check console for details.")}finally{v(!1)}}},[o,s]),I=(0,c.useCallback)(()=>{r(""),t(""),x(null)},[]),J=(0,c.useCallback)(async()=>{try{let a=await fetch("/sample-report.json"),b=await a.json();x(b)}catch(a){console.error("Failed to load sample report:",a)}},[]),[K,L]=(0,c.useState)(!1),M=(0,c.useCallback)(async()=>{if(w){L(!0);try{let a=await fetch("/api/export-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report:w})});if(!a.ok){let b=await a.json().catch(()=>({}));alert(b.message||"Failed to export PDF");return}let b=await a.blob(),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download="resume-report.pdf",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}catch(a){console.error("PDF export error:",a),alert("Failed to export PDF")}finally{L(!1)}}},[w]);return(0,c.useEffect)(()=>{fetch("/api/free-status").then(a=>a.json()).then(a=>{void 0!==a.free_uses_left&&z(a.free_uses_left)}).catch(a=>console.error("Failed to fetch free status:",a))},[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("main",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,b.jsx)("h1",{className:"sr-only",children:"Resume Workspace â€” Analyze Your Resume"}),(0,b.jsx)(h,{user:f?{email:f.email||void 0,firstName:f.firstName||void 0}:null,onNewReport:I,onSampleReport:J,onSignIn:()=>F(!0),onSignOut:g,onHistory:()=>B(!0)}),(0,b.jsxs)("div",{className:`flex-1 grid ${w?"grid-cols-1":"grid-cols-1 lg:grid-cols-2"}`,children:[(0,b.jsx)("div",{className:`${w?"hidden":"block"} h-full`,children:(0,b.jsx)(i,{resumeText:o,jobDescription:s,onResumeTextChange:r,onJobDescChange:t,onFileSelect:G,onRun:H,isLoading:u,freeUsesRemaining:y})}),(0,b.jsx)(k,{report:w,isLoading:u,hasJobDescription:!!s.trim(),onExportPdf:M,isExporting:K})]})]}),(0,b.jsx)(l,{isOpen:A,onClose:()=>B(!1),user:f?{email:f.email||void 0,firstName:f.firstName||void 0}:null,onSignIn:()=>{B(!1),F(!0)},onLoadReport:a=>{console.log("Load report:",a),B(!1)}}),(0,b.jsx)(m.default,{isOpen:C,onClose:()=>D(!1),freeUsesRemaining:y,userEmail:f?.email||void 0,onSuccess:()=>{D(!1)}}),(0,b.jsx)(n.default,{isOpen:E,onClose:()=>F(!1),onSuccess:async()=>{await j(),F(!1)}})]})}a.s(["default",()=>r],22619)}];

//# sourceMappingURL=web_components_workspace_WorkspaceClient_tsx_116548e4._.js.map