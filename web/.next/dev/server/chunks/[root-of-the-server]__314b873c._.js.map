{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/app/api/resume-feedback/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nconst targetBase =\n  process.env.NEXT_PUBLIC_API_BASE ||\n  process.env.API_BASE ||\n  \"https://recruiterinyourpocket.com\";\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json();\n    const upstream = await fetch(`${targetBase}/api/resume-feedback`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        // Forward cookies for Supabase auth\n        Cookie: request.headers.get(\"cookie\") || \"\"\n      },\n      body: JSON.stringify(body)\n    });\n\n    const text = await upstream.text();\n    let json: any;\n    try {\n      json = JSON.parse(text);\n    } catch (err) {\n      return NextResponse.json(\n        {\n          ok: false,\n          errorCode: \"UPSTREAM_NOT_JSON\",\n          message: \"Upstream response was not JSON.\",\n          raw: text\n        },\n        { status: 502 }\n      );\n    }\n\n    return NextResponse.json(json, { status: upstream.status });\n  } catch (err: any) {\n    return NextResponse.json(\n      {\n        ok: false,\n        errorCode: \"PROXY_ERROR\",\n        message: err?.message || \"Failed to reach analysis service.\"\n      },\n      { status: 502 }\n    );\n  }\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aACJ,6DACA,QAAQ,GAAG,CAAC,QAAQ,IACpB;AAEK,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,oBAAoB,CAAC,EAAE;YAChE,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,oCAAoC;gBACpC,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,aAAa;YAC3C;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI;QACJ,IAAI;YACF,OAAO,KAAK,KAAK,CAAC;QACpB,EAAE,OAAO,KAAK;YACZ,OAAO,uJAAY,CAAC,IAAI,CACtB;gBACE,IAAI;gBACJ,WAAW;gBACX,SAAS;gBACT,KAAK;YACP,GACA;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,uJAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ,SAAS,MAAM;QAAC;IAC3D,EAAE,OAAO,KAAU;QACjB,OAAO,uJAAY,CAAC,IAAI,CACtB;YACE,IAAI;YACJ,WAAW;YACX,SAAS,KAAK,WAAW;QAC3B,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}