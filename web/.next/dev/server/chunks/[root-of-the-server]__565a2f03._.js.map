{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/lib/env.ts"],"sourcesContent":["function missing(name: string): never {\n  throw new Error(`Missing environment variable: ${name}`);\n}\n\nexport function getSupabaseUrl(): string {\n  return process.env.NEXT_PUBLIC_SUPABASE_URL || missing(\"NEXT_PUBLIC_SUPABASE_URL\");\n}\n\nexport function getSupabaseAnonKey(): string {\n  return process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || missing(\"NEXT_PUBLIC_SUPABASE_ANON_KEY\");\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;;AAAA,SAAS,QAAQ,IAAY;IAC3B,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,MAAM;AACzD;AAEO,SAAS;IACd,OAAO,gFAAwC,QAAQ;AACzD;AAEO,SAAS;IACd,OAAO,wPAA6C,QAAQ;AAC9D"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/lib/supabase/serverClient.ts"],"sourcesContent":["import { cookies } from \"next/headers\";\nimport { createServerClient } from \"@supabase/ssr\";\nimport { getSupabaseAnonKey, getSupabaseUrl } from \"../env\";\n\n/**\n * Read-only Supabase client for Server Components\n * Use for auth checks, data reads; no cookie writes allowed\n * NOTE: This is now async due to Next.js 16 changes\n */\nexport async function createSupabaseServerClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient(getSupabaseUrl(), getSupabaseAnonKey(), {\n    cookies: {\n      get(name: string) {\n        return cookieStore.get(name)?.value;\n      }\n      // No set/remove: read-only in Server Components\n    }\n  });\n}\n\n/**\n * Full read-write Supabase client for Server Actions and Route Handlers\n * Use when you need to mutate auth state (sign in/out, refresh)\n * NOTE: This is now async due to Next.js 16 changes\n */\nexport async function createSupabaseServerAction() {\n  const cookieStore = await cookies();\n\n  return createServerClient(getSupabaseUrl(), getSupabaseAnonKey(), {\n    cookies: {\n      get(name: string) {\n        return cookieStore.get(name)?.value;\n      },\n      set(name: string, value: string, options: any) {\n        cookieStore.set({ name, value, ...options });\n      },\n      remove(name: string, options: any) {\n        cookieStore.set({ name, value: \"\", ...options });\n      }\n    }\n  });\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;;;;AAOO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mJAAO;IAEjC,OAAO,IAAA,wMAAkB,EAAC,IAAA,qIAAc,KAAI,IAAA,yIAAkB,KAAI;QAChE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;QAEF;IACF;AACF;AAOO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mJAAO;IAEjC,OAAO,IAAA,wMAAkB,EAAC,IAAA,qIAAc,KAAI,IAAA,yIAAkB,KAAI;QAChE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAY;gBAC3C,YAAY,GAAG,CAAC;oBAAE;oBAAM;oBAAO,GAAG,OAAO;gBAAC;YAC5C;YACA,QAAO,IAAY,EAAE,OAAY;gBAC/B,YAAY,GAAG,CAAC;oBAAE;oBAAM,OAAO;oBAAI,GAAG,OAAO;gBAAC;YAChD;QACF;IACF;AACF"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/app/api/auth/send-code/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { createSupabaseServerAction } from \"@/lib/supabase/serverClient\";\n\nexport async function POST(request: NextRequest) {\n    try {\n        const { email } = await request.json();\n\n        if (!email || typeof email !== \"string\") {\n            return NextResponse.json(\n                { ok: false, message: \"Email is required\" },\n                { status: 400 }\n            );\n        }\n\n        const supabase = await createSupabaseServerAction();\n\n        // Send OTP email via Supabase Auth (6-digit code, not magic link)\n        const { error } = await supabase.auth.signInWithOtp({\n            email: email.trim(),\n            options: {\n                shouldCreateUser: true,\n                // Don't send magic link, just the code\n                emailRedirectTo: undefined,\n            }\n        });\n\n        if (error) {\n            console.error(\"Supabase OTP error:\", error);\n            return NextResponse.json(\n                { ok: false, message: error.message },\n                { status: 400 }\n            );\n        }\n\n        return NextResponse.json({ ok: true, message: \"Code sent\" });\n    } catch (error) {\n        console.error(\"Send code error:\", error);\n        return NextResponse.json(\n            { ok: false, message: \"Failed to send code\" },\n            { status: 500 }\n        );\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpC,IAAI,CAAC,SAAS,OAAO,UAAU,UAAU;YACrC,OAAO,uJAAY,CAAC,IAAI,CACpB;gBAAE,IAAI;gBAAO,SAAS;YAAoB,GAC1C;gBAAE,QAAQ;YAAI;QAEtB;QAEA,MAAM,WAAW,MAAM,IAAA,sKAA0B;QAEjD,kEAAkE;QAClE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,aAAa,CAAC;YAChD,OAAO,MAAM,IAAI;YACjB,SAAS;gBACL,kBAAkB;gBAClB,uCAAuC;gBACvC,iBAAiB;YACrB;QACJ;QAEA,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,uBAAuB;YACrC,OAAO,uJAAY,CAAC,IAAI,CACpB;gBAAE,IAAI;gBAAO,SAAS,MAAM,OAAO;YAAC,GACpC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,OAAO,uJAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM,SAAS;QAAY;IAC9D,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,uJAAY,CAAC,IAAI,CACpB;YAAE,IAAI;YAAO,SAAS;QAAsB,GAC5C;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}