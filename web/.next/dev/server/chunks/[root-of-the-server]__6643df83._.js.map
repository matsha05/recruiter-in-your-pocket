{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/app/api/parse-resume/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport const dynamic = \"force-dynamic\";\n\nconst targetBase =\n  process.env.NEXT_PUBLIC_API_BASE ||\n  process.env.API_BASE ||\n  \"https://recruiterinyourpocket.com\";\n\nexport async function POST(request: Request) {\n  try {\n    const incoming = await request.formData();\n    const file = incoming.get(\"file\");\n    if (!file || !(file instanceof File)) {\n      return NextResponse.json(\n        { ok: false, errorCode: \"NO_FILE\", message: \"No file provided.\" },\n        { status: 400 }\n      );\n    }\n\n    const form = new FormData();\n    form.append(\"file\", file);\n\n    const upstream = await fetch(`${targetBase}/api/parse-resume`, {\n      method: \"POST\",\n      body: form\n    });\n\n    const text = await upstream.text();\n    let json: any;\n    try {\n      json = JSON.parse(text);\n    } catch {\n      return NextResponse.json(\n        { ok: false, errorCode: \"UPSTREAM_NOT_JSON\", message: \"Upstream parse failed.\", raw: text },\n        { status: 502 }\n      );\n    }\n\n    return NextResponse.json(json, { status: upstream.status });\n  } catch (err: any) {\n    return NextResponse.json(\n      { ok: false, errorCode: \"PROXY_ERROR\", message: err?.message || \"Failed to parse resume.\" },\n      { status: 502 }\n    );\n  }\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,UAAU;AAEvB,MAAM,aACJ,6DACA,QAAQ,GAAG,CAAC,QAAQ,IACpB;AAEK,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,WAAW,MAAM,QAAQ,QAAQ;QACvC,MAAM,OAAO,SAAS,GAAG,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,CAAC,gBAAgB,IAAI,GAAG;YACpC,OAAO,uJAAY,CAAC,IAAI,CACtB;gBAAE,IAAI;gBAAO,WAAW;gBAAW,SAAS;YAAoB,GAChE;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,IAAI;QACjB,KAAK,MAAM,CAAC,QAAQ;QAEpB,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,iBAAiB,CAAC,EAAE;YAC7D,QAAQ;YACR,MAAM;QACR;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI;QACJ,IAAI;YACF,OAAO,KAAK,KAAK,CAAC;QACpB,EAAE,OAAM;YACN,OAAO,uJAAY,CAAC,IAAI,CACtB;gBAAE,IAAI;gBAAO,WAAW;gBAAqB,SAAS;gBAA0B,KAAK;YAAK,GAC1F;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,uJAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ,SAAS,MAAM;QAAC;IAC3D,EAAE,OAAO,KAAU;QACjB,OAAO,uJAAY,CAAC,IAAI,CACtB;YAAE,IAAI;YAAO,WAAW;YAAe,SAAS,KAAK,WAAW;QAA0B,GAC1F;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}