{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/app/api/export-pdf/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\n\nconst API_BASE = process.env.API_BASE_URL || \"http://localhost:3000\";\n\nexport async function POST(request: NextRequest) {\n    try {\n        const body = await request.json();\n        const cookie = request.headers.get(\"cookie\") || \"\";\n\n        const response = await fetch(`${API_BASE}/api/export-pdf`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Cookie\": cookie,\n            },\n            body: JSON.stringify(body),\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json().catch(() => ({}));\n            return NextResponse.json(\n                { ok: false, message: errorData.message || \"Failed to generate PDF\" },\n                { status: response.status }\n            );\n        }\n\n        // Return PDF as blob\n        const pdfBuffer = await response.arrayBuffer();\n\n        return new NextResponse(pdfBuffer, {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/pdf\",\n                \"Content-Disposition\": 'attachment; filename=\"resume-report.pdf\"',\n            },\n        });\n    } catch (error) {\n        console.error(\"API /export-pdf error:\", error);\n        return NextResponse.json(\n            { ok: false, message: \"Failed to generate PDF\" },\n            { status: 500 }\n        );\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,WAAW,QAAQ,GAAG,CAAC,YAAY,IAAI;AAEtC,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC,aAAa;QAEhD,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,eAAe,CAAC,EAAE;YACvD,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,UAAU;YACd;YACA,MAAM,KAAK,SAAS,CAAC;QACzB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,OAAO,uJAAY,CAAC,IAAI,CACpB;gBAAE,IAAI;gBAAO,SAAS,UAAU,OAAO,IAAI;YAAyB,GACpE;gBAAE,QAAQ,SAAS,MAAM;YAAC;QAElC;QAEA,qBAAqB;QACrB,MAAM,YAAY,MAAM,SAAS,WAAW;QAE5C,OAAO,IAAI,uJAAY,CAAC,WAAW;YAC/B,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,uBAAuB;YAC3B;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,uJAAY,CAAC,IAAI,CACpB;YAAE,IAAI;YAAO,SAAS;QAAyB,GAC/C;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}