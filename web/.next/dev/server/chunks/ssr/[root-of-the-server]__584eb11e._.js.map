{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/lib/env.ts"],"sourcesContent":["function missing(name: string): never {\n  throw new Error(`Missing environment variable: ${name}`);\n}\n\nexport function getSupabaseUrl(): string {\n  return process.env.NEXT_PUBLIC_SUPABASE_URL || missing(\"NEXT_PUBLIC_SUPABASE_URL\");\n}\n\nexport function getSupabaseAnonKey(): string {\n  return process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || missing(\"NEXT_PUBLIC_SUPABASE_ANON_KEY\");\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;;AAAA,SAAS,QAAQ,IAAY;IAC3B,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,MAAM;AACzD;AAEO,SAAS;IACd,OAAO,gFAAwC,QAAQ;AACzD;AAEO,SAAS;IACd,OAAO,wPAA6C,QAAQ;AAC9D"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/lib/supabase/browserClient.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\nimport { getSupabaseAnonKey, getSupabaseUrl } from \"../env\";\n\nexport function createSupabaseBrowserClient() {\n  return createBrowserClient(getSupabaseUrl(), getSupabaseAnonKey());\n}\n\n\n\n\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,SAAS;IACd,OAAO,IAAA,wMAAmB,EAAC,IAAA,mIAAc,KAAI,IAAA,uIAAkB;AACjE"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/providers/AuthProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\nimport { createSupabaseBrowserClient } from \"@/lib/supabase/browserClient\";\nimport type { User } from \"@supabase/supabase-js\";\n\ninterface AuthUser {\n    id: string;\n    email: string | null;\n    firstName?: string | null;\n}\n\ninterface AuthContextType {\n    user: AuthUser | null;\n    isLoading: boolean;\n    signOut: () => Promise<void>;\n    refreshUser: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n    const [user, setUser] = useState<AuthUser | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    const supabase = createSupabaseBrowserClient();\n\n    const mapUser = (supabaseUser: User | null): AuthUser | null => {\n        if (!supabaseUser) return null;\n        return {\n            id: supabaseUser.id,\n            email: supabaseUser.email || null,\n            firstName: supabaseUser.user_metadata?.first_name || null\n        };\n    };\n\n    const refreshUser = async () => {\n        try {\n            const { data: { user: supabaseUser } } = await supabase.auth.getUser();\n            setUser(mapUser(supabaseUser));\n        } catch (error) {\n            console.error(\"Error refreshing user:\", error);\n            setUser(null);\n        }\n    };\n\n    const signOut = async () => {\n        try {\n            await fetch(\"/api/auth/sign-out\", { method: \"POST\" });\n            setUser(null);\n        } catch (error) {\n            console.error(\"Sign out error:\", error);\n        }\n    };\n\n    useEffect(() => {\n        // Get initial user\n        refreshUser().finally(() => setIsLoading(false));\n\n        // Listen for auth state changes\n        const { data: { subscription } } = supabase.auth.onAuthStateChange(\n            async (event, session) => {\n                setUser(mapUser(session?.user || null));\n            }\n        );\n\n        return () => {\n            subscription.unsubscribe();\n        };\n    }, []);\n\n    return (\n        <AuthContext.Provider value={{ user, isLoading, signOut, refreshUser }}>\n            {children}\n        </AuthContext.Provider>\n    );\n}\n\nexport function useAuth() {\n    const context = useContext(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAmBA,MAAM,4BAAc,IAAA,6NAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wNAAQ,EAAkB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wNAAQ,EAAC;IAE3C,MAAM,WAAW,IAAA,sKAA2B;IAE5C,MAAM,UAAU,CAAC;QACb,IAAI,CAAC,cAAc,OAAO;QAC1B,OAAO;YACH,IAAI,aAAa,EAAE;YACnB,OAAO,aAAa,KAAK,IAAI;YAC7B,WAAW,aAAa,aAAa,EAAE,cAAc;QACzD;IACJ;IAEA,MAAM,cAAc;QAChB,IAAI;YACA,MAAM,EAAE,MAAM,EAAE,MAAM,YAAY,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;YACpE,QAAQ,QAAQ;QACpB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,QAAQ;QACZ;IACJ;IAEA,MAAM,UAAU;QACZ,IAAI;YACA,MAAM,MAAM,sBAAsB;gBAAE,QAAQ;YAAO;YACnD,QAAQ;QACZ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,mBAAmB;QACrC;IACJ;IAEA,IAAA,yNAAS,EAAC;QACN,mBAAmB;QACnB,cAAc,OAAO,CAAC,IAAM,aAAa;QAEzC,gCAAgC;QAChC,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAC9D,OAAO,OAAO;YACV,QAAQ,QAAQ,SAAS,QAAQ;QACrC;QAGJ,OAAO;YACH,aAAa,WAAW;QAC5B;IACJ,GAAG,EAAE;IAEL,qBACI,qPAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAW;YAAS;QAAY;kBAChE;;;;;;AAGb;AAEO,SAAS;IACZ,MAAM,UAAU,IAAA,0NAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}}]
}