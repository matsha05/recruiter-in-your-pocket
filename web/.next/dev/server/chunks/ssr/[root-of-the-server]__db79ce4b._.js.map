{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/shared/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nexport default function ThemeToggle() {\n    const [isDark, setIsDark] = useState(false);\n    const [mounted, setMounted] = useState(false);\n\n    useEffect(() => {\n        setMounted(true);\n        const savedTheme = localStorage.getItem(\"theme\");\n        const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n        const shouldBeDark = savedTheme === \"dark\" || (!savedTheme && prefersDark);\n\n        setIsDark(shouldBeDark);\n        if (shouldBeDark) {\n            document.documentElement.setAttribute(\"data-theme\", \"dark\");\n            document.documentElement.classList.add(\"dark\");\n        }\n    }, []);\n\n    const toggleTheme = () => {\n        const newIsDark = !isDark;\n        setIsDark(newIsDark);\n\n        if (newIsDark) {\n            document.documentElement.setAttribute(\"data-theme\", \"dark\");\n            document.documentElement.classList.add(\"dark\");\n            localStorage.setItem(\"theme\", \"dark\");\n        } else {\n            document.documentElement.removeAttribute(\"data-theme\");\n            document.documentElement.classList.remove(\"dark\");\n            localStorage.setItem(\"theme\", \"light\");\n        }\n    };\n\n    // Prevent hydration mismatch\n    if (!mounted) {\n        return (\n            <button\n                className=\"p-2 rounded-lg text-secondary hover:bg-hover transition-colors\"\n                type=\"button\"\n                aria-label=\"Toggle dark mode\"\n                title=\"Toggle dark mode\"\n            >\n                <span className=\"text-xl\">üåô</span>\n            </button>\n        );\n    }\n\n    return (\n        <button\n            className=\"p-2 rounded-lg text-secondary hover:bg-hover transition-colors\"\n            type=\"button\"\n            aria-label=\"Toggle dark mode\"\n            title=\"Toggle dark mode\"\n            onClick={toggleTheme}\n        >\n            <span className=\"text-xl\">{isDark ? \"‚òÄÔ∏è\" : \"üåô\"}</span>\n        </button>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,wNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IAEvC,IAAA,yNAAS,EAAC;QACN,WAAW;QACX,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;QAC7E,MAAM,eAAe,eAAe,UAAW,CAAC,cAAc;QAE9D,UAAU;QACV,IAAI,cAAc;YACd,SAAS,eAAe,CAAC,YAAY,CAAC,cAAc;YACpD,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QAC3C;IACJ,GAAG,EAAE;IAEL,MAAM,cAAc;QAChB,MAAM,YAAY,CAAC;QACnB,UAAU;QAEV,IAAI,WAAW;YACX,SAAS,eAAe,CAAC,YAAY,CAAC,cAAc;YACpD,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,aAAa,OAAO,CAAC,SAAS;QAClC,OAAO;YACH,SAAS,eAAe,CAAC,eAAe,CAAC;YACzC,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,aAAa,OAAO,CAAC,SAAS;QAClC;IACJ;IAEA,6BAA6B;IAC7B,IAAI,CAAC,SAAS;QACV,qBACI,qPAAC;YACG,WAAU;YACV,MAAK;YACL,cAAW;YACX,OAAM;sBAEN,cAAA,qPAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;IAGtC;IAEA,qBACI,qPAAC;QACG,WAAU;QACV,MAAK;QACL,cAAW;QACX,OAAM;QACN,SAAS;kBAET,cAAA,qPAAC;YAAK,WAAU;sBAAW,SAAS,OAAO;;;;;;;;;;;AAGvD"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/workspace/WorkspaceHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport ThemeToggle from \"../shared/ThemeToggle\";\n\ninterface User {\n    email?: string;\n    firstName?: string;\n}\n\ninterface WorkspaceHeaderProps {\n    user?: User | null;\n    onNewReport?: () => void;\n    onSampleReport?: () => void;\n    onSignIn?: () => void;\n    onSignOut?: () => void;\n    onHistory?: () => void;\n}\n\nexport default function WorkspaceHeader({\n    user,\n    onNewReport,\n    onSampleReport,\n    onSignIn,\n    onSignOut,\n    onHistory\n}: WorkspaceHeaderProps) {\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n    const userInitial = user?.firstName?.[0] || user?.email?.[0]?.toUpperCase() || \"?\";\n\n    return (\n        <header className=\"flex items-center justify-between px-6 py-4 bg-surface border-b border-subtle\">\n            <Link href=\"/\" className=\"font-display font-bold text-lg text-primary hover:text-brand dark:hover:text-brand-strong transition-colors\">\n                Recruiter in Your Pocket\n            </Link>\n\n            <div className=\"flex items-center gap-3\">\n                <button className=\"btn-ghost\" onClick={onSampleReport}>\n                    üìÑ Sample Report\n                </button>\n\n                <button\n                    onClick={onNewReport}\n                    className=\"inline-flex items-center gap-2 px-4 py-2 bg-success text-white \n                        font-semibold rounded-lg shadow-button hover:opacity-90 \n                        transition-all duration-200\"\n                >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\">\n                        <path d=\"M12 8V16M8 12H16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\n                    </svg>\n                    New Report\n                </button>\n\n                {!user ? (\n                    <button className=\"btn-ghost font-semibold\" onClick={onSignIn}>\n                        Sign In\n                    </button>\n                ) : (\n                    <div className=\"relative\">\n                        <button\n                            onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n                            className=\"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-hover transition-colors\"\n                        >\n                            <span className=\"w-8 h-8 flex items-center justify-center bg-brand text-white rounded-full font-semibold text-sm\">\n                                {userInitial}\n                            </span>\n                            <span className=\"text-sm text-primary max-w-[120px] truncate\">\n                                {user.firstName || user.email}\n                            </span>\n                            <span className=\"text-muted text-xs\">‚ñæ</span>\n                        </button>\n\n                        {isDropdownOpen && (\n                            <>\n                                <div\n                                    className=\"fixed inset-0 z-40\"\n                                    onClick={() => setIsDropdownOpen(false)}\n                                />\n                                <div className=\"absolute right-0 top-full mt-1 w-56 bg-surface border border-subtle rounded-xl shadow-modal z-50 py-2\">\n\n                                    <div className=\"px-4 py-2 text-xs text-muted truncate\">\n                                        {user.email}\n                                    </div>\n                                    <div className=\"border-t border-subtle my-1\" />\n\n                                    <button\n                                        onClick={() => { onHistory?.(); setIsDropdownOpen(false); }}\n                                        className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors\"\n                                    >\n                                        <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\">\n                                            <path d=\"M3 7C3 4.239 4.239 3 7 3H17C19.761 3 21 4.239 21 7V17C21 19.761 19.761 21 17 21H7C4.239 21 3 19.761 3 17V7Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n                                            <path d=\"M7 8H17M7 12H17M7 16H13\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                                        </svg>\n                                        My Reports\n                                    </button>\n\n                                    <button\n                                        onClick={() => { onNewReport?.(); setIsDropdownOpen(false); }}\n                                        className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors\"\n                                    >\n                                        <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\">\n                                            <path d=\"M12 8V16M8 12H16\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                                        </svg>\n                                        New Report\n                                    </button>\n\n                                    <div className=\"border-t border-subtle my-1\" />\n\n                                    <Link\n                                        href=\"/\"\n                                        className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors\"\n                                        onClick={() => setIsDropdownOpen(false)}\n                                    >\n                                        <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\">\n                                            <path d=\"M11 6L5 12M5 12L11 18M5 12H19\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                                        </svg>\n                                        Home\n                                    </Link>\n\n                                    <Link\n                                        href=\"/settings\"\n                                        className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-secondary hover:bg-brand-soft transition-colors\"\n                                        onClick={() => setIsDropdownOpen(false)}\n                                    >\n                                        <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\">\n                                            <path d=\"M12 15a3 3 0 100-6 3 3 0 000 6z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n                                            <path d=\"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n                                        </svg>\n                                        Settings\n                                    </Link>\n\n                                    <button\n                                        onClick={() => { onSignOut?.(); setIsDropdownOpen(false); }}\n                                        className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-danger hover:bg-warning-soft transition-colors\"\n                                    >\n                                        Sign Out\n                                    </button>\n                                </div>\n                            </>\n                        )}\n                    </div>\n                )}\n\n                <ThemeToggle />\n            </div>\n        </header>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/workspace/InputPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, ChangeEvent } from \"react\";\n\ninterface InputPanelProps {\n    resumeText: string;\n    jobDescription: string;\n    onResumeTextChange: (text: string) => void;\n    onJobDescChange: (text: string) => void;\n    onFileSelect: (file: File) => void;\n    onRun: () => void;\n    isLoading: boolean;\n    freeUsesRemaining: number;\n}\n\nexport default function InputPanel({\n    resumeText,\n    jobDescription,\n    onResumeTextChange,\n    onJobDescChange,\n    onFileSelect,\n    onRun,\n    isLoading,\n    freeUsesRemaining\n}: InputPanelProps) {\n    const [fileName, setFileName] = useState<string | null>(null);\n    const [isDragOver, setIsDragOver] = useState(false);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\n    const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (file) {\n            setFileName(file.name);\n            onFileSelect(file);\n        }\n    };\n\n    const handleDrop = (e: React.DragEvent) => {\n        e.preventDefault();\n        setIsDragOver(false);\n        const file = e.dataTransfer.files?.[0];\n        if (file) {\n            setFileName(file.name);\n            onFileSelect(file);\n        }\n    };\n\n    const handleRemoveFile = () => {\n        setFileName(null);\n        if (fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n    };\n\n    const getRunHint = () => {\n        if (freeUsesRemaining >= 2) {\n            return \"Your first 2 reports are free. No login required.\";\n        } else if (freeUsesRemaining === 1) {\n            return \"1 free report remaining\";\n        } else {\n            return \"Upgrade to keep analyzing\";\n        }\n    };\n\n    const charCount = resumeText.length;\n    const isShortResume = charCount > 0 && charCount < 1500;\n\n    return (\n        <div className=\"bg-surface p-6 flex flex-col gap-6 overflow-y-auto h-full\">\n            <div className=\"flex flex-col gap-6\">\n                {/* Resume Upload */}\n                <div className=\"flex flex-col gap-2\">\n                    <div className=\"flex items-center justify-between\">\n                        <span className=\"font-semibold text-primary text-sm\">Your Resume</span>\n                        <span className=\"text-muted text-xs\">PDF, DOCX, or paste text</span>\n                    </div>\n\n                    {/* Dropzone */}\n                    <div\n                        className={`flex flex-col items-center justify-center gap-3 p-6\n                            border-2 border-dashed rounded-xl cursor-pointer\n                            transition-all duration-200\n                            ${isDragOver\n                                ? \"border-brand bg-brand-soft\"\n                                : \"border-subtle hover:border-brand hover:bg-brand-soft/30\"\n                            }`}\n                        onClick={(e) => {\n                            if (e.target === e.currentTarget || !(e.target as HTMLElement).closest('input')) {\n                                fileInputRef.current?.click();\n                            }\n                        }}\n                        onDragOver={(e) => { e.preventDefault(); setIsDragOver(true); }}\n                        onDragLeave={() => setIsDragOver(false)}\n                        onDrop={handleDrop}\n                    >\n                        <svg className=\"w-8 h-8 text-muted\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1.5\"\n                                d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                        </svg>\n                        <div className=\"text-primary text-sm font-medium\">Drop your resume here or click to upload</div>\n                        <div className=\"text-muted text-xs\">Supports PDF and DOCX files</div>\n                        <input\n                            type=\"file\"\n                            ref={fileInputRef}\n                            className=\"hidden\"\n                            accept=\".pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n                            onChange={handleFileChange}\n                            onClick={(e) => e.stopPropagation()}\n                        />\n                    </div>\n\n                    {/* File info */}\n                    {fileName && (\n                        <div className=\"flex items-center justify-between px-4 py-2 bg-brand-soft rounded-lg\">\n                            <span className=\"text-brand font-medium text-sm\">{fileName}</span>\n                            <button\n                                className=\"text-muted hover:text-danger text-xs transition-colors\"\n                                onClick={handleRemoveFile}\n                            >\n                                ‚úï Remove\n                            </button>\n                        </div>\n                    )}\n\n                    {/* Divider */}\n                    <div className=\"text-center text-muted text-sm py-2\">\n                        ‚Äî or paste ‚Äî\n                    </div>\n\n                    {/* Resume textarea */}\n                    <textarea\n                        value={resumeText}\n                        onChange={(e) => onResumeTextChange(e.target.value)}\n                        placeholder=\"Paste your resume text here...\"\n                        className=\"textarea min-h-[200px]\"\n                    />\n\n                    {/* Short resume warning */}\n                    {isShortResume && (\n                        <div className=\"flex items-start gap-3 p-4 bg-warning-soft border border-amber-200 rounded-lg\">\n                            <div className=\"text-lg\">‚ö†Ô∏è</div>\n                            <div>\n                                <div className=\"font-semibold text-primary text-sm\">Resume looks short</div>\n                                <p className=\"text-secondary text-xs mt-1\">\n                                    We found {charCount} characters. Most resumes have 1,500+ characters. You might get limited feedback.\n                                </p>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Job Description (Optional) */}\n                <div className=\"flex flex-col gap-2\">\n                    <div className=\"flex items-center justify-between\">\n                        <span className=\"font-semibold text-primary text-sm\">Job Description</span>\n                        <span className=\"text-muted text-xs\">Optional ‚Äî enables alignment analysis</span>\n                    </div>\n                    <textarea\n                        value={jobDescription}\n                        onChange={(e) => onJobDescChange(e.target.value)}\n                        className=\"textarea min-h-[120px]\"\n                        placeholder=\"Paste the job description to see how well your resume aligns...\"\n                    />\n                </div>\n            </div>\n\n            {/* Run Button */}\n            <div className=\"flex flex-col items-center gap-2 pt-4 border-t border-subtle mt-auto\">\n                <button\n                    className=\"btn-primary w-full\"\n                    onClick={onRun}\n                    disabled={isLoading || (!resumeText.trim() && !fileName)}\n                >\n                    <span>{isLoading ? \"Analyzing...\" : \"See How Recruiters Read You\"}</span>\n                    <span>‚Üí</span>\n                </button>\n                <div className=\"text-muted text-xs\">{getRunHint()}</div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAee,SAAS,WAAW,EAC/B,UAAU,EACV,cAAc,EACd,kBAAkB,EAClB,eAAe,EACf,YAAY,EACZ,KAAK,EACL,SAAS,EACT,iBAAiB,EACH;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wNAAQ,EAAgB;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wNAAQ,EAAC;IAC7C,MAAM,eAAe,IAAA,sNAAM,EAAmB;IAE9C,MAAM,mBAAmB,CAAC;QACtB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACN,YAAY,KAAK,IAAI;YACrB,aAAa;QACjB;IACJ;IAEA,MAAM,aAAa,CAAC;QAChB,EAAE,cAAc;QAChB,cAAc;QACd,MAAM,OAAO,EAAE,YAAY,CAAC,KAAK,EAAE,CAAC,EAAE;QACtC,IAAI,MAAM;YACN,YAAY,KAAK,IAAI;YACrB,aAAa;QACjB;IACJ;IAEA,MAAM,mBAAmB;QACrB,YAAY;QACZ,IAAI,aAAa,OAAO,EAAE;YACtB,aAAa,OAAO,CAAC,KAAK,GAAG;QACjC;IACJ;IAEA,MAAM,aAAa;QACf,IAAI,qBAAqB,GAAG;YACxB,OAAO;QACX,OAAO,IAAI,sBAAsB,GAAG;YAChC,OAAO;QACX,OAAO;YACH,OAAO;QACX;IACJ;IAEA,MAAM,YAAY,WAAW,MAAM;IACnC,MAAM,gBAAgB,YAAY,KAAK,YAAY;IAEnD,qBACI,qPAAC;QAAI,WAAU;;0BACX,qPAAC;gBAAI,WAAU;;kCAEX,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAK,WAAU;kDAAqC;;;;;;kDACrD,qPAAC;wCAAK,WAAU;kDAAqB;;;;;;;;;;;;0CAIzC,qPAAC;gCACG,WAAW,CAAC;;;4BAGR,EAAE,aACI,+BACA,2DACJ;gCACN,SAAS,CAAC;oCACN,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,IAAI,CAAC,AAAC,EAAE,MAAM,CAAiB,OAAO,CAAC,UAAU;wCAC7E,aAAa,OAAO,EAAE;oCAC1B;gCACJ;gCACA,YAAY,CAAC;oCAAQ,EAAE,cAAc;oCAAI,cAAc;gCAAO;gCAC9D,aAAa,IAAM,cAAc;gCACjC,QAAQ;;kDAER,qPAAC;wCAAI,WAAU;wCAAqB,MAAK;wCAAO,SAAQ;wCAAY,QAAO;kDACvE,cAAA,qPAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,aAAY;4CAC3D,GAAE;;;;;;;;;;;kDAEV,qPAAC;wCAAI,WAAU;kDAAmC;;;;;;kDAClD,qPAAC;wCAAI,WAAU;kDAAqB;;;;;;kDACpC,qPAAC;wCACG,MAAK;wCACL,KAAK;wCACL,WAAU;wCACV,QAAO;wCACP,UAAU;wCACV,SAAS,CAAC,IAAM,EAAE,eAAe;;;;;;;;;;;;4BAKxC,0BACG,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAK,WAAU;kDAAkC;;;;;;kDAClD,qPAAC;wCACG,WAAU;wCACV,SAAS;kDACZ;;;;;;;;;;;;0CAOT,qPAAC;gCAAI,WAAU;0CAAsC;;;;;;0CAKrD,qPAAC;gCACG,OAAO;gCACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;gCAClD,aAAY;gCACZ,WAAU;;;;;;4BAIb,+BACG,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAI,WAAU;kDAAU;;;;;;kDACzB,qPAAC;;0DACG,qPAAC;gDAAI,WAAU;0DAAqC;;;;;;0DACpD,qPAAC;gDAAE,WAAU;;oDAA8B;oDAC7B;oDAAU;;;;;;;;;;;;;;;;;;;;;;;;;kCAQxC,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAK,WAAU;kDAAqC;;;;;;kDACrD,qPAAC;wCAAK,WAAU;kDAAqB;;;;;;;;;;;;0CAEzC,qPAAC;gCACG,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gCAC/C,WAAU;gCACV,aAAY;;;;;;;;;;;;;;;;;;0BAMxB,qPAAC;gBAAI,WAAU;;kCACX,qPAAC;wBACG,WAAU;wBACV,SAAS;wBACT,UAAU,aAAc,CAAC,WAAW,IAAI,MAAM,CAAC;;0CAE/C,qPAAC;0CAAM,YAAY,iBAAiB;;;;;;0CACpC,qPAAC;0CAAK;;;;;;;;;;;;kCAEV,qPAAC;wBAAI,WAAU;kCAAsB;;;;;;;;;;;;;;;;;;AAIrD"}},
    {"offset": {"line": 801, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/workspace/ReportPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo, useEffect, useRef } from \"react\";\n\n// Score-based color function - returns semantic Tailwind color classes\nfunction getScoreColorClass(score: number): string {\n    if (score >= 90) return 'text-[#8b5cf6]';\n    if (score >= 85) return 'text-brand';\n    if (score >= 80) return 'text-success';\n    if (score >= 70) return 'text-warning';\n    return 'text-danger';\n}\n\nfunction getScoreColor(score: number): string {\n    if (score >= 90) return '#8b5cf6';\n    if (score >= 85) return '#3b82f6';\n    if (score >= 80) return '#22c55e';\n    if (score >= 70) return '#f59e0b';\n    return '#ef4444';\n}\n\nfunction getScoreBgClass(score: number): string {\n    if (score >= 90) return 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300';\n    if (score >= 85) return 'bg-brand-soft text-brand';\n    if (score >= 80) return 'bg-success-soft text-success';\n    if (score >= 70) return 'bg-warning-soft text-warning';\n    return 'bg-danger-soft text-danger';\n}\n\ntype TabId = \"overview\" | \"fixes\" | \"sections\" | \"rewrites\" | \"alignment\" | \"wins\";\n\ninterface ReportData {\n    score?: number;\n    score_label?: string;\n    score_comment_short?: string;\n    score_comment_long?: string;\n    summary?: string;\n    subscores?: {\n        impact?: number;\n        clarity?: number;\n        story?: number;\n        readability?: number;\n    };\n    first_impression?: string;\n    strengths?: string[];\n    gaps?: string[];\n    top_fixes?: Array<{ fix?: string; text?: string; impact_level?: string; effort?: string; section_ref?: string }>;\n    section_review?: Record<string, { working?: string | null; missing?: string | null; fix?: string | null; grade?: string; priority?: string }>;\n    rewrites?: Array<{ original: string; better: string; label?: string; enhancement_note?: string }>;\n    job_alignment?: {\n        strongly_aligned?: string[];\n        underplayed?: string[];\n        missing?: string[];\n        role_fit?: {\n            best_fit_roles?: string[];\n            stretch_roles?: string[];\n            seniority_read?: string;\n            industry_signals?: string[];\n            company_stage_fit?: string;\n        };\n        positioning_suggestion?: string;\n    };\n    ideas?: {\n        questions?: Array<{ question: string; archetype?: string; why?: string }>;\n        notes?: string[];\n        how_to_use?: string;\n    };\n    next_steps?: string[];\n}\n\ninterface ReportPanelProps {\n    report: ReportData | null;\n    isLoading: boolean;\n    hasJobDescription: boolean;\n    onExportPdf?: () => void;\n    isExporting?: boolean;\n}\n\nconst tabs: { id: TabId; label: string }[] = [\n    { id: \"overview\", label: \"Overview\" },\n    { id: \"fixes\", label: \"Top Fixes\" },\n    { id: \"sections\", label: \"By Section\" },\n    { id: \"rewrites\", label: \"Bullet Upgrades\" },\n    { id: \"alignment\", label: \"Job Alignment\" },\n    { id: \"wins\", label: \"Missing Wins\" }\n];\n\nexport default function ReportPanel({ report, isLoading, hasJobDescription, onExportPdf, isExporting }: ReportPanelProps) {\n    const [activeTab, setActiveTab] = useState<TabId>(\"overview\");\n    const [tabTransition, setTabTransition] = useState(false);\n\n    // Fade animation when switching tabs\n    const handleTabChange = (newTab: TabId) => {\n        if (newTab === activeTab) return;\n        setTabTransition(true);\n        setTimeout(() => {\n            setActiveTab(newTab);\n            setTabTransition(false);\n        }, 150);\n    };\n\n    const showEmptyState = !report && !isLoading;\n    const showLoading = isLoading;\n    const showReport = report && !isLoading;\n\n    // First impression text fallback\n    const firstImpressionText = report?.score_comment_long || report?.score_comment_short || report?.first_impression || report?.summary;\n\n    // Animated score dial state\n    const [animatedScore, setAnimatedScore] = useState(0);\n    const animationRef = useRef<number | null>(null);\n\n    useEffect(() => {\n        const targetScore = report?.score || 0;\n        if (targetScore <= 0) {\n            setAnimatedScore(0);\n            return;\n        }\n\n        const duration = 1200;\n        const startTime = Date.now();\n\n        const animate = () => {\n            const elapsed = Date.now() - startTime;\n            const progress = Math.min(elapsed / duration, 1);\n            const eased = 1 - Math.pow(1 - progress, 3);\n            const current = Math.round(targetScore * eased);\n            setAnimatedScore(current);\n\n            if (progress < 1) {\n                animationRef.current = requestAnimationFrame(animate);\n            } else {\n                setAnimatedScore(targetScore);\n            }\n        };\n\n        setAnimatedScore(0);\n        const timeoutId = setTimeout(() => {\n            animationRef.current = requestAnimationFrame(animate);\n        }, 100);\n\n        return () => {\n            clearTimeout(timeoutId);\n            if (animationRef.current) cancelAnimationFrame(animationRef.current);\n        };\n    }, [report?.score]);\n\n    const dialColor = getScoreColor(animatedScore);\n\n    return (\n        <div className=\"bg-muted flex flex-col h-full overflow-hidden\">\n            {/* Tabs + Export Button - Sticky */}\n            <div className=\"sticky top-0 z-10 flex items-center justify-between px-4 py-3 bg-surface border-b border-subtle\">\n                <div className=\"flex gap-2 overflow-x-auto\">\n                    {tabs.map((tab) => (\n                        <button\n                            key={tab.id}\n                            className={`px-4 py-2.5 rounded-lg text-sm font-medium whitespace-nowrap transition-all duration-200\n                            ${activeTab === tab.id\n                                    ? \"bg-brand-soft text-brand shadow-sm\"\n                                    : \"text-secondary hover:bg-hover hover:text-primary\"\n                                }`}\n                            onClick={() => handleTabChange(tab.id)}\n                        >\n                            {tab.label}\n                        </button>\n                    ))}\n                </div>\n\n                {/* Export PDF Button */}\n                {showReport && onExportPdf && (\n                    <button\n                        onClick={onExportPdf}\n                        disabled={isExporting}\n                        className=\"flex items-center gap-2 px-3 py-2 text-sm text-secondary hover:text-primary hover:bg-hover rounded-lg transition-colors disabled:opacity-50\"\n                    >\n                        <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n                        </svg>\n                        {isExporting ? \"Exporting...\" : \"Export PDF\"}\n                    </button>\n                )}\n            </div>\n\n            {/* Content */}\n            <div className={`flex-1 overflow-y-auto p-6 transition-all duration-150 ${tabTransition ? 'opacity-0 translate-y-2' : 'opacity-100 translate-y-0'}`}>\n                {/* Empty State */}\n                {showEmptyState && (\n                    <div className=\"flex flex-col items-center justify-center h-full text-center text-muted\">\n                        <svg className=\"w-16 h-16 mb-4 opacity-50\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1.5\"\n                                d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                        </svg>\n                        <div className=\"text-lg font-semibold text-primary mb-2\">Ready when you are</div>\n                        <p>Upload or paste your resume to get recruiter-grade feedback in seconds.</p>\n                    </div>\n                )}\n\n                {/* Loading State */}\n                {showLoading && (\n                    <div className=\"flex flex-col items-center justify-center h-full text-center\">\n                        <div className=\"w-10 h-10 border-4 border-brand/20 border-t-brand rounded-full animate-spin mb-4\" />\n                        <div className=\"text-lg font-medium text-primary mb-1\">Reading your resume like a recruiter...</div>\n                        <p className=\"text-muted\">This usually takes 10-15 seconds</p>\n                    </div>\n                )}\n\n                {/* Report Content */}\n                {showReport && (\n                    <div className=\"max-w-3xl mx-auto space-y-6\">\n                        {/* Overview */}\n                        {activeTab === \"overview\" && (\n                            <>\n                                {/* Score Header */}\n                                <div className=\"flex items-start gap-6 p-6 bg-surface rounded-xl border border-subtle shadow-card\">\n                                    {/* Score Dial */}\n                                    <div className=\"flex flex-col items-center gap-2 flex-shrink-0\">\n                                        <div className=\"relative w-28 h-28\">\n                                            <svg viewBox=\"0 0 120 120\" className=\"w-full h-full -rotate-90\">\n                                                <circle cx=\"60\" cy=\"60\" r=\"54\" fill=\"none\" stroke=\"currentColor\" className=\"text-muted/30\" strokeWidth=\"8\" />\n                                                <circle\n                                                    cx=\"60\" cy=\"60\" r=\"54\" fill=\"none\"\n                                                    stroke={dialColor} strokeWidth=\"8\" strokeLinecap=\"round\"\n                                                    strokeDasharray=\"339.292\"\n                                                    strokeDashoffset={339.292 * (1 - animatedScore / 100)}\n                                                    className=\"transition-all duration-100\"\n                                                />\n                                            </svg>\n                                            <div\n                                                className=\"absolute inset-0 flex items-center justify-center font-display text-4xl font-extrabold\"\n                                                style={{ color: dialColor }}\n                                            >\n                                                {animatedScore}\n                                            </div>\n                                        </div>\n                                        <span className=\"text-xs font-medium text-muted uppercase tracking-wide\">Score</span>\n                                    </div>\n\n                                    {/* First Impression */}\n                                    <div className=\"flex-1\">\n                                        {firstImpressionText && (\n                                            <div>\n                                                <div className=\"flex items-center gap-2 mb-2\">\n                                                    <svg className=\"w-5 h-5 text-brand\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\n                                                        <path d=\"M12 5C16.478 5 20.268 7.405 22 11C20.268 14.595 16.478 17 12 17C7.522 17 3.732 14.595 2 11C3.732 7.405 7.522 5 12 5Z\" />\n                                                        <circle cx=\"12\" cy=\"11\" r=\"3\" />\n                                                    </svg>\n                                                    <span className=\"font-semibold text-primary\">Recruiter First Impression</span>\n                                                </div>\n                                                <p className=\"text-secondary leading-relaxed\">{firstImpressionText}</p>\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n\n                                {/* Subscores */}\n                                <div className=\"grid grid-cols-4 gap-3\">\n                                    {[\n                                        { key: 'impact', label: 'Impact', score: report.subscores?.impact },\n                                        { key: 'clarity', label: 'Clarity', score: report.subscores?.clarity },\n                                        { key: 'story', label: 'Story', score: report.subscores?.story },\n                                        { key: 'readability', label: 'Readability', score: report.subscores?.readability }\n                                    ].map(({ key, label, score }) => (\n                                        <div key={key} className=\"p-4 bg-surface rounded-lg border border-subtle text-center shadow-card\">\n                                            <div className={`text-2xl font-bold ${score ? getScoreColorClass(score) : 'text-muted'}`}>\n                                                {score || \"‚Äî\"}\n                                            </div>\n                                            <div className=\"text-xs text-muted mt-1\">{label}</div>\n                                            {score && (\n                                                <span className={`inline-block mt-2 px-2 py-0.5 rounded text-[10px] font-medium ${getScoreBgClass(score)}`}>\n                                                    {score >= 90 ? 'EXCEPTIONAL' : score >= 85 ? 'STRONG' : score >= 80 ? 'GOOD' : score >= 70 ? 'NEEDS WORK' : 'RISK'}\n                                                </span>\n                                            )}\n                                        </div>\n                                    ))}\n                                </div>\n\n                                {/* Strengths */}\n                                {report.strengths && report.strengths.length > 0 && (\n                                    <div className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                        <h3 className=\"flex items-center gap-2 font-semibold text-primary mb-3\">\n                                            <span className=\"text-success\">‚úì</span> What&apos;s Working\n                                        </h3>\n                                        <ul className=\"space-y-2\">\n                                            {report.strengths.map((s, i) => (\n                                                <li key={i} className=\"flex items-start gap-2 text-secondary\">\n                                                    <span className=\"text-success/70 mt-1\">‚Ä¢</span> {s}\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    </div>\n                                )}\n\n                                {/* Gaps */}\n                                {report.gaps && report.gaps.length > 0 && (\n                                    <div className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                        <h3 className=\"flex items-center gap-2 font-semibold text-primary mb-3\">\n                                            <span className=\"text-warning\">‚ö†</span> What&apos;s Missing\n                                        </h3>\n                                        <ul className=\"space-y-2\">\n                                            {report.gaps.map((g, i) => (\n                                                <li key={i} className=\"flex items-start gap-2 text-secondary\">\n                                                    <span className=\"text-warning/70 mt-1\">‚Ä¢</span> {g}\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    </div>\n                                )}\n                            </>\n                        )}\n\n                        {/* Top Fixes */}\n                        {activeTab === \"fixes\" && (\n                            <div className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                <h3 className=\"font-semibold text-primary mb-4\">Top Fixes ‚Äî Prioritized</h3>\n                                <div className=\"space-y-4\">\n                                    {/* Show top_fixes if available, otherwise fall back to gaps */}\n                                    {(report.top_fixes && report.top_fixes.length > 0) ? (\n                                        report.top_fixes.map((fix, i) => (\n                                            <div key={i} className=\"flex gap-4 p-4 bg-muted rounded-lg\">\n                                                <span className=\"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-brand-soft text-brand font-bold rounded-full\">\n                                                    {i + 1}\n                                                </span>\n                                                <div className=\"flex-1\">\n                                                    <p className=\"text-secondary\">{fix.fix || fix.text}</p>\n                                                    <div className=\"flex flex-wrap items-center gap-2 mt-2\">\n                                                        {fix.impact_level && (\n                                                            <span className={`text-xs ${fix.impact_level === 'high' ? 'text-secondary' : 'text-muted'}`}>\n                                                                Impact: {fix.impact_level}\n                                                            </span>\n                                                        )}\n                                                        {fix.effort && (\n                                                            <span className=\"text-xs text-muted\">\n                                                                Effort: {fix.effort}\n                                                            </span>\n                                                        )}\n                                                        {fix.section_ref && (\n                                                            <span className=\"text-xs text-muted bg-hover px-2 py-0.5 rounded\">\n                                                                {fix.section_ref}\n                                                            </span>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        ))\n                                    ) : (report.gaps && report.gaps.length > 0) ? (\n                                        report.gaps.map((gap, i) => (\n                                            <div key={i} className=\"flex gap-4 p-4 bg-muted rounded-lg\">\n                                                <span className=\"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-warning-soft text-warning font-bold rounded-full\">\n                                                    {i + 1}\n                                                </span>\n                                                <div className=\"flex-1\">\n                                                    <p className=\"text-secondary\">{gap}</p>\n                                                </div>\n                                            </div>\n                                        ))\n                                    ) : (\n                                        <p className=\"text-muted\">No fixes available</p>\n                                    )}\n                                </div>\n                            </div>\n                        )}\n\n                        {/* By Section */}\n                        {activeTab === \"sections\" && (\n                            <div className=\"space-y-4\">\n                                {report.section_review ? (\n                                    Object.entries(report.section_review).map(([sectionName, section], i) => (\n                                        <div key={i} className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                            <div className=\"flex items-center justify-between mb-3\">\n                                                <h4 className=\"font-semibold text-primary\">{sectionName}</h4>\n                                                {section.grade && (\n                                                    <span className={`px-2 py-1 text-xs font-bold rounded\n                                                        ${section.grade.includes('A') ? 'bg-success-soft text-success' :\n                                                            section.grade.includes('B') ? 'bg-brand-soft text-brand' :\n                                                                section.grade.includes('C') ? 'bg-warning-soft text-warning' : 'bg-danger-soft text-danger'}`}>\n                                                        {section.grade}\n                                                    </span>\n                                                )}\n                                            </div>\n                                            <div className=\"space-y-2 text-sm\">\n                                                {section.working && (\n                                                    <div className=\"flex gap-2\">\n                                                        <span className=\"text-success font-medium\">‚úì Working:</span>\n                                                        <span className=\"text-secondary\">{section.working}</span>\n                                                    </div>\n                                                )}\n                                                {section.missing && (\n                                                    <div className=\"flex gap-2\">\n                                                        <span className=\"text-warning font-medium\">‚ñ≥ Missing:</span>\n                                                        <span className=\"text-secondary\">{section.missing}</span>\n                                                    </div>\n                                                )}\n                                                {section.fix && (\n                                                    <div className=\"flex gap-2\">\n                                                        <span className=\"text-brand font-medium\">‚Üí Fix:</span>\n                                                        <span className=\"text-secondary\">{section.fix}</span>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    ))\n                                ) : (\n                                    <p className=\"text-muted text-center py-8\">Section analysis not available</p>\n                                )}\n                            </div>\n                        )}\n\n                        {/* Bullet Upgrades */}\n                        {activeTab === \"rewrites\" && (\n                            <div className=\"space-y-4\">\n                                {report.rewrites?.map((rw, i) => (\n                                    <div key={i} className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                        {rw.label && <div className=\"text-xs font-semibold text-brand uppercase mb-3\">{rw.label}</div>}\n                                        <div className=\"grid md:grid-cols-2 gap-4\">\n                                            <div className=\"p-4 bg-danger-soft rounded-lg\">\n                                                <div className=\"text-xs font-medium text-danger mb-2\">Original</div>\n                                                <p className=\"text-sm text-secondary\">{rw.original}</p>\n                                            </div>\n                                            <div className=\"p-4 bg-success-soft rounded-lg\">\n                                                <div className=\"text-xs font-medium text-success mb-2\">Better</div>\n                                                <p className=\"text-sm text-secondary\">{rw.better}</p>\n                                                {rw.enhancement_note && (\n                                                    <p className=\"text-xs text-success mt-2 italic\">{rw.enhancement_note}</p>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                )) || <p className=\"text-muted text-center py-8\">No rewrites available</p>}\n                            </div>\n                        )}\n\n                        {/* Job Alignment */}\n                        {activeTab === \"alignment\" && (\n                            <>\n                                {(report.job_alignment?.strongly_aligned?.length || report.job_alignment?.underplayed?.length || report.job_alignment?.missing?.length) ? (\n                                    <div className=\"space-y-4\">\n                                        <div className=\"grid md:grid-cols-3 gap-4\">\n                                            <div className=\"p-4 bg-success-soft rounded-lg\">\n                                                <h4 className=\"font-semibold text-success mb-2\">‚úì Strongly Aligned</h4>\n                                                <ul className=\"space-y-1 text-sm text-secondary\">\n                                                    {report.job_alignment?.strongly_aligned?.map((item, i) => <li key={i}>‚Ä¢ {item}</li>) || <li className=\"text-muted\">None found</li>}\n                                                </ul>\n                                            </div>\n                                            <div className=\"p-4 bg-warning-soft rounded-lg\">\n                                                <h4 className=\"font-semibold text-warning mb-2\">‚ö† Underplayed</h4>\n                                                <ul className=\"space-y-1 text-sm text-secondary\">\n                                                    {report.job_alignment?.underplayed?.map((item, i) => <li key={i}>‚Ä¢ {item}</li>) || <li className=\"text-muted\">None found</li>}\n                                                </ul>\n                                            </div>\n                                            <div className=\"p-4 bg-danger-soft rounded-lg\">\n                                                <h4 className=\"font-semibold text-danger mb-2\">‚úó Missing/Weak</h4>\n                                                <ul className=\"space-y-1 text-sm text-secondary\">\n                                                    {report.job_alignment?.missing?.map((item, i) => <li key={i}>‚Ä¢ {item}</li>) || <li className=\"text-muted\">None found</li>}\n                                                </ul>\n                                            </div>\n                                        </div>\n\n                                        {/* Role Fit */}\n                                        {report.job_alignment?.role_fit && (\n                                            <div className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                                <h4 className=\"font-semibold text-primary mb-4\">Where You Read Strongest</h4>\n                                                <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n                                                    <div>\n                                                        <div className=\"text-sm font-medium text-success mb-2\">Best Fit Roles</div>\n                                                        <div className=\"flex flex-wrap gap-2\">\n                                                            {report.job_alignment.role_fit.best_fit_roles?.map((role, i) => (\n                                                                <span key={i} className=\"px-3 py-1 bg-success-soft text-success text-sm rounded-full\">{role}</span>\n                                                            ))}\n                                                        </div>\n                                                    </div>\n                                                    <div>\n                                                        <div className=\"text-sm font-medium text-warning mb-2\">Stretch Roles</div>\n                                                        <div className=\"flex flex-wrap gap-2\">\n                                                            {report.job_alignment.role_fit.stretch_roles?.map((role, i) => (\n                                                                <span key={i} className=\"px-3 py-1 bg-warning-soft text-warning text-sm rounded-full\">{role}</span>\n                                                            ))}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                                                    {report.job_alignment.role_fit.seniority_read && (\n                                                        <div>\n                                                            <div className=\"text-muted mb-1\">Seniority Read</div>\n                                                            <div className=\"font-medium text-primary\">{report.job_alignment.role_fit.seniority_read}</div>\n                                                        </div>\n                                                    )}\n                                                    {report.job_alignment.role_fit.industry_signals && (\n                                                        <div>\n                                                            <div className=\"text-muted mb-1\">Industry Signals</div>\n                                                            <div className=\"font-medium text-primary\">{report.job_alignment.role_fit.industry_signals.join(\", \")}</div>\n                                                        </div>\n                                                    )}\n                                                    {report.job_alignment.role_fit.company_stage_fit && (\n                                                        <div>\n                                                            <div className=\"text-muted mb-1\">Company Stage Fit</div>\n                                                            <div className=\"font-medium text-primary\">{report.job_alignment.role_fit.company_stage_fit}</div>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        )}\n\n                                        {/* Positioning Recommendation */}\n                                        {report.job_alignment?.positioning_suggestion && (\n                                            <div className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                                <h4 className=\"font-semibold text-primary mb-3\">Positioning Recommendation</h4>\n                                                <p className=\"text-secondary leading-relaxed\">\n                                                    {report.job_alignment.positioning_suggestion}\n                                                </p>\n                                            </div>\n                                        )}\n                                    </div>\n                                ) : (\n                                    <div className=\"p-8 bg-surface rounded-xl border border-subtle text-center shadow-card\">\n                                        <div className=\"text-3xl mb-2\">üìã</div>\n                                        <p className=\"text-muted\">Add a job description to see alignment analysis</p>\n                                    </div>\n                                )}\n                            </>\n                        )}\n\n                        {/* Missing Wins */}\n                        {activeTab === \"wins\" && (\n                            <div className=\"p-5 bg-surface rounded-xl border border-subtle shadow-card\">\n                                <h3 className=\"font-semibold text-primary mb-2\">Surface Missing Wins</h3>\n                                <p className=\"text-muted text-sm mb-4\">\n                                    Answer these questions to uncover hidden impact your resume isn&apos;t telling yet:\n                                </p>\n                                <div className=\"space-y-3\">\n                                    {report.ideas?.questions?.map((q, i) => (\n                                        <div key={i} className=\"p-4 bg-brand-soft rounded-lg\">\n                                            <p className=\"font-medium text-primary mb-1\">{q.question}</p>\n                                            {q.archetype && <span className=\"inline-block text-xs bg-brand/10 text-brand px-2 py-0.5 rounded mr-2\">{q.archetype}</span>}\n                                            {q.why && <p className=\"text-sm text-secondary mt-2\">{q.why}</p>}\n                                        </div>\n                                    )) || report.next_steps?.map((step, i) => (\n                                        <div key={i} className=\"p-4 bg-muted rounded-lg\">\n                                            <p className=\"text-secondary\">{step}</p>\n                                        </div>\n                                    )) || <p className=\"text-muted\">No questions available</p>}\n                                </div>\n                                {report.ideas?.how_to_use && (\n                                    <p className=\"text-sm text-secondary mt-4 p-3 bg-muted rounded\">\n                                        <strong>How to use:</strong> {report.ideas.how_to_use}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,uEAAuE;AACvE,SAAS,mBAAmB,KAAa;IACrC,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,OAAO;AACX;AAEA,SAAS,cAAc,KAAa;IAChC,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,OAAO;AACX;AAEA,SAAS,gBAAgB,KAAa;IAClC,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,OAAO;AACX;AAmDA,MAAM,OAAuC;IACzC;QAAE,IAAI;QAAY,OAAO;IAAW;IACpC;QAAE,IAAI;QAAS,OAAO;IAAY;IAClC;QAAE,IAAI;QAAY,OAAO;IAAa;IACtC;QAAE,IAAI;QAAY,OAAO;IAAkB;IAC3C;QAAE,IAAI;QAAa,OAAO;IAAgB;IAC1C;QAAE,IAAI;QAAQ,OAAO;IAAe;CACvC;AAEc,SAAS,YAAY,EAAE,MAAM,EAAE,SAAS,EAAE,iBAAiB,EAAE,WAAW,EAAE,WAAW,EAAoB;IACpH,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wNAAQ,EAAQ;IAClD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wNAAQ,EAAC;IAEnD,qCAAqC;IACrC,MAAM,kBAAkB,CAAC;QACrB,IAAI,WAAW,WAAW;QAC1B,iBAAiB;QACjB,WAAW;YACP,aAAa;YACb,iBAAiB;QACrB,GAAG;IACP;IAEA,MAAM,iBAAiB,CAAC,UAAU,CAAC;IACnC,MAAM,cAAc;IACpB,MAAM,aAAa,UAAU,CAAC;IAE9B,iCAAiC;IACjC,MAAM,sBAAsB,QAAQ,sBAAsB,QAAQ,uBAAuB,QAAQ,oBAAoB,QAAQ;IAE7H,4BAA4B;IAC5B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wNAAQ,EAAC;IACnD,MAAM,eAAe,IAAA,sNAAM,EAAgB;IAE3C,IAAA,yNAAS,EAAC;QACN,MAAM,cAAc,QAAQ,SAAS;QACrC,IAAI,eAAe,GAAG;YAClB,iBAAiB;YACjB;QACJ;QAEA,MAAM,WAAW;QACjB,MAAM,YAAY,KAAK,GAAG;QAE1B,MAAM,UAAU;YACZ,MAAM,UAAU,KAAK,GAAG,KAAK;YAC7B,MAAM,WAAW,KAAK,GAAG,CAAC,UAAU,UAAU;YAC9C,MAAM,QAAQ,IAAI,KAAK,GAAG,CAAC,IAAI,UAAU;YACzC,MAAM,UAAU,KAAK,KAAK,CAAC,cAAc;YACzC,iBAAiB;YAEjB,IAAI,WAAW,GAAG;gBACd,aAAa,OAAO,GAAG,sBAAsB;YACjD,OAAO;gBACH,iBAAiB;YACrB;QACJ;QAEA,iBAAiB;QACjB,MAAM,YAAY,WAAW;YACzB,aAAa,OAAO,GAAG,sBAAsB;QACjD,GAAG;QAEH,OAAO;YACH,aAAa;YACb,IAAI,aAAa,OAAO,EAAE,qBAAqB,aAAa,OAAO;QACvE;IACJ,GAAG;QAAC,QAAQ;KAAM;IAElB,MAAM,YAAY,cAAc;IAEhC,qBACI,qPAAC;QAAI,WAAU;;0BAEX,qPAAC;gBAAI,WAAU;;kCACX,qPAAC;wBAAI,WAAU;kCACV,KAAK,GAAG,CAAC,CAAC,oBACP,qPAAC;gCAEG,WAAW,CAAC;4BACZ,EAAE,cAAc,IAAI,EAAE,GACZ,uCACA,oDACJ;gCACN,SAAS,IAAM,gBAAgB,IAAI,EAAE;0CAEpC,IAAI,KAAK;+BARL,IAAI,EAAE;;;;;;;;;;oBActB,cAAc,6BACX,qPAAC;wBACG,SAAS;wBACT,UAAU;wBACV,WAAU;;0CAEV,qPAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,SAAQ;gCAAY,QAAO;0CAC5D,cAAA,qPAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAY;oCAAI,GAAE;;;;;;;;;;;4BAExE,cAAc,iBAAiB;;;;;;;;;;;;;0BAM5C,qPAAC;gBAAI,WAAW,CAAC,uDAAuD,EAAE,gBAAgB,4BAA4B,6BAA6B;;oBAE9I,gCACG,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;gCAA4B,MAAK;gCAAO,SAAQ;gCAAY,QAAO;0CAC9E,cAAA,qPAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAY;oCAC3D,GAAE;;;;;;;;;;;0CAEV,qPAAC;gCAAI,WAAU;0CAA0C;;;;;;0CACzD,qPAAC;0CAAE;;;;;;;;;;;;oBAKV,6BACG,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;;;;;;0CACf,qPAAC;gCAAI,WAAU;0CAAwC;;;;;;0CACvD,qPAAC;gCAAE,WAAU;0CAAa;;;;;;;;;;;;oBAKjC,4BACG,qPAAC;wBAAI,WAAU;;4BAEV,cAAc,4BACX;;kDAEI,qPAAC;wCAAI,WAAU;;0DAEX,qPAAC;gDAAI,WAAU;;kEACX,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAI,SAAQ;gEAAc,WAAU;;kFACjC,qPAAC;wEAAO,IAAG;wEAAK,IAAG;wEAAK,GAAE;wEAAK,MAAK;wEAAO,QAAO;wEAAe,WAAU;wEAAgB,aAAY;;;;;;kFACvG,qPAAC;wEACG,IAAG;wEAAK,IAAG;wEAAK,GAAE;wEAAK,MAAK;wEAC5B,QAAQ;wEAAW,aAAY;wEAAI,eAAc;wEACjD,iBAAgB;wEAChB,kBAAkB,UAAU,CAAC,IAAI,gBAAgB,GAAG;wEACpD,WAAU;;;;;;;;;;;;0EAGlB,qPAAC;gEACG,WAAU;gEACV,OAAO;oEAAE,OAAO;gEAAU;0EAEzB;;;;;;;;;;;;kEAGT,qPAAC;wDAAK,WAAU;kEAAyD;;;;;;;;;;;;0DAI7E,qPAAC;gDAAI,WAAU;0DACV,qCACG,qPAAC;;sEACG,qPAAC;4DAAI,WAAU;;8EACX,qPAAC;oEAAI,WAAU;oEAAqB,SAAQ;oEAAY,MAAK;oEAAO,QAAO;oEAAe,aAAY;;sFAClG,qPAAC;4EAAK,GAAE;;;;;;sFACR,qPAAC;4EAAO,IAAG;4EAAK,IAAG;4EAAK,GAAE;;;;;;;;;;;;8EAE9B,qPAAC;oEAAK,WAAU;8EAA6B;;;;;;;;;;;;sEAEjD,qPAAC;4DAAE,WAAU;sEAAkC;;;;;;;;;;;;;;;;;;;;;;;kDAO/D,qPAAC;wCAAI,WAAU;kDACV;4CACG;gDAAE,KAAK;gDAAU,OAAO;gDAAU,OAAO,OAAO,SAAS,EAAE;4CAAO;4CAClE;gDAAE,KAAK;gDAAW,OAAO;gDAAW,OAAO,OAAO,SAAS,EAAE;4CAAQ;4CACrE;gDAAE,KAAK;gDAAS,OAAO;gDAAS,OAAO,OAAO,SAAS,EAAE;4CAAM;4CAC/D;gDAAE,KAAK;gDAAe,OAAO;gDAAe,OAAO,OAAO,SAAS,EAAE;4CAAY;yCACpF,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,iBACxB,qPAAC;gDAAc,WAAU;;kEACrB,qPAAC;wDAAI,WAAW,CAAC,mBAAmB,EAAE,QAAQ,mBAAmB,SAAS,cAAc;kEACnF,SAAS;;;;;;kEAEd,qPAAC;wDAAI,WAAU;kEAA2B;;;;;;oDACzC,uBACG,qPAAC;wDAAK,WAAW,CAAC,8DAA8D,EAAE,gBAAgB,QAAQ;kEACrG,SAAS,KAAK,gBAAgB,SAAS,KAAK,WAAW,SAAS,KAAK,SAAS,SAAS,KAAK,eAAe;;;;;;;+CAP9G;;;;;;;;;;oCAejB,OAAO,SAAS,IAAI,OAAO,SAAS,CAAC,MAAM,GAAG,mBAC3C,qPAAC;wCAAI,WAAU;;0DACX,qPAAC;gDAAG,WAAU;;kEACV,qPAAC;wDAAK,WAAU;kEAAe;;;;;;oDAAQ;;;;;;;0DAE3C,qPAAC;gDAAG,WAAU;0DACT,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,kBACtB,qPAAC;wDAAW,WAAU;;0EAClB,qPAAC;gEAAK,WAAU;0EAAuB;;;;;;4DAAQ;4DAAE;;uDAD5C;;;;;;;;;;;;;;;;oCASxB,OAAO,IAAI,IAAI,OAAO,IAAI,CAAC,MAAM,GAAG,mBACjC,qPAAC;wCAAI,WAAU;;0DACX,qPAAC;gDAAG,WAAU;;kEACV,qPAAC;wDAAK,WAAU;kEAAe;;;;;;oDAAQ;;;;;;;0DAE3C,qPAAC;gDAAG,WAAU;0DACT,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,kBACjB,qPAAC;wDAAW,WAAU;;0EAClB,qPAAC;gEAAK,WAAU;0EAAuB;;;;;;4DAAQ;4DAAE;;uDAD5C;;;;;;;;;;;;;;;;;;4BAWhC,cAAc,yBACX,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,qPAAC;wCAAI,WAAU;kDAEV,AAAC,OAAO,SAAS,IAAI,OAAO,SAAS,CAAC,MAAM,GAAG,IAC5C,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,kBACvB,qPAAC;gDAAY,WAAU;;kEACnB,qPAAC;wDAAK,WAAU;kEACX,IAAI;;;;;;kEAET,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAE,WAAU;0EAAkB,IAAI,GAAG,IAAI,IAAI,IAAI;;;;;;0EAClD,qPAAC;gEAAI,WAAU;;oEACV,IAAI,YAAY,kBACb,qPAAC;wEAAK,WAAW,CAAC,QAAQ,EAAE,IAAI,YAAY,KAAK,SAAS,mBAAmB,cAAc;;4EAAE;4EAChF,IAAI,YAAY;;;;;;;oEAGhC,IAAI,MAAM,kBACP,qPAAC;wEAAK,WAAU;;4EAAqB;4EACxB,IAAI,MAAM;;;;;;;oEAG1B,IAAI,WAAW,kBACZ,qPAAC;wEAAK,WAAU;kFACX,IAAI,WAAW;;;;;;;;;;;;;;;;;;;+CAnB1B;;;;wDA0Bd,AAAC,OAAO,IAAI,IAAI,OAAO,IAAI,CAAC,MAAM,GAAG,IACrC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,kBAClB,qPAAC;gDAAY,WAAU;;kEACnB,qPAAC;wDAAK,WAAU;kEACX,IAAI;;;;;;kEAET,qPAAC;wDAAI,WAAU;kEACX,cAAA,qPAAC;4DAAE,WAAU;sEAAkB;;;;;;;;;;;;+CAL7B;;;;sEAUd,qPAAC;4CAAE,WAAU;sDAAa;;;;;;;;;;;;;;;;;4BAOzC,cAAc,4BACX,qPAAC;gCAAI,WAAU;0CACV,OAAO,cAAc,GAClB,OAAO,OAAO,CAAC,OAAO,cAAc,EAAE,GAAG,CAAC,CAAC,CAAC,aAAa,QAAQ,EAAE,kBAC/D,qPAAC;wCAAY,WAAU;;0DACnB,qPAAC;gDAAI,WAAU;;kEACX,qPAAC;wDAAG,WAAU;kEAA8B;;;;;;oDAC3C,QAAQ,KAAK,kBACV,qPAAC;wDAAK,WAAW,CAAC;wDACd,EAAE,QAAQ,KAAK,CAAC,QAAQ,CAAC,OAAO,iCAC5B,QAAQ,KAAK,CAAC,QAAQ,CAAC,OAAO,6BAC1B,QAAQ,KAAK,CAAC,QAAQ,CAAC,OAAO,iCAAiC,8BAA8B;kEACpG,QAAQ,KAAK;;;;;;;;;;;;0DAI1B,qPAAC;gDAAI,WAAU;;oDACV,QAAQ,OAAO,kBACZ,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAK,WAAU;0EAA2B;;;;;;0EAC3C,qPAAC;gEAAK,WAAU;0EAAkB,QAAQ,OAAO;;;;;;;;;;;;oDAGxD,QAAQ,OAAO,kBACZ,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAK,WAAU;0EAA2B;;;;;;0EAC3C,qPAAC;gEAAK,WAAU;0EAAkB,QAAQ,OAAO;;;;;;;;;;;;oDAGxD,QAAQ,GAAG,kBACR,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAK,WAAU;0EAAyB;;;;;;0EACzC,qPAAC;gEAAK,WAAU;0EAAkB,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;uCA5BnD;;;;8DAmCd,qPAAC;oCAAE,WAAU;8CAA8B;;;;;;;;;;;4BAMtD,cAAc,4BACX,qPAAC;gCAAI,WAAU;0CACV,OAAO,QAAQ,EAAE,IAAI,CAAC,IAAI,kBACvB,qPAAC;wCAAY,WAAU;;4CAClB,GAAG,KAAK,kBAAI,qPAAC;gDAAI,WAAU;0DAAmD,GAAG,KAAK;;;;;;0DACvF,qPAAC;gDAAI,WAAU;;kEACX,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAI,WAAU;0EAAuC;;;;;;0EACtD,qPAAC;gEAAE,WAAU;0EAA0B,GAAG,QAAQ;;;;;;;;;;;;kEAEtD,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAI,WAAU;0EAAwC;;;;;;0EACvD,qPAAC;gEAAE,WAAU;0EAA0B,GAAG,MAAM;;;;;;4DAC/C,GAAG,gBAAgB,kBAChB,qPAAC;gEAAE,WAAU;0EAAoC,GAAG,gBAAgB;;;;;;;;;;;;;;;;;;;uCAX1E;;;;+DAgBR,qPAAC;oCAAE,WAAU;8CAA8B;;;;;;;;;;;4BAKxD,cAAc,6BACX;0CACK,AAAC,OAAO,aAAa,EAAE,kBAAkB,UAAU,OAAO,aAAa,EAAE,aAAa,UAAU,OAAO,aAAa,EAAE,SAAS,uBAC5H,qPAAC;oCAAI,WAAU;;sDACX,qPAAC;4CAAI,WAAU;;8DACX,qPAAC;oDAAI,WAAU;;sEACX,qPAAC;4DAAG,WAAU;sEAAkC;;;;;;sEAChD,qPAAC;4DAAG,WAAU;sEACT,OAAO,aAAa,EAAE,kBAAkB,IAAI,CAAC,MAAM,kBAAM,qPAAC;;wEAAW;wEAAG;;mEAAN;;;;2FAAqB,qPAAC;gEAAG,WAAU;0EAAa;;;;;;;;;;;;;;;;;8DAG3H,qPAAC;oDAAI,WAAU;;sEACX,qPAAC;4DAAG,WAAU;sEAAkC;;;;;;sEAChD,qPAAC;4DAAG,WAAU;sEACT,OAAO,aAAa,EAAE,aAAa,IAAI,CAAC,MAAM,kBAAM,qPAAC;;wEAAW;wEAAG;;mEAAN;;;;2FAAqB,qPAAC;gEAAG,WAAU;0EAAa;;;;;;;;;;;;;;;;;8DAGtH,qPAAC;oDAAI,WAAU;;sEACX,qPAAC;4DAAG,WAAU;sEAAiC;;;;;;sEAC/C,qPAAC;4DAAG,WAAU;sEACT,OAAO,aAAa,EAAE,SAAS,IAAI,CAAC,MAAM,kBAAM,qPAAC;;wEAAW;wEAAG;;mEAAN;;;;2FAAqB,qPAAC;gEAAG,WAAU;0EAAa;;;;;;;;;;;;;;;;;;;;;;;wCAMrH,OAAO,aAAa,EAAE,0BACnB,qPAAC;4CAAI,WAAU;;8DACX,qPAAC;oDAAG,WAAU;8DAAkC;;;;;;8DAChD,qPAAC;oDAAI,WAAU;;sEACX,qPAAC;;8EACG,qPAAC;oEAAI,WAAU;8EAAwC;;;;;;8EACvD,qPAAC;oEAAI,WAAU;8EACV,OAAO,aAAa,CAAC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,MAAM,kBACtD,qPAAC;4EAAa,WAAU;sFAA+D;2EAA5E;;;;;;;;;;;;;;;;sEAIvB,qPAAC;;8EACG,qPAAC;oEAAI,WAAU;8EAAwC;;;;;;8EACvD,qPAAC;oEAAI,WAAU;8EACV,OAAO,aAAa,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,kBACrD,qPAAC;4EAAa,WAAU;sFAA+D;2EAA5E;;;;;;;;;;;;;;;;;;;;;;8DAK3B,qPAAC;oDAAI,WAAU;;wDACV,OAAO,aAAa,CAAC,QAAQ,CAAC,cAAc,kBACzC,qPAAC;;8EACG,qPAAC;oEAAI,WAAU;8EAAkB;;;;;;8EACjC,qPAAC;oEAAI,WAAU;8EAA4B,OAAO,aAAa,CAAC,QAAQ,CAAC,cAAc;;;;;;;;;;;;wDAG9F,OAAO,aAAa,CAAC,QAAQ,CAAC,gBAAgB,kBAC3C,qPAAC;;8EACG,qPAAC;oEAAI,WAAU;8EAAkB;;;;;;8EACjC,qPAAC;oEAAI,WAAU;8EAA4B,OAAO,aAAa,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC;;;;;;;;;;;;wDAGtG,OAAO,aAAa,CAAC,QAAQ,CAAC,iBAAiB,kBAC5C,qPAAC;;8EACG,qPAAC;oEAAI,WAAU;8EAAkB;;;;;;8EACjC,qPAAC;oEAAI,WAAU;8EAA4B,OAAO,aAAa,CAAC,QAAQ,CAAC,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;wCAQ7G,OAAO,aAAa,EAAE,wCACnB,qPAAC;4CAAI,WAAU;;8DACX,qPAAC;oDAAG,WAAU;8DAAkC;;;;;;8DAChD,qPAAC;oDAAE,WAAU;8DACR,OAAO,aAAa,CAAC,sBAAsB;;;;;;;;;;;;;;;;;yDAM5D,qPAAC;oCAAI,WAAU;;sDACX,qPAAC;4CAAI,WAAU;sDAAgB;;;;;;sDAC/B,qPAAC;4CAAE,WAAU;sDAAa;;;;;;;;;;;;;4BAOzC,cAAc,wBACX,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,qPAAC;wCAAE,WAAU;kDAA0B;;;;;;kDAGvC,qPAAC;wCAAI,WAAU;kDACV,OAAO,KAAK,EAAE,WAAW,IAAI,CAAC,GAAG,kBAC9B,qPAAC;gDAAY,WAAU;;kEACnB,qPAAC;wDAAE,WAAU;kEAAiC,EAAE,QAAQ;;;;;;oDACvD,EAAE,SAAS,kBAAI,qPAAC;wDAAK,WAAU;kEAAwE,EAAE,SAAS;;;;;;oDAClH,EAAE,GAAG,kBAAI,qPAAC;wDAAE,WAAU;kEAA+B,EAAE,GAAG;;;;;;;+CAHrD;;;;yDAKR,OAAO,UAAU,EAAE,IAAI,CAAC,MAAM,kBAChC,qPAAC;gDAAY,WAAU;0DACnB,cAAA,qPAAC;oDAAE,WAAU;8DAAkB;;;;;;+CADzB;;;;uEAGR,qPAAC;4CAAE,WAAU;sDAAa;;;;;;;;;;;oCAEnC,OAAO,KAAK,EAAE,4BACX,qPAAC;wCAAE,WAAU;;0DACT,qPAAC;0DAAO;;;;;;4CAAoB;4CAAE,OAAO,KAAK,CAAC,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU7F"}},
    {"offset": {"line": 2232, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/workspace/HistorySidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\ninterface HistoryReport {\n    id: string;\n    createdAt: string;\n    score: number;\n    scoreLabel?: string;\n    resumeSnippet?: string;\n}\n\ninterface HistorySidebarProps {\n    isOpen: boolean;\n    onClose: () => void;\n    user?: { email?: string } | null;\n    onSignIn?: () => void;\n    onLoadReport?: (reportId: string) => void;\n}\n\nexport default function HistorySidebar({\n    isOpen,\n    onClose,\n    user,\n    onSignIn,\n    onLoadReport\n}: HistorySidebarProps) {\n    const [reports, setReports] = useState<HistoryReport[]>([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (isOpen && user?.email) {\n            setLoading(true);\n            fetch(\"/api/reports\")\n                .then(res => res.json())\n                .then(data => {\n                    if (data.ok && Array.isArray(data.reports)) {\n                        setReports(data.reports);\n                    }\n                })\n                .catch(console.error)\n                .finally(() => setLoading(false));\n        }\n    }, [isOpen, user?.email]);\n\n    const formatDate = (dateStr: string) => {\n        try {\n            return new Date(dateStr).toLocaleDateString(undefined, {\n                month: \"short\",\n                day: \"numeric\",\n                year: \"numeric\"\n            });\n        } catch {\n            return dateStr;\n        }\n    };\n\n    return (\n        <>\n            {/* Overlay */}\n            <div\n                className={`fixed inset-0 bg-black/40 z-[100] transition-opacity duration-300\n                    ${isOpen ? \"opacity-100\" : \"opacity-0 pointer-events-none\"}`}\n                onClick={onClose}\n            />\n\n            {/* Sidebar */}\n            <aside\n                className={`fixed top-0 right-0 w-[340px] max-w-full h-screen\n                    bg-surface shadow-modal z-[101] flex flex-col\n                    transition-transform duration-300 ease-out\n                    ${isOpen ? \"translate-x-0\" : \"translate-x-full\"}`}\n            >\n                <div className=\"flex items-center justify-between px-5 py-4 border-b border-subtle\">\n                    <span className=\"font-display text-lg font-bold text-primary\">Your Reports</span>\n                    <button\n                        onClick={onClose}\n                        aria-label=\"Close\"\n                        className=\"text-2xl text-muted hover:text-primary transition-colors p-1\"\n                    >\n                        √ó\n                    </button>\n                </div>\n\n                <div className=\"flex-1 p-5 overflow-y-auto\">\n                    {!user?.email ? (\n                        <div className=\"text-center py-10 text-muted\">\n                            <div className=\"text-5xl mb-4\">üìä</div>\n                            <div className=\"text-lg font-semibold text-primary mb-2\">\n                                Track your progress\n                            </div>\n                            <p className=\"mb-5\">\n                                Log in to save every analysis, track your score improvements, and compare different versions of your resume.\n                            </p>\n                            <button onClick={onSignIn} className=\"btn-primary w-full\">\n                                Log In to Save History\n                            </button>\n                        </div>\n                    ) : loading ? (\n                        <div className=\"text-center py-10 text-muted\">Loading...</div>\n                    ) : reports.length === 0 ? (\n                        <div className=\"text-center py-10 text-muted\">\n                            <div className=\"text-5xl mb-4\">üìã</div>\n                            <div className=\"text-lg font-semibold text-primary mb-2\">\n                                No reports yet\n                            </div>\n                            <p>Run an analysis to see your history here.</p>\n                        </div>\n                    ) : (\n                        <div className=\"space-y-3\">\n                            {reports.map((report) => (\n                                <div\n                                    key={report.id}\n                                    onClick={() => onLoadReport?.(report.id)}\n                                    className=\"p-4 bg-surface border border-subtle rounded-lg cursor-pointer\n                                        hover:border-brand transition-colors\"\n                                >\n                                    <div className=\"flex justify-between mb-2\">\n                                        <span className=\"font-semibold text-brand\">\n                                            Score: {report.score}\n                                        </span>\n                                        <span className=\"text-xs text-muted\">\n                                            {formatDate(report.createdAt)}\n                                        </span>\n                                    </div>\n                                    {report.resumeSnippet && (\n                                        <p className=\"text-xs text-muted leading-relaxed\">\n                                            {report.resumeSnippet.substring(0, 100)}...\n                                        </p>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </aside>\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAoBe,SAAS,eAAe,EACnC,MAAM,EACN,OAAO,EACP,IAAI,EACJ,QAAQ,EACR,YAAY,EACM;IAClB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAkB,EAAE;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IAEvC,IAAA,yNAAS,EAAC;QACN,IAAI,UAAU,MAAM,OAAO;YACvB,WAAW;YACX,MAAM,gBACD,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;gBACF,IAAI,KAAK,EAAE,IAAI,MAAM,OAAO,CAAC,KAAK,OAAO,GAAG;oBACxC,WAAW,KAAK,OAAO;gBAC3B;YACJ,GACC,KAAK,CAAC,QAAQ,KAAK,EACnB,OAAO,CAAC,IAAM,WAAW;QAClC;IACJ,GAAG;QAAC;QAAQ,MAAM;KAAM;IAExB,MAAM,aAAa,CAAC;QAChB,IAAI;YACA,OAAO,IAAI,KAAK,SAAS,kBAAkB,CAAC,WAAW;gBACnD,OAAO;gBACP,KAAK;gBACL,MAAM;YACV;QACJ,EAAE,OAAM;YACJ,OAAO;QACX;IACJ;IAEA,qBACI;;0BAEI,qPAAC;gBACG,WAAW,CAAC;oBACR,EAAE,SAAS,gBAAgB,iCAAiC;gBAChE,SAAS;;;;;;0BAIb,qPAAC;gBACG,WAAW,CAAC;;;oBAGR,EAAE,SAAS,kBAAkB,oBAAoB;;kCAErD,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAK,WAAU;0CAA8C;;;;;;0CAC9D,qPAAC;gCACG,SAAS;gCACT,cAAW;gCACX,WAAU;0CACb;;;;;;;;;;;;kCAKL,qPAAC;wBAAI,WAAU;kCACV,CAAC,MAAM,sBACJ,qPAAC;4BAAI,WAAU;;8CACX,qPAAC;oCAAI,WAAU;8CAAgB;;;;;;8CAC/B,qPAAC;oCAAI,WAAU;8CAA0C;;;;;;8CAGzD,qPAAC;oCAAE,WAAU;8CAAO;;;;;;8CAGpB,qPAAC;oCAAO,SAAS;oCAAU,WAAU;8CAAqB;;;;;;;;;;;mCAI9D,wBACA,qPAAC;4BAAI,WAAU;sCAA+B;;;;;mCAC9C,QAAQ,MAAM,KAAK,kBACnB,qPAAC;4BAAI,WAAU;;8CACX,qPAAC;oCAAI,WAAU;8CAAgB;;;;;;8CAC/B,qPAAC;oCAAI,WAAU;8CAA0C;;;;;;8CAGzD,qPAAC;8CAAE;;;;;;;;;;;iDAGP,qPAAC;4BAAI,WAAU;sCACV,QAAQ,GAAG,CAAC,CAAC,uBACV,qPAAC;oCAEG,SAAS,IAAM,eAAe,OAAO,EAAE;oCACvC,WAAU;;sDAGV,qPAAC;4CAAI,WAAU;;8DACX,qPAAC;oDAAK,WAAU;;wDAA2B;wDAC/B,OAAO,KAAK;;;;;;;8DAExB,qPAAC;oDAAK,WAAU;8DACX,WAAW,OAAO,SAAS;;;;;;;;;;;;wCAGnC,OAAO,aAAa,kBACjB,qPAAC;4CAAE,WAAU;;gDACR,OAAO,aAAa,CAAC,SAAS,CAAC,GAAG;gDAAK;;;;;;;;mCAf3C,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;AA0BlD"}},
    {"offset": {"line": 2467, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/workspace/PaywallModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\n\ntype Tier = \"24h\" | \"30d\";\n\ninterface PaywallModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    freeUsesRemaining?: number;\n    hasCurrentReport?: boolean;\n    onSuccess?: () => void;\n}\n\nexport default function PaywallModal({\n    isOpen,\n    onClose,\n    freeUsesRemaining = 0,\n    hasCurrentReport = false,\n    onSuccess\n}: PaywallModalProps) {\n    const { user } = useAuth();\n    const [selectedTier, setSelectedTier] = useState<Tier>(\"24h\");\n    const [email, setEmail] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    const isLoggedIn = !!user;\n\n    if (!isOpen) return null;\n\n    const getHeaderText = () => {\n        if (freeUsesRemaining === 2) {\n            return \"You have 2 free reviews left\";\n        } else if (freeUsesRemaining === 1) {\n            return \"You have 1 free review left\";\n        } else {\n            return \"You've used your free reviews. Pick a pass to keep going.\";\n        }\n    };\n\n    const handleCheckout = async () => {\n        setLoading(true);\n        setError(null);\n\n        const checkoutEmail = isLoggedIn ? user.email : email.trim();\n\n        if (!checkoutEmail) {\n            setError(\"Please enter your email\");\n            setLoading(false);\n            return;\n        }\n\n        try {\n            const res = await fetch(\"/api/checkout\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    tier: selectedTier,\n                    email: checkoutEmail\n                })\n            });\n\n            const result = await res.json();\n\n            if (result.ok && result.url) {\n                window.location.href = result.url;\n            } else {\n                setError(result.message || \"Failed to start checkout\");\n            }\n        } catch (err: any) {\n            setError(err.message || \"Something went wrong\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleClose = () => {\n        setEmail(\"\");\n        setError(null);\n        onClose();\n    };\n\n    return (\n        <div\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] p-5\"\n            onClick={(e) => e.target === e.currentTarget && handleClose()}\n        >\n            <div className=\"bg-surface rounded-2xl shadow-modal w-full max-w-[520px] p-8 relative max-h-[90vh] overflow-y-auto\">\n                <button\n                    onClick={handleClose}\n                    aria-label=\"Close\"\n                    className=\"absolute top-4 right-4 text-muted hover:text-primary transition-colors p-2\"\n                >\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                        <path d=\"M15 5L5 15M5 5L15 15\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                    </svg>\n                </button>\n\n                {/* Header */}\n                <div className=\"text-center mb-6\">\n                    <h2 className=\"font-display text-xl font-bold text-primary mb-2\">\n                        {getHeaderText()}\n                    </h2>\n                    <p className=\"text-muted\">\n                        Pick a pass that fits your timeline. No subscriptions.\n                    </p>\n                </div>\n\n                {/* Tier Selection */}\n                <div className=\"flex gap-4 mb-6\">\n                    <button\n                        type=\"button\"\n                        onClick={() => setSelectedTier(\"24h\")}\n                        className={`flex-1 p-5 rounded-xl text-center transition-all\n                            ${selectedTier === \"24h\"\n                                ? \"border-2 border-brand bg-brand-soft\"\n                                : \"border-2 border-subtle hover:border-brand\"\n                            }`}\n                    >\n                        <div className=\"inline-block px-3 py-1 text-[11px] font-semibold uppercase tracking-wide rounded bg-brand text-white mb-3\">\n                            Most popular\n                        </div>\n                        <div className=\"text-3xl font-extrabold text-brand mb-1\">$9</div>\n                        <div className=\"font-semibold text-primary mb-2\">24-Hour Fix Pass</div>\n                        <p className=\"text-xs text-muted leading-relaxed\">\n                            Unlimited reports for 24 hours.\n                        </p>\n                    </button>\n\n                    <button\n                        type=\"button\"\n                        onClick={() => setSelectedTier(\"30d\")}\n                        className={`flex-1 p-5 rounded-xl text-center transition-all\n                            ${selectedTier === \"30d\"\n                                ? \"border-2 border-success bg-success-soft\"\n                                : \"border-2 border-subtle hover:border-success\"\n                            }`}\n                    >\n                        <div className=\"inline-block px-3 py-1 text-[11px] font-semibold uppercase tracking-wide rounded bg-[var(--status-success)] text-white mb-3\">\n                            Best value\n                        </div>\n                        <div className=\"text-3xl font-extrabold text-success mb-1\">$39</div>\n                        <div className=\"font-semibold text-primary mb-2\">30-Day Campaign Pass</div>\n                        <p className=\"text-xs text-muted leading-relaxed\">\n                            Unlimited reports for 30 days.\n                        </p>\n                    </button>\n                </div>\n\n                {/* Checkout Section */}\n                <div className=\"bg-muted rounded-xl p-5 mb-4\">\n                    {isLoggedIn ? (\n                        <>\n                            <p className=\"text-sm text-secondary mb-4\">\n                                You&apos;re getting this pass for <strong className=\"text-primary\">{user.email}</strong>\n                            </p>\n                            <button\n                                type=\"button\"\n                                onClick={handleCheckout}\n                                disabled={loading}\n                                className=\"btn-primary w-full\"\n                            >\n                                {loading ? \"Processing...\" : `Get ${selectedTier === \"24h\" ? \"24-Hour\" : \"30-Day\"} Pass ‚Üí`}\n                            </button>\n                        </>\n                    ) : (\n                        <>\n                            <label className=\"block text-sm font-medium text-secondary mb-2\">\n                                Your email\n                            </label>\n                            <input\n                                type=\"email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                                placeholder=\"you@example.com\"\n                                className=\"input mb-4\"\n                            />\n                            <button\n                                type=\"button\"\n                                onClick={handleCheckout}\n                                disabled={loading || !email.trim()}\n                                className=\"btn-primary w-full\"\n                            >\n                                {loading ? \"Processing...\" : `Continue to checkout ‚Üí`}\n                            </button>\n                            <p className=\"text-xs text-muted text-center mt-3\">\n                                Your email links your pass to any device.\n                            </p>\n                        </>\n                    )}\n                </div>\n\n                {error && (\n                    <div className=\"text-danger text-sm text-center mb-4\">\n                        {error}\n                    </div>\n                )}\n\n                {hasCurrentReport && (\n                    <p className=\"text-center text-xs text-muted mb-2\">\n                        Your current report stays here while you upgrade.\n                    </p>\n                )}\n\n                <p className=\"text-center text-xs text-muted\">\n                    üîí No recurring charges ‚Ä¢ Instant access\n                </p>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2810, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/shared/AuthModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { createSupabaseBrowserClient } from \"@/lib/supabase/browserClient\";\n\ninterface AuthModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onSuccess?: () => void;\n}\n\nexport default function AuthModal({ isOpen, onClose, onSuccess }: AuthModalProps) {\n    const [email, setEmail] = useState(\"\");\n    const [code, setCode] = useState(\"\");\n    const [firstName, setFirstName] = useState(\"\");\n    const [step, setStep] = useState<\"email\" | \"code\" | \"name\">(\"email\");\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [isNewUser, setIsNewUser] = useState(false);\n\n    if (!isOpen) return null;\n\n    const handleSendCode = async () => {\n        if (!email.trim()) {\n            setError(\"Please enter your email\");\n            return;\n        }\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            const res = await fetch(\"/api/auth/send-code\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ email: email.trim() })\n            });\n            const data = await res.json();\n\n            if (data.ok) {\n                setStep(\"code\");\n            } else {\n                setError(data.message || \"Failed to send code\");\n            }\n        } catch (err) {\n            setError(\"Something went wrong. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleVerifyCode = async () => {\n        if (!code.trim()) {\n            setError(\"Please enter the code\");\n            return;\n        }\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            const res = await fetch(\"/api/auth/verify-code\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ email: email.trim(), code: code.trim() })\n            });\n            const data = await res.json();\n\n            if (data.ok) {\n                // Check if user already has a first name set\n                if (data.user?.firstName) {\n                    // Existing user with name - done!\n                    onSuccess?.();\n                    onClose();\n                } else {\n                    // New user or no name yet - ask for name\n                    setIsNewUser(true);\n                    setStep(\"name\");\n                }\n            } else {\n                setError(data.message || \"Invalid code\");\n            }\n        } catch (err) {\n            setError(\"Something went wrong. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSaveName = async () => {\n        if (!firstName.trim()) {\n            setError(\"Please enter your first name\");\n            return;\n        }\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            const supabase = createSupabaseBrowserClient();\n            const { error: updateError } = await supabase.auth.updateUser({\n                data: { first_name: firstName.trim() }\n            });\n\n            if (updateError) {\n                setError(updateError.message);\n                return;\n            }\n\n            onSuccess?.();\n            onClose();\n        } catch (err) {\n            setError(\"Something went wrong. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleClose = () => {\n        setEmail(\"\");\n        setCode(\"\");\n        setFirstName(\"\");\n        setStep(\"email\");\n        setError(null);\n        setIsNewUser(false);\n        onClose();\n    };\n\n    return (\n        <div\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] p-5\"\n            onClick={(e) => e.target === e.currentTarget && handleClose()}\n        >\n            <div className=\"bg-surface rounded-2xl shadow-modal w-full max-w-[400px] p-8 relative\">\n                <button\n                    onClick={handleClose}\n                    aria-label=\"Close\"\n                    className=\"absolute top-4 right-4 text-muted hover:text-primary transition-colors p-2\"\n                >\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                        <path d=\"M15 5L5 15M5 5L15 15\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n                    </svg>\n                </button>\n\n                <div className=\"text-center mb-6\">\n                    <h2 className=\"font-display text-xl font-bold text-primary mb-2\">\n                        {step === \"email\" && \"Sign in or create account\"}\n                        {step === \"code\" && \"Check your email\"}\n                        {step === \"name\" && \"One last thing\"}\n                    </h2>\n                    <p className=\"text-muted text-sm\">\n                        {step === \"email\" && \"We'll send you a login code. No password needed.\"}\n                        {step === \"code\" && `We sent an 8-digit code to ${email}`}\n                        {step === \"name\" && \"What should we call you?\"}\n                    </p>\n                </div>\n\n                {step === \"email\" && (\n                    <div className=\"space-y-4\">\n                        <input\n                            type=\"email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            placeholder=\"you@example.com\"\n                            className=\"input\"\n                            autoFocus\n                            onKeyDown={(e) => e.key === \"Enter\" && handleSendCode()}\n                        />\n\n                        {error && (\n                            <div className=\"text-danger text-sm text-center\">{error}</div>\n                        )}\n\n                        <button\n                            onClick={handleSendCode}\n                            disabled={loading}\n                            className=\"btn-primary w-full\"\n                        >\n                            {loading ? \"Sending...\" : \"Send Code\"}\n                        </button>\n                    </div>\n                )}\n\n                {step === \"code\" && (\n                    <div className=\"space-y-4\">\n                        <input\n                            type=\"text\"\n                            value={code}\n                            onChange={(e) => setCode(e.target.value.replace(/\\D/g, \"\").slice(0, 8))}\n                            placeholder=\"00000000\"\n                            className=\"input text-center text-2xl tracking-widest font-mono\"\n                            autoFocus\n                            onKeyDown={(e) => e.key === \"Enter\" && handleVerifyCode()}\n                        />\n\n                        {error && (\n                            <div className=\"text-danger text-sm text-center\">{error}</div>\n                        )}\n\n                        <button\n                            onClick={handleVerifyCode}\n                            disabled={loading || code.length !== 8}\n                            className=\"btn-primary w-full\"\n                        >\n                            {loading ? \"Verifying...\" : \"Verify Code\"}\n                        </button>\n\n                        <button\n                            onClick={() => { setStep(\"email\"); setCode(\"\"); setError(null); }}\n                            className=\"btn-ghost w-full text-sm\"\n                        >\n                            Use a different email\n                        </button>\n                    </div>\n                )}\n\n                {step === \"name\" && (\n                    <div className=\"space-y-4\">\n                        <input\n                            type=\"text\"\n                            value={firstName}\n                            onChange={(e) => setFirstName(e.target.value)}\n                            placeholder=\"Your first name\"\n                            className=\"input\"\n                            autoFocus\n                            onKeyDown={(e) => e.key === \"Enter\" && handleSaveName()}\n                        />\n\n                        {error && (\n                            <div className=\"text-danger text-sm text-center\">{error}</div>\n                        )}\n\n                        <button\n                            onClick={handleSaveName}\n                            disabled={loading || !firstName.trim()}\n                            className=\"btn-primary w-full\"\n                        >\n                            {loading ? \"Saving...\" : \"Continue\"}\n                        </button>\n\n                        <button\n                            onClick={() => {\n                                // Skip name - just close\n                                onSuccess?.();\n                                onClose();\n                            }}\n                            className=\"btn-ghost w-full text-sm\"\n                        >\n                            Skip for now\n                        </button>\n                    </div>\n                )}\n\n                <p className=\"text-center text-xs text-muted mt-4\">\n                    By continuing, you agree to our Terms and Privacy Policy.\n                </p>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3171, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/lib/api.ts"],"sourcesContent":["export type ResumeFeedbackRequest = {\n  text: string;\n  jobDescription?: string;\n  mode?: \"resume\" | \"resume_ideas\";\n};\n\nexport type ResumeFeedbackResponse = {\n  ok: true;\n  data: {\n    score?: number;\n    score_label?: string;\n    summary?: string;\n    strengths?: string[];\n    gaps?: string[];\n    rewrites?: Array<{ label?: string; original?: string; better?: string; enhancement_note?: string }>;\n    job_alignment?: {\n      strongly_aligned?: string[];\n      underplayed?: string[];\n      missing?: string[];\n    };\n    missing_wins?: string[];\n    next_steps?: string[];\n  };\n  free_uses_remaining?: number;\n  access_tier?: string;\n  access?: string;\n};\n\nexport type ResumeFeedbackError = {\n  ok: false;\n  message?: string;\n  errorCode?: string;\n  free_uses_remaining?: number;\n};\n\nexport async function postResumeFeedback(\n  payload: ResumeFeedbackRequest\n): Promise<ResumeFeedbackResponse | ResumeFeedbackError> {\n  const res = await fetch(`/api/resume-feedback`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    credentials: \"include\",\n    body: JSON.stringify({\n      text: payload.text,\n      jobDescription: payload.jobDescription,\n      mode: payload.mode || \"resume\"\n    })\n  });\n\n  const data = await res.json();\n  return data;\n}\n\nexport async function parseResume(formData: FormData): Promise<{ ok: boolean; text?: string; message?: string }> {\n  const res = await fetch(`/api/parse-resume`, {\n    method: \"POST\",\n    body: formData\n  });\n  const data = await res.json();\n  return data;\n}\n\nexport async function createCheckoutSession(tier: \"24h\" | \"30d\" = \"24h\"): Promise<{ ok: boolean; url?: string; message?: string }> {\n  const res = await fetch(`/api/create-checkout-session`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    credentials: \"include\",\n    body: JSON.stringify({ tier })\n  });\n  const data = await res.json();\n  return data;\n}\n\n// Wrapper for postResumeFeedback that returns data in format expected by WorkspaceClient\nexport async function createResumeFeedback(resumeText: string, jobDescription?: string): Promise<{ ok: boolean; report?: any; message?: string }> {\n  const result = await postResumeFeedback({\n    text: resumeText,\n    jobDescription,\n    mode: \"resume\"\n  });\n\n  console.log(\"[createResumeFeedback] API response:\", result);\n\n  if (result.ok) {\n    // The backend returns the report data in `data` property\n    return {\n      ok: true,\n      report: result.data\n    };\n  }\n\n  return {\n    ok: false,\n    message: result.message || \"Failed to generate report\"\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;AAmCO,eAAe,mBACpB,OAA8B;IAE9B,MAAM,MAAM,MAAM,MAAM,CAAC,oBAAoB,CAAC,EAAE;QAC9C,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,aAAa;QACb,MAAM,KAAK,SAAS,CAAC;YACnB,MAAM,QAAQ,IAAI;YAClB,gBAAgB,QAAQ,cAAc;YACtC,MAAM,QAAQ,IAAI,IAAI;QACxB;IACF;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO;AACT;AAEO,eAAe,YAAY,QAAkB;IAClD,MAAM,MAAM,MAAM,MAAM,CAAC,iBAAiB,CAAC,EAAE;QAC3C,QAAQ;QACR,MAAM;IACR;IACA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO;AACT;AAEO,eAAe,sBAAsB,OAAsB,KAAK;IACrE,MAAM,MAAM,MAAM,MAAM,CAAC,4BAA4B,CAAC,EAAE;QACtD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,aAAa;QACb,MAAM,KAAK,SAAS,CAAC;YAAE;QAAK;IAC9B;IACA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO;AACT;AAGO,eAAe,qBAAqB,UAAkB,EAAE,cAAuB;IACpF,MAAM,SAAS,MAAM,mBAAmB;QACtC,MAAM;QACN;QACA,MAAM;IACR;IAEA,QAAQ,GAAG,CAAC,wCAAwC;IAEpD,IAAI,OAAO,EAAE,EAAE;QACb,yDAAyD;QACzD,OAAO;YACL,IAAI;YACJ,QAAQ,OAAO,IAAI;QACrB;IACF;IAEA,OAAO;QACL,IAAI;QACJ,SAAS,OAAO,OAAO,IAAI;IAC7B;AACF"}},
    {"offset": {"line": 3242, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/components/workspace/WorkspaceClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback, useEffect } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\nimport WorkspaceHeader from \"@/components/workspace/WorkspaceHeader\";\nimport InputPanel from \"@/components/workspace/InputPanel\";\nimport ReportPanel from \"@/components/workspace/ReportPanel\";\nimport HistorySidebar from \"@/components/workspace/HistorySidebar\";\nimport PaywallModal from \"@/components/workspace/PaywallModal\";\nimport AuthModal from \"@/components/shared/AuthModal\";\nimport { createResumeFeedback, parseResume } from \"@/lib/api\";\n\nexport default function WorkspaceClient() {\n    const searchParams = useSearchParams();\n    const { user, signOut, refreshUser } = useAuth();\n    const [resumeText, setResumeText] = useState(\"\");\n    const [jobDescription, setJobDescription] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [report, setReport] = useState<any>(null);\n    const [freeUsesRemaining, setFreeUsesRemaining] = useState(2);\n\n    // History sidebar, paywall modal, and auth modal state\n    const [isHistoryOpen, setIsHistoryOpen] = useState(false);\n    const [isPaywallOpen, setIsPaywallOpen] = useState(false);\n    const [isAuthOpen, setIsAuthOpen] = useState(false);\n\n    // Auto-load sample report if ?sample=true\n    useEffect(() => {\n        if (searchParams.get(\"sample\") === \"true\" && !report) {\n            fetch(\"/sample-report.json\")\n                .then(res => res.json())\n                .then(data => setReport(data))\n                .catch(err => console.error(\"Failed to load sample report:\", err));\n        }\n    }, [searchParams, report]);\n\n    // Handle successful payment redirect\n    useEffect(() => {\n        const paymentStatus = searchParams.get(\"payment\");\n        const tier = searchParams.get(\"tier\");\n\n        if (paymentStatus === \"success\") {\n            // Show success message\n            const tierLabel = tier === \"30d\" ? \"30-Day Campaign Pass\" : \"24-Hour Fix Pass\";\n            alert(`üéâ Payment successful! Your ${tierLabel} is now active.\\n\\nYou now have unlimited resume reviews. Log in to access your pass!`);\n\n            // Clean URL params\n            window.history.replaceState({}, \"\", \"/workspace\");\n\n            // If not logged in, prompt to sign in\n            if (!user) {\n                setTimeout(() => {\n                    setIsAuthOpen(true);\n                }, 500);\n            } else {\n                // Refresh user to get updated pass status\n                refreshUser?.();\n            }\n        }\n    }, [searchParams, user, refreshUser]);\n\n    const handleFileSelect = useCallback(async (file: File) => {\n        console.log(\"[WorkspaceClient] handleFileSelect called with:\", file.name, file.type);\n        try {\n            setIsLoading(true);\n            const formData = new FormData();\n            formData.append(\"file\", file);\n\n            const result = await parseResume(formData);\n            console.log(\"[WorkspaceClient] parseResume result:\", result);\n            if (result.ok && result.text) {\n                setResumeText(result.text);\n            } else {\n                console.error(\"Failed to parse resume:\", result.message);\n                alert(\"Failed to parse resume: \" + (result.message || \"Unknown error\"));\n            }\n        } catch (err) {\n            console.error(\"File parsing error:\", err);\n            alert(\"File parsing error. Check console for details.\");\n        } finally {\n            setIsLoading(false);\n        }\n    }, []);\n\n    const handleRun = useCallback(async () => {\n        console.log(\"[WorkspaceClient] handleRun called, resumeText length:\", resumeText.length);\n        if (!resumeText.trim()) return;\n\n        // Check if free uses exhausted (and user doesn't have active pass)\n        if (freeUsesRemaining <= 0) {\n            setIsPaywallOpen(true);\n            return;\n        }\n\n        setIsLoading(true);\n        setReport(null);\n\n        try {\n            console.log(\"[WorkspaceClient] Calling createResumeFeedback...\");\n            const result = await createResumeFeedback(resumeText, jobDescription || undefined);\n            console.log(\"[WorkspaceClient] createResumeFeedback result:\", result);\n\n            if (result.ok && result.report) {\n                console.log(\"[WorkspaceClient] Setting report:\", result.report);\n                setReport(result.report);\n                setFreeUsesRemaining((prev) => Math.max(0, prev - 1));\n            } else {\n                console.error(\"Failed to generate report:\", result.message);\n                alert(\"Failed to generate report: \" + (result.message || \"Unknown error\"));\n            }\n        } catch (err) {\n            console.error(\"Report generation error:\", err);\n            alert(\"Report generation error. Check console for details.\");\n        } finally {\n            setIsLoading(false);\n        }\n    }, [resumeText, jobDescription]);\n\n    const handleNewReport = useCallback(() => {\n        setResumeText(\"\");\n        setJobDescription(\"\");\n        setReport(null);\n    }, []);\n\n    const handleSampleReport = useCallback(async () => {\n        // Load sample report\n        try {\n            const res = await fetch(\"/sample-report.json\");\n            const data = await res.json();\n            setReport(data);\n        } catch (err) {\n            console.error(\"Failed to load sample report:\", err);\n        }\n    }, []);\n\n    // PDF export state\n    const [isExporting, setIsExporting] = useState(false);\n\n    const handleExportPdf = useCallback(async () => {\n        if (!report) return;\n\n        setIsExporting(true);\n        try {\n            const response = await fetch(\"/api/export-pdf\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ report }),\n            });\n\n            if (!response.ok) {\n                const error = await response.json().catch(() => ({}));\n                alert(error.message || \"Failed to export PDF\");\n                return;\n            }\n\n            // Download PDF\n            const blob = await response.blob();\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\"a\");\n            a.href = url;\n            a.download = \"resume-report.pdf\";\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            URL.revokeObjectURL(url);\n        } catch (err) {\n            console.error(\"PDF export error:\", err);\n            alert(\"Failed to export PDF\");\n        } finally {\n            setIsExporting(false);\n        }\n    }, [report]);\n\n    // Fetch free status on mount\n    useEffect(() => {\n        fetch(\"/api/free-status\")\n            .then(res => res.json())\n            .then(data => {\n                if (data.free_uses_left !== undefined) {\n                    setFreeUsesRemaining(data.free_uses_left);\n                }\n            })\n            .catch(err => console.error(\"Failed to fetch free status:\", err));\n    }, []);\n\n\n    return (\n        <>\n            <main className=\"min-h-screen flex flex-col bg-body\">\n                <h1 className=\"sr-only\">Resume Workspace ‚Äî Analyze Your Resume</h1>\n\n                <WorkspaceHeader\n                    user={user ? { email: user.email || undefined, firstName: user.firstName || undefined } : null}\n                    onNewReport={handleNewReport}\n                    onSampleReport={handleSampleReport}\n                    onSignIn={() => setIsAuthOpen(true)}\n                    onSignOut={signOut}\n                    onHistory={() => setIsHistoryOpen(true)}\n                />\n\n                <div className={`flex-1 grid ${report ? \"grid-cols-1\" : \"grid-cols-1 lg:grid-cols-2\"}`}>\n                    {/* Input Panel - hidden when report is showing */}\n                    <div className={`${report ? \"hidden\" : \"block\"} h-full`}>\n                        <InputPanel\n                            resumeText={resumeText}\n                            jobDescription={jobDescription}\n                            onResumeTextChange={setResumeText}\n                            onJobDescChange={setJobDescription}\n                            onFileSelect={handleFileSelect}\n                            onRun={handleRun}\n                            isLoading={isLoading}\n                            freeUsesRemaining={freeUsesRemaining}\n                        />\n                    </div>\n\n                    <ReportPanel\n                        report={report}\n                        isLoading={isLoading}\n                        hasJobDescription={!!jobDescription.trim()}\n                        onExportPdf={handleExportPdf}\n                        isExporting={isExporting}\n                    />\n                </div>\n            </main>\n\n\n            {/* History Sidebar */}\n            <HistorySidebar\n                isOpen={isHistoryOpen}\n                onClose={() => setIsHistoryOpen(false)}\n                user={user ? { email: user.email || undefined } : null}\n                onSignIn={() => {\n                    setIsHistoryOpen(false);\n                    setIsAuthOpen(true);\n                }}\n                onLoadReport={async (reportId) => {\n                    console.log(\"Load report:\", reportId);\n                    setIsHistoryOpen(false);\n                    setIsLoading(true);\n                    try {\n                        const res = await fetch(`/api/reports/${reportId}`);\n                        const data = await res.json();\n                        if (data.ok && data.report) {\n                            setReport(data.report);\n                        } else {\n                            console.error(\"Failed to load report:\", data.message);\n                            alert(\"Failed to load report: \" + (data.message || \"Unknown error\"));\n                        }\n                    } catch (err) {\n                        console.error(\"Report load error:\", err);\n                        alert(\"Failed to load report\");\n                    } finally {\n                        setIsLoading(false);\n                    }\n                }}\n            />\n\n            {/* Paywall Modal */}\n            <PaywallModal\n                isOpen={isPaywallOpen}\n                onClose={() => setIsPaywallOpen(false)}\n                freeUsesRemaining={freeUsesRemaining}\n                onSuccess={() => {\n                    setIsPaywallOpen(false);\n                    // Refresh free uses count\n                }}\n            />\n\n            {/* Auth Modal */}\n            <AuthModal\n                isOpen={isAuthOpen}\n                onClose={() => setIsAuthOpen(false)}\n                onSuccess={async () => {\n                    await refreshUser();\n                    setIsAuthOpen(false);\n                }}\n            />\n        </>\n    );\n}\n\n"],"names":[],"mappings":"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"}}]
}