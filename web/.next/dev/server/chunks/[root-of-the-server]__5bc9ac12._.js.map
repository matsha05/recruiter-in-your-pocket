{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/lib/env.ts"],"sourcesContent":["function missing(name: string): never {\n  throw new Error(`Missing environment variable: ${name}`);\n}\n\nexport function getSupabaseUrl(): string {\n  return process.env.NEXT_PUBLIC_SUPABASE_URL || missing(\"NEXT_PUBLIC_SUPABASE_URL\");\n}\n\nexport function getSupabaseAnonKey(): string {\n  return process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || missing(\"NEXT_PUBLIC_SUPABASE_ANON_KEY\");\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;;AAAA,SAAS,QAAQ,IAAY;IAC3B,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,MAAM;AACzD;AAEO,SAAS;IACd,OAAO,gFAAwC,QAAQ;AACzD;AAEO,SAAS;IACd,OAAO,wPAA6C,QAAQ;AAC9D"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/lib/supabase/serverClient.ts"],"sourcesContent":["import { cookies } from \"next/headers\";\nimport { createServerClient } from \"@supabase/ssr\";\nimport { getSupabaseAnonKey, getSupabaseUrl } from \"../env\";\n\n/**\n * Read-only Supabase client for Server Components\n * Use for auth checks, data reads; no cookie writes allowed\n * NOTE: This is now async due to Next.js 16 changes\n */\nexport async function createSupabaseServerClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient(getSupabaseUrl(), getSupabaseAnonKey(), {\n    cookies: {\n      get(name: string) {\n        return cookieStore.get(name)?.value;\n      }\n      // No set/remove: read-only in Server Components\n    }\n  });\n}\n\n/**\n * Full read-write Supabase client for Server Actions and Route Handlers\n * Use when you need to mutate auth state (sign in/out, refresh)\n * NOTE: This is now async due to Next.js 16 changes\n */\nexport async function createSupabaseServerAction() {\n  const cookieStore = await cookies();\n\n  return createServerClient(getSupabaseUrl(), getSupabaseAnonKey(), {\n    cookies: {\n      get(name: string) {\n        return cookieStore.get(name)?.value;\n      },\n      set(name: string, value: string, options: any) {\n        cookieStore.set({ name, value, ...options });\n      },\n      remove(name: string, options: any) {\n        cookieStore.set({ name, value: \"\", ...options });\n      }\n    }\n  });\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;;;;AAOO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mJAAO;IAEjC,OAAO,IAAA,wMAAkB,EAAC,IAAA,qIAAc,KAAI,IAAA,yIAAkB,KAAI;QAChE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;QAEF;IACF;AACF;AAOO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mJAAO;IAEjC,OAAO,IAAA,wMAAkB,EAAC,IAAA,qIAAc,KAAI,IAAA,yIAAkB,KAAI;QAChE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAY;gBAC3C,YAAY,GAAG,CAAC;oBAAE;oBAAM;oBAAO,GAAG,OAAO;gBAAC;YAC5C;YACA,QAAO,IAAY,EAAE,OAAY;gBAC/B,YAAY,GAAG,CAAC;oBAAE;oBAAM,OAAO;oBAAI,GAAG,OAAO;gBAAC;YAChD;QACF;IACF;AACF"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/matsha05/Desktop/dev/recruiter-in-your-pocket/web/app/api/auth/verify-code/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { createSupabaseServerAction } from \"@/lib/supabase/serverClient\";\n\nexport async function POST(request: NextRequest) {\n    try {\n        const { email, code } = await request.json();\n\n        if (!email || !code) {\n            return NextResponse.json(\n                { ok: false, message: \"Email and code are required\" },\n                { status: 400 }\n            );\n        }\n\n        const supabase = await createSupabaseServerAction();\n\n        // Verify OTP code\n        const { data, error } = await supabase.auth.verifyOtp({\n            email: email.trim(),\n            token: code.trim(),\n            type: \"email\"\n        });\n\n        if (error) {\n            console.error(\"Supabase verify error:\", error);\n            return NextResponse.json(\n                { ok: false, message: error.message },\n                { status: 400 }\n            );\n        }\n\n        if (!data.user) {\n            return NextResponse.json(\n                { ok: false, message: \"Verification failed\" },\n                { status: 400 }\n            );\n        }\n\n        // Return user info\n        return NextResponse.json({\n            ok: true,\n            user: {\n                id: data.user.id,\n                email: data.user.email,\n                firstName: data.user.user_metadata?.first_name || null\n            }\n        });\n    } catch (error) {\n        console.error(\"Verify code error:\", error);\n        return NextResponse.json(\n            { ok: false, message: \"Failed to verify code\" },\n            { status: 500 }\n        );\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE1C,IAAI,CAAC,SAAS,CAAC,MAAM;YACjB,OAAO,uJAAY,CAAC,IAAI,CACpB;gBAAE,IAAI;gBAAO,SAAS;YAA8B,GACpD;gBAAE,QAAQ;YAAI;QAEtB;QAEA,MAAM,WAAW,MAAM,IAAA,sKAA0B;QAEjD,kBAAkB;QAClB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,SAAS,CAAC;YAClD,OAAO,MAAM,IAAI;YACjB,OAAO,KAAK,IAAI;YAChB,MAAM;QACV;QAEA,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO,uJAAY,CAAC,IAAI,CACpB;gBAAE,IAAI;gBAAO,SAAS,MAAM,OAAO;YAAC,GACpC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,IAAI,CAAC,KAAK,IAAI,EAAE;YACZ,OAAO,uJAAY,CAAC,IAAI,CACpB;gBAAE,IAAI;gBAAO,SAAS;YAAsB,GAC5C;gBAAE,QAAQ;YAAI;QAEtB;QAEA,mBAAmB;QACnB,OAAO,uJAAY,CAAC,IAAI,CAAC;YACrB,IAAI;YACJ,MAAM;gBACF,IAAI,KAAK,IAAI,CAAC,EAAE;gBAChB,OAAO,KAAK,IAAI,CAAC,KAAK;gBACtB,WAAW,KAAK,IAAI,CAAC,aAAa,EAAE,cAAc;YACtD;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,uJAAY,CAAC,IAAI,CACpB;YAAE,IAAI;YAAO,SAAS;QAAwB,GAC9C;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}